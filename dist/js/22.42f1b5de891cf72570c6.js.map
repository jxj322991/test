{"version":3,"sources":["webpack:///./src/components/showRolePermissions.vue","webpack:///src/components/showRolePermissions.vue","webpack:///./src/components/showRolePermissions.vue?4c18","webpack:///./src/views/contents/permission/editUserDialog.vue","webpack:///src/views/contents/permission/editUserDialog.vue","webpack:///./src/views/contents/permission/editUserDialog.vue?bdde","webpack:///src/views/contents/permission/userManage.vue","webpack:///./src/views/contents/permission/userManage.vue","webpack:///./src/views/contents/permission/userManage.vue?7866","webpack:///./src/components/showRolePermissions.vue?3ce5","webpack:///./src/views/contents/permission/editUserDialog.vue?3352","webpack:///./src/views/contents/permission/userManage.vue?da5d","webpack:///./src/components/showRolePermissions.vue?c438","webpack:///./src/components/showRolePermissions.vue?b324","webpack:///./src/views/contents/permission/editUserDialog.vue?6344","webpack:///./src/views/contents/permission/editUserDialog.vue?5f31","webpack:///./src/views/contents/permission/userManage.vue?9cd4","webpack:///./src/views/contents/permission/userManage.vue?c6c4"],"names":["l","Object","j","a","data","allPermissions","rolePermissions","defaultProps","children","label","expandAll","props","methods","hoverRolePermissions","b","this","console","log","f","ajax","url","type","dataType","contentType","roleId","success","permissions","$refs","tree","setCheckedKeys","error","$message","message","$createElement","c","_self","_c","staticClass","ref","attrs","placement","width","trigger","_v","_s","roleName","permTree","show-checkbox","node-key","default-expand-all","default-checked-keys","directives","name","rawName","arg","size","icon","on","click","exports","o","addUserDialogVisible","form","email","id","rules","required","max","formLabelWidth","parentId","childPerms","components","computed","disabled","addOrEdit","status","mounted","getMenu","closeDialog","ruleForm","resetFields","$emit","getUserInfo","preEmail","addOrEditFn","$alert","confirmButtonText","callback","list","watch","editUserDialogVisible","title","dialogTitle","show-close","close-on-click-modal","close","model","value","expression","prop","label-width","auto-complete","$set","_l","rolesMenu","key","slot","dialogBtn","p","DataTable","g","TabPage","h","EditUser","Common","dataTable","pageSize","pageSizes","queryParams","emptyText","roles","filters","statusFilter","0","1","tabPage","openTabPage","slotName","closable","getRoles","search","e","resetForm","openEditPage","openPasswordPage","$confirm","cancelButtonText","then","history","catch","openDeletePage","editDialogClosed","r","staticStyle","data-table","float","inline","placeholder","clearable","scopedSlots","_u","fn","_f","row","flag","isReset","d","i","locals","default","n","push","version","sources","names","mappings","file","sourcesContent"],"mappings":"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","file":"dist/js/22.42f1b5de891cf72570c6.js","sourcesContent":["import { render, staticRenderFns } from \"./showRolePermissions.vue?vue&type=template&id=468068b6&scoped=true&\"\nimport script from \"./showRolePermissions.vue?vue&type=script&lang=js&\"\nexport * from \"./showRolePermissions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./showRolePermissions.vue?vue&type=style&index=0&id=468068b6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"468068b6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <span class=\"pop-container\">\r\n        <el-popover ref=\"popover\" placement=\"top-start\" width=\"350\" trigger=\"click\">\r\n            <h2 class=\"role-name\">报表权限：{{roleName}}</h2>\r\n            <!--<div class=\"checkbox1\">-->\r\n                <!--<el-checkbox-group v-model=\"rolePermissions\">-->\r\n                    <!--<ul>-->\r\n                        <!--<li v-for=\"perms1 in permTree\">-->\r\n                            <!--<el-checkbox :label=\"perms1.id\" :key=\"perms1.id\" disabled class=\"firstCheckbox\">-->\r\n                                <!--{{perms1.name}}-->\r\n                            <!--</el-checkbox>-->\r\n                            <!--<template v-if=\"perms1.type == 'MENU'\">-->\r\n                                <!--<template v-for=\"perms2 in perms1.childTree\">-->\r\n                                    <!--<el-checkbox :label=\"perms2.id\" :key=\"perms2.id\" disabled class=\"secondCheckbox\">-->\r\n                                        <!--{{perms2.name}}-->\r\n                                    <!--</el-checkbox>-->\r\n                                    <!--<template v-if=\"perms2.type == 'MENU'\">-->\r\n                                        <!--<el-checkbox v-for=\"perms3 in perms2.childPerms\" :key=\"perms3.id\"-->\r\n                                                     <!--:label=\"perms3.id\" disabled-->\r\n                                                     <!--class=\"thirdCheckbox\">{{perms3.name}}-->\r\n                                        <!--</el-checkbox>-->\r\n                                    <!--</template>-->\r\n                                <!--</template>-->\r\n                            <!--</template>-->\r\n                        <!--</li>-->\r\n                    <!--</ul>-->\r\n                <!--</el-checkbox-group>-->\r\n            <!--</div>-->\r\n            <el-tree\r\n                class=\"self-tree\"\r\n                ref=\"tree\"\r\n                :data=\"permTree\"\r\n                show-checkbox\r\n                node-key=\"id\"\r\n                :default-expand-all=\"expandAll\"\r\n                :default-checked-keys=\"rolePermissions\"\r\n                :props=\"defaultProps\">\r\n                </el-tree>\r\n        </el-popover>\r\n        <el-button type=\"text\" size=\"mini\" class=\"detail-info\" icon=\"information\" v-popover:popover\r\n                   @click=\"hoverRolePermissions(roleId)\">详情</el-button>\r\n    </span>\r\n</template>\r\n<script>\r\n    import Common from '../utils/common'\r\n    export default{\r\n        data(){\r\n            return {\r\n            \tallPermissions:[],\r\n                rolePermissions: [],\r\n                defaultProps: {\r\n                    children: 'childTree',\r\n                    label: 'name'\r\n                },\r\n                expandAll:true,\r\n            }\r\n        },\r\n        props: ['permTree','roleId','roleName'],\r\n\r\n        methods: {\r\n            hoverRolePermissions(id){\r\n                console.log(123);\r\n                Common.ajax({\r\n                    url: '/web/v1/permission/getTreeByRole',\r\n                    type: 'POST',\r\n                    dataType: 'json',\r\n                    contentType: \"application/json\",\r\n                    data: {\r\n                        roleId: id\r\n                    },\r\n                    success: (response) => {\r\n                        this.rolePermissions = response.data ? response.data.permissions : '';\r\n                        this.$refs.tree.setCheckedKeys(this.rolePermissions);\r\n                    },\r\n                    error: (response) => {\r\n                        this.$message({\r\n                            message: response.message,\r\n                            type: 'warning'\r\n                        });\r\n                    }\r\n                });\r\n            },\r\n        },\r\n    }\r\n</script>\r\n<style scoped>\r\n    .role-name{\r\n        margin: 5px;\r\n        margin-bottom: 10px;\r\n        text-decoration: underline;\r\n    }\r\n    .el-tree{\r\n        border:none;\r\n    }\r\n    .checkbox1, ul {\r\n        overflow: hidden;\r\n    }\r\n\r\n    .checkbox1 li {\r\n        float: left;\r\n        margin-right: 15px;\r\n        width: 150px;\r\n    }\r\n\r\n    .checkbox1 .el-checkbox-group .el-checkbox {\r\n        height: 20px;\r\n        line-height: 20px;\r\n        margin-bottom: 0px;\r\n        display: block;\r\n        border-left: 1px solid #000;\r\n        padding-left: 5px;\r\n    }\r\n\r\n    .checkbox1 .el-checkbox-group .firstCheckbox {\r\n        border-left: none;\r\n    }\r\n\r\n    .checkbox1 .el-checkbox-group .secondCheckbox {\r\n        margin-left: 12px;\r\n    }\r\n    .detail-info{\r\n        margin-top: -5px ;\r\n    }\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"pop-container\"},[_c('el-popover',{ref:\"popover\",attrs:{\"placement\":\"top-start\",\"width\":\"350\",\"trigger\":\"click\"}},[_c('h2',{staticClass:\"role-name\"},[_vm._v(\"报表权限：\"+_vm._s(_vm.roleName))]),_vm._v(\" \"),_c('el-tree',{ref:\"tree\",staticClass:\"self-tree\",attrs:{\"data\":_vm.permTree,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-expand-all\":_vm.expandAll,\"default-checked-keys\":_vm.rolePermissions,\"props\":_vm.defaultProps}})],1),_vm._v(\" \"),_c('el-button',{directives:[{name:\"popover\",rawName:\"v-popover:popover\",arg:\"popover\"}],staticClass:\"detail-info\",attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"information\"},on:{\"click\":function($event){return _vm.hoverRolePermissions(_vm.roleId)}}},[_vm._v(\"详情\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./editUserDialog.vue?vue&type=template&id=7c10cbb6&scoped=true&\"\nimport script from \"./editUserDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./editUserDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editUserDialog.vue?vue&type=style&index=0&id=7c10cbb6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c10cbb6\",\n  null\n  \n)\n\nexport default component.exports","<!--\r\n * @Description: \r\n * @Author: jinxiaojian\r\n * @Email: jinxiaojian@youxin.com\r\n * @Date: 2019-07-12 16:17:33\r\n * @LastEditTime: 2019-07-16 16:57:52\r\n * @LastEditors: 靳肖健\r\n -->\r\n<template>\r\n  <el-dialog\r\n    :title=\"addOrEdit.dialogTitle\"\r\n    v-model=\"editUserDialogVisible\"\r\n    width=\"50%\"\r\n    :show-close=\"false\"\r\n    @close=\"closeDialog\"\r\n    :close-on-click-modal=\"false\"\r\n  >\r\n    <el-form :model=\"form\" :rules=\"rules\" ref=\"ruleForm\">\r\n      <el-form-item label=\"邮箱\" prop=\"email\" :label-width=\"formLabelWidth\">\r\n        <!--<template v-if=\"addOrEdit.status == 0\">-->\r\n        <!--<span>{{preEmail}}</span>-->\r\n        <!--</template>-->\r\n        <!--<template v-if=\"addOrEdit.status == 1\">-->\r\n        <!--<el-input v-model=\"form.email\" auto-complete=\"off\"></el-input>-->\r\n        <!--</template>-->\r\n        <el-input v-model=\"form.email\" :disabled=\"disabled\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"姓名\" prop=\"name\" :label-width=\"formLabelWidth\">\r\n        <el-input v-model=\"form.name\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"角色\" prop=\"roleId\" :label-width=\"formLabelWidth\">\r\n        <el-radio-group v-model=\"form.roleId\">\r\n          <div v-for=\"item in rolesMenu\" :key=\"item.value\">\r\n            <el-radio :key=\"item.value\" :label=\"item.value\">\r\n              {{item.label}}\r\n              <role-permissions :permTree=\"permTree\" :roleId=\"item.value\" :roleName=\"item.label\"></role-permissions>\r\n            </el-radio>\r\n          </div>\r\n\r\n          <!--<el-radio v-for=\"item in rolesMenu\" :key=\"item.value\"-->\r\n          <!--:label=\"item.value\" v-popover:popover >-->\r\n          <!--{{item.label}}-->\r\n          <!--</el-radio>-->\r\n        </el-radio-group>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"closeDialog\">&nbsp;&nbsp;取消&nbsp;&nbsp;</el-button>\r\n      <el-button\r\n        type=\"primary\"\r\n        @click=\"addOrEditFn(addOrEdit.status)\"\r\n      >&nbsp;&nbsp;{{addOrEdit.dialogBtn}}&nbsp;&nbsp;</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n<style scoped>\r\n.el-dialog__header {\r\n  padding: 20px 20px 0;\r\n  text-align: center;\r\n}\r\n\r\n.el-radio-group .el-radio {\r\n  display: block;\r\n  margin: 5px 0;\r\n}\r\n\r\n.checkbox1,\r\nul {\r\n  overflow: hidden;\r\n}\r\n\r\n.checkbox1 li {\r\n  float: left;\r\n  margin-right: 15px;\r\n  width: 100px;\r\n}\r\n\r\n.checkbox1 .el-checkbox-group .el-checkbox {\r\n  height: 20px;\r\n  line-height: 20px;\r\n  margin-bottom: 0px;\r\n  display: block;\r\n  border-left: 1px solid #000;\r\n  padding-left: 5px;\r\n}\r\n\r\n.checkbox1 .el-checkbox-group .firstCheckbox {\r\n  border-left: none;\r\n}\r\n\r\n.checkbox1 .el-checkbox-group .secondCheckbox {\r\n  margin-left: 12px;\r\n}\r\n</style>\r\n<style>\r\n</style>\r\n<script>\r\nimport Common from \"../../../utils/common\";\r\nimport rolePermissions from \"../../../components/showRolePermissions.vue\";\r\nexport default {\r\n  props: [\r\n    \"editUserDialogVisible\",\r\n    \"editDialogClosed\",\r\n    \"preEmail\",\r\n    \"addOrEdit\",\r\n    \"rolesMenu\",\r\n  ],\r\n  data() {\r\n    return {\r\n      addUserDialogVisible: false,\r\n      form: {\r\n        name: \"\",\r\n        email: \"\",\r\n        roleId: \"\",\r\n        id: \"\",\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: \"请输入用户名称\", trigger: \"blur\" },\r\n          { max: 50, message: \"长度最多50个字符\", trigger: \"blur\" },\r\n        ],\r\n        email: [\r\n          { required: true, message: \"请输入邮箱地址\", trigger: \"blur\" },\r\n          {\r\n            type: \"email\",\r\n            message: \"请输入正确的邮箱地址\",\r\n            trigger: \"blur,change\",\r\n          },\r\n        ],\r\n        roleId: [\r\n          { required: true, message: \"请选择用户角色\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      formLabelWidth: \"60px\",\r\n      permTree: [\r\n        {\r\n          //权限树\r\n          name: \"\",\r\n          parentId: \"\",\r\n          childPerms: [\r\n            {\r\n              name: \"\",\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      rolePermissions: [],\r\n    };\r\n  },\r\n  components: {\r\n    rolePermissions,\r\n  },\r\n  computed: {\r\n    disabled: function() {\r\n      return !this.addOrEdit.status;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getMenu();\r\n  },\r\n  methods: {\r\n    closeDialog() {\r\n      this.$refs[\"ruleForm\"].resetFields();\r\n      this.form = {\r\n        name: \"\",\r\n        email: \"\",\r\n        roleId: \"\",\r\n        id: \"\",\r\n      };\r\n      this.$emit(\"editDialogClosed\");\r\n    },\r\n\r\n    getUserInfo() {\r\n      Common.ajax({\r\n        url: \"/web/v1/user/query\",\r\n        type: \"POST\",\r\n        dataType: \"json\",\r\n        contentType: \"application/json\",\r\n        data: {\r\n          email: this.preEmail,\r\n        },\r\n        success: response => {\r\n          let result = response.data;\r\n          if (result) {\r\n            this.form.roleId = result.roleId;\r\n            this.form.name = result.name;\r\n            this.form.email = result.email;\r\n            this.form.id = result.id;\r\n          }\r\n        },\r\n        error: response => {\r\n          this.$message({\r\n            message: response.message,\r\n            type: \"warning\",\r\n          });\r\n        },\r\n      });\r\n    },\r\n\r\n    addOrEditFn(flag) {\r\n      let url;\r\n      if (!this.form.name) {\r\n        this.$message(\"请输入用户名称\");\r\n        return false;\r\n      }\r\n      if (!this.form.email) {\r\n        this.$message(\"请输入用户邮箱\");\r\n        return false;\r\n      }\r\n      if (!this.form.roleId) {\r\n        this.$message(\"请选择用户角色\");\r\n        return false;\r\n      }\r\n      if (flag == 1) {\r\n        //新建\r\n        url = \"/web/v1/user/add\";\r\n      } else {\r\n        url = \"/web/v1/user/edit\";\r\n      }\r\n      Common.ajax({\r\n        url: url,\r\n        type: \"post\",\r\n        data: {\r\n          email: this.form.email,\r\n          name: this.form.name,\r\n          roleId: this.form.roleId,\r\n        },\r\n        dataType: \"json\",\r\n        contentType: \"application/json\",\r\n        success: response => {\r\n          this.$alert(response.message, \"\", {\r\n            type: \"success\",\r\n            confirmButtonText: \"知道了\",\r\n            callback: action => {\r\n              this.closeDialog();\r\n            },\r\n          });\r\n        },\r\n        error: response => {\r\n          this.$message({\r\n            message: response.message,\r\n            type: \"warning\",\r\n          });\r\n        },\r\n      });\r\n    },\r\n\r\n    getMenu() {\r\n      Common.ajax({\r\n        url: \"/web/v1/permission/getTree/true\",\r\n        type: \"POST\",\r\n        dataType: \"json\",\r\n        success: response => {\r\n          this.permTree = response.data ? response.data.list : \"\";\r\n        },\r\n        error: response => {\r\n          this.$message({\r\n            message: response.message,\r\n            type: \"warning\",\r\n          });\r\n        },\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    editUserDialogVisible: function(val) {\r\n      if (val && this.preEmail) {\r\n        this.getUserInfo();\r\n      }\r\n    },\r\n    preEmail: function(val) {\r\n      this.form.email = val;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.addOrEdit.dialogTitle,\"width\":\"50%\",\"show-close\":false,\"close-on-click-modal\":false},on:{\"close\":_vm.closeDialog},model:{value:(_vm.editUserDialogVisible),callback:function ($$v) {_vm.editUserDialogVisible=$$v},expression:\"editUserDialogVisible\"}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"disabled\":_vm.disabled,\"auto-complete\":\"off\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色\",\"prop\":\"roleId\",\"label-width\":_vm.formLabelWidth}},[_c('el-radio-group',{model:{value:(_vm.form.roleId),callback:function ($$v) {_vm.$set(_vm.form, \"roleId\", $$v)},expression:\"form.roleId\"}},_vm._l((_vm.rolesMenu),function(item){return _c('div',{key:item.value},[_c('el-radio',{key:item.value,attrs:{\"label\":item.value}},[_vm._v(\"\\n            \"+_vm._s(item.label)+\"\\n            \"),_c('role-permissions',{attrs:{\"permTree\":_vm.permTree,\"roleId\":item.value,\"roleName\":item.label}})],1)],1)}),0)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeDialog}},[_vm._v(\"  取消  \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addOrEditFn(_vm.addOrEdit.status)}}},[_vm._v(\"  \"+_vm._s(_vm.addOrEdit.dialogBtn)+\"  \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Author: 焦丙乾(jiaobingqian)\r\n * @Email: jiaobq123@163.com\r\n * @Date: 2019-07-15 18:33:54\r\n * @LastEditTime: 2019-07-17 19:41:38\r\n * @LastEditors: 王娇(wangjiao)\r\n -->\r\n<template>\r\n  <tab-page ref=\"tabPage\">\r\n    <template slot=\"userManage\">\r\n      <data-table :data-table=\"dataTable\" ref=\"dataTable\" style=\"width: 100%\">\r\n        <div slot=\"conditions\">\r\n          <el-form :inline=\"true\" ref=\"ruleForm\" :model=\"queryParams\" style=\"width:80%;float:left;\">\r\n            <el-form-item prop=\"name\">\r\n              <el-input v-model=\"queryParams.name\" placeholder=\"姓名\" size=\"small\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"email\">\r\n              <el-input v-model=\"queryParams.email\" placeholder=\"邮箱\" size=\"small\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"roleId\">\r\n              <el-select v-model=\"queryParams.roleId\" clearable placeholder=\"角色\">\r\n                <el-option\r\n                  v-for=\"item in roles\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"search\" size=\"small\">&nbsp;&nbsp;查询&nbsp;&nbsp;</el-button>\r\n              <el-button type=\"primary\" @click=\"resetForm\" size=\"small\">&nbsp;&nbsp;重置 &nbsp;&nbsp;</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            @click=\"openEditPage(0,1)\"\r\n            style=\"float:right;\"\r\n          >&nbsp;&nbsp;新建 &nbsp;&nbsp;</el-button>\r\n        </div>\r\n\r\n        <template slot=\"columns\">\r\n          <el-table-column prop=\"id\" label=\"序号\" style=\"width: 6%\"></el-table-column>\r\n          <el-table-column prop=\"name\" label=\"姓名\" style=\"width: 10%\"></el-table-column>\r\n          <el-table-column prop=\"email\" label=\"邮箱\" style=\"width: 12%\"></el-table-column>\r\n          <el-table-column prop=\"roleName\" label=\"角色\" style=\"width: 12%\"></el-table-column>\r\n          <el-table-column label=\"状态\" width=\"90\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag :type=\"scope.row.flag | statusFilter\">{{scope.row.flag == 0?'使用中':'已失效'}}</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"密码状态\" width=\"90\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag :type=\"scope.row.isReset | statusFilter\">{{scope.row.isReset == 0?'正常':'已重置'}}</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" size=\"small\" @click=\"openEditPage(scope.row,0)\">编辑</el-button>\r\n              <el-button type=\"text\" size=\"small\" @click=\"openPasswordPage(scope.row)\">密码重置</el-button>\r\n              <el-button type=\"text\" size=\"small\" @click=\"openDeletePage(scope.row)\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </template>\r\n      </data-table>\r\n      <edit-user\r\n        :editUserDialogVisible=\"editUserDialogVisible\"\r\n        v-on:editDialogClosed=\"editDialogClosed\"\r\n        :rolesMenu=\"roles\"\r\n        :preEmail=\"preEmail\"\r\n        :addOrEdit=\"addOrEdit\"\r\n      ></edit-user>\r\n    </template>\r\n  </tab-page>\r\n</template>\r\n<style scoped>\r\n.el-table th > .cell {\r\n  text-align: center;\r\n}\r\n\r\n.create {\r\n  float: right;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.mb-10 {\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n<script>\r\nimport Common from '../../../utils/common';\r\nimport DataTable from '../../../components/DataTable';\r\nimport TabPage from '../../../components/TabPage';\r\nimport EditUser from '../permission/editUserDialog.vue';\r\n\r\nexport default {\r\n  components: {\r\n    DataTable,\r\n    TabPage,\r\n    EditUser,\r\n    Common\r\n  },\r\n  data() {\r\n    return {\r\n      addOrEdit: {\r\n        status: '',\r\n        dialogTitle: '',\r\n        dialogBtn: ''\r\n      },\r\n      editUserDialogVisible: false, // 编辑用户窗口\r\n      preEmail: '',\r\n      dataTable: {\r\n        pageSize: 30,\r\n        pageSizes: [30, 60, 90, 100],\r\n        url: '/web/v1/user/queryRoleUsers',\r\n        queryParams: {},\r\n        emptyText: '没有记录'\r\n      },\r\n      queryParams: {\r\n        name: '',\r\n        email: '',\r\n        roleId: ''\r\n      },\r\n      roles: []\r\n    };\r\n  },\r\n  filters: {\r\n    statusFilter(item) {\r\n      const itemsMap = {\r\n        0: 'success',\r\n        1: 'error'\r\n      };\r\n      return itemsMap[item];\r\n    }\r\n  },\r\n  mounted() {\r\n    var defaultPage = {\r\n      label: '用户管理',\r\n      name: 'userManage',\r\n      slotName: 'userManage',\r\n      closable: false\r\n    };\r\n    this.$refs.tabPage.openTabPage(defaultPage);\r\n    this.getRoles();\r\n  },\r\n  methods: {\r\n    search() {\r\n      Object.assign(this.dataTable.queryParams, this.queryParams);\r\n      this.$refs.dataTable.$emit('load-data');\r\n    },\r\n    resetForm() {\r\n      this.$refs.ruleForm.resetFields();\r\n    },\r\n    getRoles() {\r\n      Common.ajax({\r\n        url: '/web/v1/role/menu',\r\n        type: 'post',\r\n        dataType: 'json',\r\n        contentType: 'application/json',\r\n        success: response => {\r\n          this.roles = response.data.list;\r\n        },\r\n        error: response => {\r\n          this.$message({\r\n            message: response.message,\r\n            type: 'warning'\r\n          });\r\n        }\r\n      });\r\n    },\r\n    openEditPage(obj, flag) {\r\n      this.editUserDialogVisible = true;\r\n\r\n      this.preEmail = obj.email || '';\r\n\r\n      this.addOrEdit.status = flag;\r\n      this.addOrEdit.dialogTitle = flag ? '新建' : '编辑';\r\n      this.addOrEdit.dialogBtn = flag ? '确定' : '保存';\r\n    },\r\n\r\n    openPasswordPage(obj) {\r\n      let self = this;\r\n      this.$confirm('是否确认重置密码?', '提示', {\r\n        confirmButtonText: '确认',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          Common.ajax({\r\n            url: '/web/v1/user/initUserPassword',\r\n            type: 'post',\r\n            dataType: 'json',\r\n            data: { email: obj.email },\r\n            contentType: 'application/json',\r\n            success(response) {\r\n              self.$alert('重置成功', '', {\r\n                type: 'success',\r\n                confirmButtonText: '知道了',\r\n                callback: action => {\r\n                  self.$refs.dataTable.$emit('load-data');\r\n                  self.$refs.history && this.$refs.history.$emit('load-data');\r\n                }\r\n              });\r\n            },\r\n            error(response) {\r\n              self.$message({\r\n                message: response.message,\r\n                type: 'warning'\r\n              });\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    openDeletePage(obj) {\r\n      let self = this;\r\n      this.$confirm('是否确认删除用户?', '提示', {\r\n        confirmButtonText: '确认',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          Common.ajax({\r\n            url: '/web/v1/user/delete',\r\n            type: 'post',\r\n            data: { id: obj.id },\r\n            contentType: 'application/json',\r\n            success(response) {\r\n              self.$alert('删除成功', '', {\r\n                type: 'success',\r\n                confirmButtonText: '知道了',\r\n                callback: action => {\r\n                  self.$refs.dataTable.$emit('load-data');\r\n                  self.$refs.history && this.$refs.history.$emit('load-data');\r\n                }\r\n              });\r\n            },\r\n            error(response) {\r\n              self.$message({\r\n                message: response.message,\r\n                type: 'warning'\r\n              });\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    editDialogClosed() {\r\n      this.editUserDialogVisible = false;\r\n      this.preEmail = '';\r\n      this.$refs.dataTable.$emit('load-data');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n","import { render, staticRenderFns } from \"./userManage.vue?vue&type=template&id=4d0afb08&scoped=true&\"\nimport script from \"./userManage.vue?vue&type=script&lang=js&\"\nexport * from \"./userManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userManage.vue?vue&type=style&index=0&id=4d0afb08&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d0afb08\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tab-page',{ref:\"tabPage\"},[_c('template',{slot:\"userManage\"},[_c('data-table',{ref:\"dataTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data-table\":_vm.dataTable}},[_c('div',{attrs:{\"slot\":\"conditions\"},slot:\"conditions\"},[_c('el-form',{ref:\"ruleForm\",staticStyle:{\"width\":\"80%\",\"float\":\"left\"},attrs:{\"inline\":true,\"model\":_vm.queryParams}},[_c('el-form-item',{attrs:{\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"姓名\",\"size\":\"small\"},model:{value:(_vm.queryParams.name),callback:function ($$v) {_vm.$set(_vm.queryParams, \"name\", $$v)},expression:\"queryParams.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"邮箱\",\"size\":\"small\"},model:{value:(_vm.queryParams.email),callback:function ($$v) {_vm.$set(_vm.queryParams, \"email\", $$v)},expression:\"queryParams.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"roleId\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"角色\"},model:{value:(_vm.queryParams.roleId),callback:function ($$v) {_vm.$set(_vm.queryParams, \"roleId\", $$v)},expression:\"queryParams.roleId\"}},_vm._l((_vm.roles),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.search}},[_vm._v(\"  查询  \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.resetForm}},[_vm._v(\"  重置   \")])],1)],1),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openEditPage(0,1)}}},[_vm._v(\"  新建   \")])],1),_vm._v(\" \"),_c('template',{slot:\"columns\"},[_c('el-table-column',{staticStyle:{\"width\":\"6%\"},attrs:{\"prop\":\"id\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{staticStyle:{\"width\":\"10%\"},attrs:{\"prop\":\"name\",\"label\":\"姓名\"}}),_vm._v(\" \"),_c('el-table-column',{staticStyle:{\"width\":\"12%\"},attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_vm._v(\" \"),_c('el-table-column',{staticStyle:{\"width\":\"12%\"},attrs:{\"prop\":\"roleName\",\"label\":\"角色\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm._f(\"statusFilter\")(scope.row.flag)}},[_vm._v(_vm._s(scope.row.flag == 0?'使用中':'已失效'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"密码状态\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm._f(\"statusFilter\")(scope.row.isReset)}},[_vm._v(_vm._s(scope.row.isReset == 0?'正常':'已重置'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openEditPage(scope.row,0)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openPasswordPage(scope.row)}}},[_vm._v(\"密码重置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openDeletePage(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],2),_vm._v(\" \"),_c('edit-user',{attrs:{\"editUserDialogVisible\":_vm.editUserDialogVisible,\"rolesMenu\":_vm.roles,\"preEmail\":_vm.preEmail,\"addOrEdit\":_vm.addOrEdit},on:{\"editDialogClosed\":_vm.editDialogClosed}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./showRolePermissions.vue?vue&type=style&index=0&id=468068b6&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ab9da14c\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./editUserDialog.vue?vue&type=style&index=0&id=7c10cbb6&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7db44a0f\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./userManage.vue?vue&type=style&index=0&id=4d0afb08&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1f19d1e4\", content, true, {});","import mod from \"-!../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./showRolePermissions.vue?vue&type=style&index=0&id=468068b6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./showRolePermissions.vue?vue&type=style&index=0&id=468068b6&scoped=true&lang=css&\"","exports = module.exports = require(\"../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.role-name[data-v-468068b6]{\\n    margin: 5px;\\n    margin-bottom: 10px;\\n    text-decoration: underline;\\n}\\n.el-tree[data-v-468068b6]{\\n    border:none;\\n}\\n.checkbox1[data-v-468068b6], ul[data-v-468068b6] {\\n    overflow: hidden;\\n}\\n.checkbox1 li[data-v-468068b6] {\\n    float: left;\\n    margin-right: 15px;\\n    width: 150px;\\n}\\n.checkbox1 .el-checkbox-group .el-checkbox[data-v-468068b6] {\\n    height: 20px;\\n    line-height: 20px;\\n    margin-bottom: 0px;\\n    display: block;\\n    border-left: 1px solid #000;\\n    padding-left: 5px;\\n}\\n.checkbox1 .el-checkbox-group .firstCheckbox[data-v-468068b6] {\\n    border-left: none;\\n}\\n.checkbox1 .el-checkbox-group .secondCheckbox[data-v-468068b6] {\\n    margin-left: 12px;\\n}\\n.detail-info[data-v-468068b6]{\\n    margin-top: -5px ;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/components/showRolePermissions.vue\"],\"names\":[],\"mappings\":\";AAsFA;IACA,WAAA;IACA,mBAAA;IACA,0BAAA;AACA;AACA;IACA,WAAA;AACA;AACA;IACA,gBAAA;AACA;AAEA;IACA,WAAA;IACA,kBAAA;IACA,YAAA;AACA;AAEA;IACA,YAAA;IACA,iBAAA;IACA,kBAAA;IACA,cAAA;IACA,2BAAA;IACA,iBAAA;AACA;AAEA;IACA,iBAAA;AACA;AAEA;IACA,iBAAA;AACA;AACA;IACA,iBAAA;AACA\",\"file\":\"showRolePermissions.vue?vue&type=style&index=0&id=468068b6&scoped=true&lang=css&\",\"sourcesContent\":[\"<template>\\r\\n    <span class=\\\"pop-container\\\">\\r\\n        <el-popover ref=\\\"popover\\\" placement=\\\"top-start\\\" width=\\\"350\\\" trigger=\\\"click\\\">\\r\\n            <h2 class=\\\"role-name\\\">报表权限：{{roleName}}</h2>\\r\\n            <!--<div class=\\\"checkbox1\\\">-->\\r\\n                <!--<el-checkbox-group v-model=\\\"rolePermissions\\\">-->\\r\\n                    <!--<ul>-->\\r\\n                        <!--<li v-for=\\\"perms1 in permTree\\\">-->\\r\\n                            <!--<el-checkbox :label=\\\"perms1.id\\\" :key=\\\"perms1.id\\\" disabled class=\\\"firstCheckbox\\\">-->\\r\\n                                <!--{{perms1.name}}-->\\r\\n                            <!--</el-checkbox>-->\\r\\n                            <!--<template v-if=\\\"perms1.type == 'MENU'\\\">-->\\r\\n                                <!--<template v-for=\\\"perms2 in perms1.childTree\\\">-->\\r\\n                                    <!--<el-checkbox :label=\\\"perms2.id\\\" :key=\\\"perms2.id\\\" disabled class=\\\"secondCheckbox\\\">-->\\r\\n                                        <!--{{perms2.name}}-->\\r\\n                                    <!--</el-checkbox>-->\\r\\n                                    <!--<template v-if=\\\"perms2.type == 'MENU'\\\">-->\\r\\n                                        <!--<el-checkbox v-for=\\\"perms3 in perms2.childPerms\\\" :key=\\\"perms3.id\\\"-->\\r\\n                                                     <!--:label=\\\"perms3.id\\\" disabled-->\\r\\n                                                     <!--class=\\\"thirdCheckbox\\\">{{perms3.name}}-->\\r\\n                                        <!--</el-checkbox>-->\\r\\n                                    <!--</template>-->\\r\\n                                <!--</template>-->\\r\\n                            <!--</template>-->\\r\\n                        <!--</li>-->\\r\\n                    <!--</ul>-->\\r\\n                <!--</el-checkbox-group>-->\\r\\n            <!--</div>-->\\r\\n            <el-tree\\r\\n                class=\\\"self-tree\\\"\\r\\n                ref=\\\"tree\\\"\\r\\n                :data=\\\"permTree\\\"\\r\\n                show-checkbox\\r\\n                node-key=\\\"id\\\"\\r\\n                :default-expand-all=\\\"expandAll\\\"\\r\\n                :default-checked-keys=\\\"rolePermissions\\\"\\r\\n                :props=\\\"defaultProps\\\">\\r\\n                </el-tree>\\r\\n        </el-popover>\\r\\n        <el-button type=\\\"text\\\" size=\\\"mini\\\" class=\\\"detail-info\\\" icon=\\\"information\\\" v-popover:popover\\r\\n                   @click=\\\"hoverRolePermissions(roleId)\\\">详情</el-button>\\r\\n    </span>\\r\\n</template>\\r\\n<script>\\r\\n    import Common from '../utils/common'\\r\\n    export default{\\r\\n        data(){\\r\\n            return {\\r\\n            \\tallPermissions:[],\\r\\n                rolePermissions: [],\\r\\n                defaultProps: {\\r\\n                    children: 'childTree',\\r\\n                    label: 'name'\\r\\n                },\\r\\n                expandAll:true,\\r\\n            }\\r\\n        },\\r\\n        props: ['permTree','roleId','roleName'],\\r\\n\\r\\n        methods: {\\r\\n            hoverRolePermissions(id){\\r\\n                console.log(123);\\r\\n                Common.ajax({\\r\\n                    url: '/web/v1/permission/getTreeByRole',\\r\\n                    type: 'POST',\\r\\n                    dataType: 'json',\\r\\n                    contentType: \\\"application/json\\\",\\r\\n                    data: {\\r\\n                        roleId: id\\r\\n                    },\\r\\n                    success: (response) => {\\r\\n                        this.rolePermissions = response.data ? response.data.permissions : '';\\r\\n                        this.$refs.tree.setCheckedKeys(this.rolePermissions);\\r\\n                    },\\r\\n                    error: (response) => {\\r\\n                        this.$message({\\r\\n                            message: response.message,\\r\\n                            type: 'warning'\\r\\n                        });\\r\\n                    }\\r\\n                });\\r\\n            },\\r\\n        },\\r\\n    }\\r\\n</script>\\r\\n<style scoped>\\r\\n    .role-name{\\r\\n        margin: 5px;\\r\\n        margin-bottom: 10px;\\r\\n        text-decoration: underline;\\r\\n    }\\r\\n    .el-tree{\\r\\n        border:none;\\r\\n    }\\r\\n    .checkbox1, ul {\\r\\n        overflow: hidden;\\r\\n    }\\r\\n\\r\\n    .checkbox1 li {\\r\\n        float: left;\\r\\n        margin-right: 15px;\\r\\n        width: 150px;\\r\\n    }\\r\\n\\r\\n    .checkbox1 .el-checkbox-group .el-checkbox {\\r\\n        height: 20px;\\r\\n        line-height: 20px;\\r\\n        margin-bottom: 0px;\\r\\n        display: block;\\r\\n        border-left: 1px solid #000;\\r\\n        padding-left: 5px;\\r\\n    }\\r\\n\\r\\n    .checkbox1 .el-checkbox-group .firstCheckbox {\\r\\n        border-left: none;\\r\\n    }\\r\\n\\r\\n    .checkbox1 .el-checkbox-group .secondCheckbox {\\r\\n        margin-left: 12px;\\r\\n    }\\r\\n    .detail-info{\\r\\n        margin-top: -5px ;\\r\\n    }\\r\\n</style>\\r\\n\"]}]);\n","import mod from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./editUserDialog.vue?vue&type=style&index=0&id=7c10cbb6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./editUserDialog.vue?vue&type=style&index=0&id=7c10cbb6&scoped=true&lang=css&\"","exports = module.exports = require(\"../../../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.el-dialog__header[data-v-7c10cbb6] {\\r\\n  padding: 20px 20px 0;\\r\\n  text-align: center;\\n}\\n.el-radio-group .el-radio[data-v-7c10cbb6] {\\r\\n  display: block;\\r\\n  margin: 5px 0;\\n}\\n.checkbox1[data-v-7c10cbb6],\\r\\nul[data-v-7c10cbb6] {\\r\\n  overflow: hidden;\\n}\\n.checkbox1 li[data-v-7c10cbb6] {\\r\\n  float: left;\\r\\n  margin-right: 15px;\\r\\n  width: 100px;\\n}\\n.checkbox1 .el-checkbox-group .el-checkbox[data-v-7c10cbb6] {\\r\\n  height: 20px;\\r\\n  line-height: 20px;\\r\\n  margin-bottom: 0px;\\r\\n  display: block;\\r\\n  border-left: 1px solid #000;\\r\\n  padding-left: 5px;\\n}\\n.checkbox1 .el-checkbox-group .firstCheckbox[data-v-7c10cbb6] {\\r\\n  border-left: none;\\n}\\n.checkbox1 .el-checkbox-group .secondCheckbox[data-v-7c10cbb6] {\\r\\n  margin-left: 12px;\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"src/views/contents/permission/editUserDialog.vue\"],\"names\":[],\"mappings\":\";AAyDA;EACA,oBAAA;EACA,kBAAA;AACA;AAEA;EACA,cAAA;EACA,aAAA;AACA;AAEA;;EAEA,gBAAA;AACA;AAEA;EACA,WAAA;EACA,kBAAA;EACA,YAAA;AACA;AAEA;EACA,YAAA;EACA,iBAAA;EACA,kBAAA;EACA,cAAA;EACA,2BAAA;EACA,iBAAA;AACA;AAEA;EACA,iBAAA;AACA;AAEA;EACA,iBAAA;AACA\",\"file\":\"editUserDialog.vue?vue&type=style&index=0&id=7c10cbb6&scoped=true&lang=css&\",\"sourcesContent\":[\"<!--\\r\\n * @Description: \\r\\n * @Author: jinxiaojian\\r\\n * @Email: jinxiaojian@youxin.com\\r\\n * @Date: 2019-07-12 16:17:33\\r\\n * @LastEditTime: 2019-07-16 16:57:52\\r\\n * @LastEditors: 靳肖健\\r\\n -->\\r\\n<template>\\r\\n  <el-dialog\\r\\n    :title=\\\"addOrEdit.dialogTitle\\\"\\r\\n    v-model=\\\"editUserDialogVisible\\\"\\r\\n    width=\\\"50%\\\"\\r\\n    :show-close=\\\"false\\\"\\r\\n    @close=\\\"closeDialog\\\"\\r\\n    :close-on-click-modal=\\\"false\\\"\\r\\n  >\\r\\n    <el-form :model=\\\"form\\\" :rules=\\\"rules\\\" ref=\\\"ruleForm\\\">\\r\\n      <el-form-item label=\\\"邮箱\\\" prop=\\\"email\\\" :label-width=\\\"formLabelWidth\\\">\\r\\n        <!--<template v-if=\\\"addOrEdit.status == 0\\\">-->\\r\\n        <!--<span>{{preEmail}}</span>-->\\r\\n        <!--</template>-->\\r\\n        <!--<template v-if=\\\"addOrEdit.status == 1\\\">-->\\r\\n        <!--<el-input v-model=\\\"form.email\\\" auto-complete=\\\"off\\\"></el-input>-->\\r\\n        <!--</template>-->\\r\\n        <el-input v-model=\\\"form.email\\\" :disabled=\\\"disabled\\\" auto-complete=\\\"off\\\"></el-input>\\r\\n      </el-form-item>\\r\\n      <el-form-item label=\\\"姓名\\\" prop=\\\"name\\\" :label-width=\\\"formLabelWidth\\\">\\r\\n        <el-input v-model=\\\"form.name\\\" auto-complete=\\\"off\\\"></el-input>\\r\\n      </el-form-item>\\r\\n      <el-form-item label=\\\"角色\\\" prop=\\\"roleId\\\" :label-width=\\\"formLabelWidth\\\">\\r\\n        <el-radio-group v-model=\\\"form.roleId\\\">\\r\\n          <div v-for=\\\"item in rolesMenu\\\" :key=\\\"item.value\\\">\\r\\n            <el-radio :key=\\\"item.value\\\" :label=\\\"item.value\\\">\\r\\n              {{item.label}}\\r\\n              <role-permissions :permTree=\\\"permTree\\\" :roleId=\\\"item.value\\\" :roleName=\\\"item.label\\\"></role-permissions>\\r\\n            </el-radio>\\r\\n          </div>\\r\\n\\r\\n          <!--<el-radio v-for=\\\"item in rolesMenu\\\" :key=\\\"item.value\\\"-->\\r\\n          <!--:label=\\\"item.value\\\" v-popover:popover >-->\\r\\n          <!--{{item.label}}-->\\r\\n          <!--</el-radio>-->\\r\\n        </el-radio-group>\\r\\n      </el-form-item>\\r\\n    </el-form>\\r\\n\\r\\n    <div slot=\\\"footer\\\" class=\\\"dialog-footer\\\">\\r\\n      <el-button @click=\\\"closeDialog\\\">&nbsp;&nbsp;取消&nbsp;&nbsp;</el-button>\\r\\n      <el-button\\r\\n        type=\\\"primary\\\"\\r\\n        @click=\\\"addOrEditFn(addOrEdit.status)\\\"\\r\\n      >&nbsp;&nbsp;{{addOrEdit.dialogBtn}}&nbsp;&nbsp;</el-button>\\r\\n    </div>\\r\\n  </el-dialog>\\r\\n</template>\\r\\n<style scoped>\\r\\n.el-dialog__header {\\r\\n  padding: 20px 20px 0;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.el-radio-group .el-radio {\\r\\n  display: block;\\r\\n  margin: 5px 0;\\r\\n}\\r\\n\\r\\n.checkbox1,\\r\\nul {\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.checkbox1 li {\\r\\n  float: left;\\r\\n  margin-right: 15px;\\r\\n  width: 100px;\\r\\n}\\r\\n\\r\\n.checkbox1 .el-checkbox-group .el-checkbox {\\r\\n  height: 20px;\\r\\n  line-height: 20px;\\r\\n  margin-bottom: 0px;\\r\\n  display: block;\\r\\n  border-left: 1px solid #000;\\r\\n  padding-left: 5px;\\r\\n}\\r\\n\\r\\n.checkbox1 .el-checkbox-group .firstCheckbox {\\r\\n  border-left: none;\\r\\n}\\r\\n\\r\\n.checkbox1 .el-checkbox-group .secondCheckbox {\\r\\n  margin-left: 12px;\\r\\n}\\r\\n</style>\\r\\n<style>\\r\\n</style>\\r\\n<script>\\r\\nimport Common from \\\"../../../utils/common\\\";\\r\\nimport rolePermissions from \\\"../../../components/showRolePermissions.vue\\\";\\r\\nexport default {\\r\\n  props: [\\r\\n    \\\"editUserDialogVisible\\\",\\r\\n    \\\"editDialogClosed\\\",\\r\\n    \\\"preEmail\\\",\\r\\n    \\\"addOrEdit\\\",\\r\\n    \\\"rolesMenu\\\",\\r\\n  ],\\r\\n  data() {\\r\\n    return {\\r\\n      addUserDialogVisible: false,\\r\\n      form: {\\r\\n        name: \\\"\\\",\\r\\n        email: \\\"\\\",\\r\\n        roleId: \\\"\\\",\\r\\n        id: \\\"\\\",\\r\\n      },\\r\\n      rules: {\\r\\n        name: [\\r\\n          { required: true, message: \\\"请输入用户名称\\\", trigger: \\\"blur\\\" },\\r\\n          { max: 50, message: \\\"长度最多50个字符\\\", trigger: \\\"blur\\\" },\\r\\n        ],\\r\\n        email: [\\r\\n          { required: true, message: \\\"请输入邮箱地址\\\", trigger: \\\"blur\\\" },\\r\\n          {\\r\\n            type: \\\"email\\\",\\r\\n            message: \\\"请输入正确的邮箱地址\\\",\\r\\n            trigger: \\\"blur,change\\\",\\r\\n          },\\r\\n        ],\\r\\n        roleId: [\\r\\n          { required: true, message: \\\"请选择用户角色\\\", trigger: \\\"blur\\\" },\\r\\n        ],\\r\\n      },\\r\\n      formLabelWidth: \\\"60px\\\",\\r\\n      permTree: [\\r\\n        {\\r\\n          //权限树\\r\\n          name: \\\"\\\",\\r\\n          parentId: \\\"\\\",\\r\\n          childPerms: [\\r\\n            {\\r\\n              name: \\\"\\\",\\r\\n            },\\r\\n          ],\\r\\n        },\\r\\n      ],\\r\\n      rolePermissions: [],\\r\\n    };\\r\\n  },\\r\\n  components: {\\r\\n    rolePermissions,\\r\\n  },\\r\\n  computed: {\\r\\n    disabled: function() {\\r\\n      return !this.addOrEdit.status;\\r\\n    },\\r\\n  },\\r\\n  mounted() {\\r\\n    this.getMenu();\\r\\n  },\\r\\n  methods: {\\r\\n    closeDialog() {\\r\\n      this.$refs[\\\"ruleForm\\\"].resetFields();\\r\\n      this.form = {\\r\\n        name: \\\"\\\",\\r\\n        email: \\\"\\\",\\r\\n        roleId: \\\"\\\",\\r\\n        id: \\\"\\\",\\r\\n      };\\r\\n      this.$emit(\\\"editDialogClosed\\\");\\r\\n    },\\r\\n\\r\\n    getUserInfo() {\\r\\n      Common.ajax({\\r\\n        url: \\\"/web/v1/user/query\\\",\\r\\n        type: \\\"POST\\\",\\r\\n        dataType: \\\"json\\\",\\r\\n        contentType: \\\"application/json\\\",\\r\\n        data: {\\r\\n          email: this.preEmail,\\r\\n        },\\r\\n        success: response => {\\r\\n          let result = response.data;\\r\\n          if (result) {\\r\\n            this.form.roleId = result.roleId;\\r\\n            this.form.name = result.name;\\r\\n            this.form.email = result.email;\\r\\n            this.form.id = result.id;\\r\\n          }\\r\\n        },\\r\\n        error: response => {\\r\\n          this.$message({\\r\\n            message: response.message,\\r\\n            type: \\\"warning\\\",\\r\\n          });\\r\\n        },\\r\\n      });\\r\\n    },\\r\\n\\r\\n    addOrEditFn(flag) {\\r\\n      let url;\\r\\n      if (!this.form.name) {\\r\\n        this.$message(\\\"请输入用户名称\\\");\\r\\n        return false;\\r\\n      }\\r\\n      if (!this.form.email) {\\r\\n        this.$message(\\\"请输入用户邮箱\\\");\\r\\n        return false;\\r\\n      }\\r\\n      if (!this.form.roleId) {\\r\\n        this.$message(\\\"请选择用户角色\\\");\\r\\n        return false;\\r\\n      }\\r\\n      if (flag == 1) {\\r\\n        //新建\\r\\n        url = \\\"/web/v1/user/add\\\";\\r\\n      } else {\\r\\n        url = \\\"/web/v1/user/edit\\\";\\r\\n      }\\r\\n      Common.ajax({\\r\\n        url: url,\\r\\n        type: \\\"post\\\",\\r\\n        data: {\\r\\n          email: this.form.email,\\r\\n          name: this.form.name,\\r\\n          roleId: this.form.roleId,\\r\\n        },\\r\\n        dataType: \\\"json\\\",\\r\\n        contentType: \\\"application/json\\\",\\r\\n        success: response => {\\r\\n          this.$alert(response.message, \\\"\\\", {\\r\\n            type: \\\"success\\\",\\r\\n            confirmButtonText: \\\"知道了\\\",\\r\\n            callback: action => {\\r\\n              this.closeDialog();\\r\\n            },\\r\\n          });\\r\\n        },\\r\\n        error: response => {\\r\\n          this.$message({\\r\\n            message: response.message,\\r\\n            type: \\\"warning\\\",\\r\\n          });\\r\\n        },\\r\\n      });\\r\\n    },\\r\\n\\r\\n    getMenu() {\\r\\n      Common.ajax({\\r\\n        url: \\\"/web/v1/permission/getTree/true\\\",\\r\\n        type: \\\"POST\\\",\\r\\n        dataType: \\\"json\\\",\\r\\n        success: response => {\\r\\n          this.permTree = response.data ? response.data.list : \\\"\\\";\\r\\n        },\\r\\n        error: response => {\\r\\n          this.$message({\\r\\n            message: response.message,\\r\\n            type: \\\"warning\\\",\\r\\n          });\\r\\n        },\\r\\n      });\\r\\n    },\\r\\n  },\\r\\n  watch: {\\r\\n    editUserDialogVisible: function(val) {\\r\\n      if (val && this.preEmail) {\\r\\n        this.getUserInfo();\\r\\n      }\\r\\n    },\\r\\n    preEmail: function(val) {\\r\\n      this.form.email = val;\\r\\n    },\\r\\n  },\\r\\n};\\r\\n</script>\\r\\n\"]}]);\n","import mod from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./userManage.vue?vue&type=style&index=0&id=4d0afb08&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./userManage.vue?vue&type=style&index=0&id=4d0afb08&scoped=true&lang=css&\"","exports = module.exports = require(\"../../../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.el-table th > .cell[data-v-4d0afb08] {\\r\\n  text-align: center;\\n}\\n.create[data-v-4d0afb08] {\\r\\n  float: right;\\r\\n  margin-bottom: 20px;\\n}\\n.mb-10[data-v-4d0afb08] {\\r\\n  margin-bottom: 10px;\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"src/views/contents/permission/userManage.vue\"],\"names\":[],\"mappings\":\";AA8EA;EACA,kBAAA;AACA;AAEA;EACA,YAAA;EACA,mBAAA;AACA;AAEA;EACA,mBAAA;AACA\",\"file\":\"userManage.vue?vue&type=style&index=0&id=4d0afb08&scoped=true&lang=css&\",\"sourcesContent\":[\"<!--\\r\\n * @Description: \\r\\n * @Author: 焦丙乾(jiaobingqian)\\r\\n * @Email: jiaobq123@163.com\\r\\n * @Date: 2019-07-15 18:33:54\\r\\n * @LastEditTime: 2019-07-17 19:41:38\\r\\n * @LastEditors: 王娇(wangjiao)\\r\\n -->\\r\\n<template>\\r\\n  <tab-page ref=\\\"tabPage\\\">\\r\\n    <template slot=\\\"userManage\\\">\\r\\n      <data-table :data-table=\\\"dataTable\\\" ref=\\\"dataTable\\\" style=\\\"width: 100%\\\">\\r\\n        <div slot=\\\"conditions\\\">\\r\\n          <el-form :inline=\\\"true\\\" ref=\\\"ruleForm\\\" :model=\\\"queryParams\\\" style=\\\"width:80%;float:left;\\\">\\r\\n            <el-form-item prop=\\\"name\\\">\\r\\n              <el-input v-model=\\\"queryParams.name\\\" placeholder=\\\"姓名\\\" size=\\\"small\\\"></el-input>\\r\\n            </el-form-item>\\r\\n            <el-form-item prop=\\\"email\\\">\\r\\n              <el-input v-model=\\\"queryParams.email\\\" placeholder=\\\"邮箱\\\" size=\\\"small\\\"></el-input>\\r\\n            </el-form-item>\\r\\n            <el-form-item prop=\\\"roleId\\\">\\r\\n              <el-select v-model=\\\"queryParams.roleId\\\" clearable placeholder=\\\"角色\\\">\\r\\n                <el-option\\r\\n                  v-for=\\\"item in roles\\\"\\r\\n                  :key=\\\"item.value\\\"\\r\\n                  :label=\\\"item.label\\\"\\r\\n                  :value=\\\"item.value\\\"\\r\\n                ></el-option>\\r\\n              </el-select>\\r\\n            </el-form-item>\\r\\n            <el-form-item>\\r\\n              <el-button type=\\\"primary\\\" @click=\\\"search\\\" size=\\\"small\\\">&nbsp;&nbsp;查询&nbsp;&nbsp;</el-button>\\r\\n              <el-button type=\\\"primary\\\" @click=\\\"resetForm\\\" size=\\\"small\\\">&nbsp;&nbsp;重置 &nbsp;&nbsp;</el-button>\\r\\n            </el-form-item>\\r\\n          </el-form>\\r\\n          <el-button\\r\\n            type=\\\"primary\\\"\\r\\n            size=\\\"small\\\"\\r\\n            @click=\\\"openEditPage(0,1)\\\"\\r\\n            style=\\\"float:right;\\\"\\r\\n          >&nbsp;&nbsp;新建 &nbsp;&nbsp;</el-button>\\r\\n        </div>\\r\\n\\r\\n        <template slot=\\\"columns\\\">\\r\\n          <el-table-column prop=\\\"id\\\" label=\\\"序号\\\" style=\\\"width: 6%\\\"></el-table-column>\\r\\n          <el-table-column prop=\\\"name\\\" label=\\\"姓名\\\" style=\\\"width: 10%\\\"></el-table-column>\\r\\n          <el-table-column prop=\\\"email\\\" label=\\\"邮箱\\\" style=\\\"width: 12%\\\"></el-table-column>\\r\\n          <el-table-column prop=\\\"roleName\\\" label=\\\"角色\\\" style=\\\"width: 12%\\\"></el-table-column>\\r\\n          <el-table-column label=\\\"状态\\\" width=\\\"90\\\">\\r\\n            <template slot-scope=\\\"scope\\\">\\r\\n              <el-tag :type=\\\"scope.row.flag | statusFilter\\\">{{scope.row.flag == 0?'使用中':'已失效'}}</el-tag>\\r\\n            </template>\\r\\n          </el-table-column>\\r\\n          <el-table-column label=\\\"密码状态\\\" width=\\\"90\\\">\\r\\n            <template slot-scope=\\\"scope\\\">\\r\\n              <el-tag :type=\\\"scope.row.isReset | statusFilter\\\">{{scope.row.isReset == 0?'正常':'已重置'}}</el-tag>\\r\\n            </template>\\r\\n          </el-table-column>\\r\\n          <el-table-column label=\\\"操作\\\">\\r\\n            <template slot-scope=\\\"scope\\\">\\r\\n              <el-button type=\\\"text\\\" size=\\\"small\\\" @click=\\\"openEditPage(scope.row,0)\\\">编辑</el-button>\\r\\n              <el-button type=\\\"text\\\" size=\\\"small\\\" @click=\\\"openPasswordPage(scope.row)\\\">密码重置</el-button>\\r\\n              <el-button type=\\\"text\\\" size=\\\"small\\\" @click=\\\"openDeletePage(scope.row)\\\">删除</el-button>\\r\\n            </template>\\r\\n          </el-table-column>\\r\\n        </template>\\r\\n      </data-table>\\r\\n      <edit-user\\r\\n        :editUserDialogVisible=\\\"editUserDialogVisible\\\"\\r\\n        v-on:editDialogClosed=\\\"editDialogClosed\\\"\\r\\n        :rolesMenu=\\\"roles\\\"\\r\\n        :preEmail=\\\"preEmail\\\"\\r\\n        :addOrEdit=\\\"addOrEdit\\\"\\r\\n      ></edit-user>\\r\\n    </template>\\r\\n  </tab-page>\\r\\n</template>\\r\\n<style scoped>\\r\\n.el-table th > .cell {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.create {\\r\\n  float: right;\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.mb-10 {\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n</style>\\r\\n<script>\\r\\nimport Common from '../../../utils/common';\\r\\nimport DataTable from '../../../components/DataTable';\\r\\nimport TabPage from '../../../components/TabPage';\\r\\nimport EditUser from '../permission/editUserDialog.vue';\\r\\n\\r\\nexport default {\\r\\n  components: {\\r\\n    DataTable,\\r\\n    TabPage,\\r\\n    EditUser,\\r\\n    Common\\r\\n  },\\r\\n  data() {\\r\\n    return {\\r\\n      addOrEdit: {\\r\\n        status: '',\\r\\n        dialogTitle: '',\\r\\n        dialogBtn: ''\\r\\n      },\\r\\n      editUserDialogVisible: false, // 编辑用户窗口\\r\\n      preEmail: '',\\r\\n      dataTable: {\\r\\n        pageSize: 30,\\r\\n        pageSizes: [30, 60, 90, 100],\\r\\n        url: '/web/v1/user/queryRoleUsers',\\r\\n        queryParams: {},\\r\\n        emptyText: '没有记录'\\r\\n      },\\r\\n      queryParams: {\\r\\n        name: '',\\r\\n        email: '',\\r\\n        roleId: ''\\r\\n      },\\r\\n      roles: []\\r\\n    };\\r\\n  },\\r\\n  filters: {\\r\\n    statusFilter(item) {\\r\\n      const itemsMap = {\\r\\n        0: 'success',\\r\\n        1: 'error'\\r\\n      };\\r\\n      return itemsMap[item];\\r\\n    }\\r\\n  },\\r\\n  mounted() {\\r\\n    var defaultPage = {\\r\\n      label: '用户管理',\\r\\n      name: 'userManage',\\r\\n      slotName: 'userManage',\\r\\n      closable: false\\r\\n    };\\r\\n    this.$refs.tabPage.openTabPage(defaultPage);\\r\\n    this.getRoles();\\r\\n  },\\r\\n  methods: {\\r\\n    search() {\\r\\n      Object.assign(this.dataTable.queryParams, this.queryParams);\\r\\n      this.$refs.dataTable.$emit('load-data');\\r\\n    },\\r\\n    resetForm() {\\r\\n      this.$refs.ruleForm.resetFields();\\r\\n    },\\r\\n    getRoles() {\\r\\n      Common.ajax({\\r\\n        url: '/web/v1/role/menu',\\r\\n        type: 'post',\\r\\n        dataType: 'json',\\r\\n        contentType: 'application/json',\\r\\n        success: response => {\\r\\n          this.roles = response.data.list;\\r\\n        },\\r\\n        error: response => {\\r\\n          this.$message({\\r\\n            message: response.message,\\r\\n            type: 'warning'\\r\\n          });\\r\\n        }\\r\\n      });\\r\\n    },\\r\\n    openEditPage(obj, flag) {\\r\\n      this.editUserDialogVisible = true;\\r\\n\\r\\n      this.preEmail = obj.email || '';\\r\\n\\r\\n      this.addOrEdit.status = flag;\\r\\n      this.addOrEdit.dialogTitle = flag ? '新建' : '编辑';\\r\\n      this.addOrEdit.dialogBtn = flag ? '确定' : '保存';\\r\\n    },\\r\\n\\r\\n    openPasswordPage(obj) {\\r\\n      let self = this;\\r\\n      this.$confirm('是否确认重置密码?', '提示', {\\r\\n        confirmButtonText: '确认',\\r\\n        cancelButtonText: '取消',\\r\\n        type: 'warning'\\r\\n      })\\r\\n        .then(() => {\\r\\n          Common.ajax({\\r\\n            url: '/web/v1/user/initUserPassword',\\r\\n            type: 'post',\\r\\n            dataType: 'json',\\r\\n            data: { email: obj.email },\\r\\n            contentType: 'application/json',\\r\\n            success(response) {\\r\\n              self.$alert('重置成功', '', {\\r\\n                type: 'success',\\r\\n                confirmButtonText: '知道了',\\r\\n                callback: action => {\\r\\n                  self.$refs.dataTable.$emit('load-data');\\r\\n                  self.$refs.history && this.$refs.history.$emit('load-data');\\r\\n                }\\r\\n              });\\r\\n            },\\r\\n            error(response) {\\r\\n              self.$message({\\r\\n                message: response.message,\\r\\n                type: 'warning'\\r\\n              });\\r\\n            }\\r\\n          });\\r\\n        })\\r\\n        .catch(() => {});\\r\\n    },\\r\\n\\r\\n    openDeletePage(obj) {\\r\\n      let self = this;\\r\\n      this.$confirm('是否确认删除用户?', '提示', {\\r\\n        confirmButtonText: '确认',\\r\\n        cancelButtonText: '取消',\\r\\n        type: 'warning'\\r\\n      })\\r\\n        .then(() => {\\r\\n          Common.ajax({\\r\\n            url: '/web/v1/user/delete',\\r\\n            type: 'post',\\r\\n            data: { id: obj.id },\\r\\n            contentType: 'application/json',\\r\\n            success(response) {\\r\\n              self.$alert('删除成功', '', {\\r\\n                type: 'success',\\r\\n                confirmButtonText: '知道了',\\r\\n                callback: action => {\\r\\n                  self.$refs.dataTable.$emit('load-data');\\r\\n                  self.$refs.history && this.$refs.history.$emit('load-data');\\r\\n                }\\r\\n              });\\r\\n            },\\r\\n            error(response) {\\r\\n              self.$message({\\r\\n                message: response.message,\\r\\n                type: 'warning'\\r\\n              });\\r\\n            }\\r\\n          });\\r\\n        })\\r\\n        .catch(() => {});\\r\\n    },\\r\\n\\r\\n    editDialogClosed() {\\r\\n      this.editUserDialogVisible = false;\\r\\n      this.preEmail = '';\\r\\n      this.$refs.dataTable.$emit('load-data');\\r\\n    }\\r\\n  }\\r\\n};\\r\\n</script>\\r\\n\\r\\n\"]}]);\n"],"sourceRoot":""}