{"version":3,"sources":["webpack:///./src/assets/images/bg.png","webpack:///./src/views/contents/permission/resetPassword.vue","webpack:///src/views/contents/permission/resetPassword.vue","webpack:///./src/views/contents/permission/resetPassword.vue?6dbd","webpack:///./src/views/contents/permission/resetPassword.vue?2c20","webpack:///./src/utils/common.js","webpack:///./src/views/contents/permission/resetPassword.vue?69db","webpack:///./src/views/contents/permission/resetPassword.vue?2016","webpack:///delegated ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/typeof.js from dll-reference vendor_b35904a9f84fabbc839d"],"names":["a","exports","c","p","i","Object","h","data","this","title","labelPosition","passwordForm","password","newPassword","checkNewPassWord","passwordFormRules","required","message","trigger","validator","b","d","Error","length","test","$refs","validateField","mounted","email","e","getEmail","methods","submit","validate","g","$router","ajax","url","type","timeout","contentType","success","setRequiresAlterPassword","push","path","f","Notification","error","status","clearPassword","passwd","resetPasswordForm","resetFields","$createElement","_self","_c","staticClass","attrs","span","_v","_s","ref","model","rules","label-position","label-width","label","prop","auto-complete","value","callback","$set","expression","nativeOn","keyup","indexOf","_k","keyCode","key","on","click","locals","default","Common","api","auth","options","_timestamp","Date","_authTokenObj","getOldToken","_authToken","uploadFiles","$","headers","Authorization","Timestamp","traditional","async","processData","dataType","response","alert","location","XMLHttpRequest","complete","l","arr","obj","resultQuery","searchParam","hasOwnProperty","k","jQuery","n","version","sources","names","mappings","file","sourcesContent"],"mappings":"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","file":"dist/js/28.fee91adf949dd7599163.js","sourcesContent":["module.exports = __webpack_public_path__ + \"dist/img/bg.a97556c.png\";","import { render, staticRenderFns } from \"./resetPassword.vue?vue&type=template&id=67dc3266&scoped=true&\"\nimport script from \"./resetPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./resetPassword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./resetPassword.vue?vue&type=style&index=0&id=67dc3266&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67dc3266\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"page\">\r\n    <div class=\"container\">\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <h2 class=\"page-title\">\r\n            {{title}}\r\n                    </h2>\r\n        </el-col>\r\n      </el-row>\r\n      <el-form :model=\"passwordForm\" :rules=\"passwordFormRules\" ref=\"passwordForm\" :label-position=\"labelPosition\" label-width=\"100px\">\r\n        <!--<el-form-item label=\"用户名\" prop=\"username\">-->\r\n        <!--<el-input v-model=\"passwordForm.username\" auto-complete=\"off\"></el-input>-->\r\n        <!--</el-form-item>-->\r\n\r\n        <el-form-item label=\"原密码\" prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"passwordForm.password\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"新密码\" prop=\"newPassword\">\r\n          <el-input type=\"password\" v-model=\"passwordForm.newPassword\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"确认新密码\" prop=\"checkNewPassWord\">\r\n          <el-input type=\"password\" v-model=\"passwordForm.checkNewPassWord\" auto-complete=\"off\" v-on:keyup.enter.native=\"submit()\"></el-input>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n        <el-row class=\"text-center\">\r\n            <el-col :span=\"24\">\r\n                <el-button type=\"primary\" @click=\"submit()\">提交</el-button>\r\n                <el-button @click=\"resetPasswordForm()\">重置</el-button>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Common from '../../../utils/common'\r\n  import auth from '../../../utils/authenticate'\r\n  import {Notification} from 'element-ui';\r\n  export default {\r\n    data() {\r\n      /**\r\n       *\r\n       * @param rule\r\n       * @param value\r\n       * @param callback\r\n       */\r\n      var validatePassword = (rule, value, callback) => {\r\n        if (value !== '') {\r\n          if (this.passwordForm.checkNewPassWord !== '') {\r\n            //Common.ajax\r\n          }\r\n          callback();\r\n        }\r\n      };\r\n      var validateNewPassword = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('请输入新密码'));\r\n        } else {\r\n          var reg = /^[0-9a-zA-Z]+$/;\r\n          var regu = /\\w*[0-9]+\\w*$/;\r\n          var regu2 = /\\w*[a-zA-Z]+\\w*$/;\r\n          if (value.length < 7 || !regu.test(value) || !regu2.test(value)) {\r\n            callback(new Error('密码须为大于6位的数字和字母'));\r\n          } else {\r\n            if (this.passwordForm.checkNewPassWord !== '') {\r\n              this.$refs.passwordForm.validateField('checkNewPassWord');\r\n            }\r\n            callback();\r\n          }\r\n        }\r\n      };\r\n      var validatePass2 = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('请再次输入密码'));\r\n        } else if (value !== this.passwordForm.newPassword) {\r\n          callback(new Error('两次输入密码不一致!'));\r\n        } else {\r\n          callback();\r\n        }\r\n      };\r\n      var validatePass3 = (rule, value, callback) => {\r\n        if (value === this.passwordForm.newPassword) {\r\n          callback();\r\n        }\r\n      };\r\n\r\n      return {\r\n        title: '修改密码',\r\n        labelPosition:'right',\r\n        passwordForm: {\r\n          password: '',\r\n          newPassword: '',\r\n          checkNewPassWord: '',\r\n        },\r\n        passwordFormRules: {\r\n//          username: [\r\n//            { required: true, message: '请输入用户名', trigger: 'blur' },\r\n//            //{ min: 3, max: 16, message: '长度在 3 到 16 个字符', trigger: 'blur' }\r\n//          ],\r\n          password: [\r\n            {required: true, message: '请输入原密码', trigger: 'blur'},\r\n            {validator: validatePassword, trigger: 'blur'},\r\n          ],\r\n          newPassword: [\r\n            {required: true, message: '请输入新密码', trigger: 'blur'},\r\n//            {min: 7, message: '大于6位的数字和字母', trigger: 'blur'},\r\n            {validator: validateNewPassword, trigger: 'blur'},\r\n          ],\r\n          checkNewPassWord: [\r\n            {required: true, message: '请确认新密码', trigger: 'blur'},\r\n            {validator: validatePass2, trigger: 'blur'},\r\n            {validator: validatePass3, trigger: 'change'},\r\n          ],\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n        this.passwordForm.email = auth.getEmail();\r\n    },\r\n    methods: {\r\n      submit: function () {\r\n        this.$refs['passwordForm'].validate((valid) => {\r\n          if (valid) {\r\n            var params = this.passwordForm;\r\n            var router = this.$router;\r\n            Common.ajax({\r\n              url: \"/web/v1/user/resetPassword\",\r\n              type: \"POST\",\r\n              data: params,\r\n              timeout: 1000,\r\n              contentType: \"application/json\",\r\n              success: function (response) {\r\n                  auth.setRequiresAlterPassword(false);\r\n                var res = response.data || response;\r\n                if (res) {\r\n                  router.push({path: '/admin'})\r\n                  Notification.success({\r\n                    title: '登录',\r\n                    message: response.message || '成功'\r\n                  });\r\n                }\r\n                else {\r\n                  Notification.error({\r\n                    title: '错误',\r\n                    message: response.message || response.status || '登录失败'\r\n                  });\r\n                }\r\n              },\r\n              error: function (response) {\r\n                var message = (response.message) ? response.message : \"未知错误\";\r\n                Notification.error({\r\n                  title: '错误',\r\n                  message: message\r\n                });\r\n              }\r\n            });\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      clearPassword: function () {\r\n        this.passwd = \"\";\r\n      },\r\n      resetPasswordForm() {\r\n        this.$refs['passwordForm'].resetFields();\r\n      }\r\n    },\r\n  }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  body {\r\n    font-family: \"Microsoft YaHei\";\r\n    font-size: 12px;\r\n  }\r\n\r\n  .page {\r\n    position: absolute;\r\n    width: 99%;\r\n    height: 98%;\r\n    font-size: 12px;\r\n    background: url('../../../assets/images/bg.png') 0 0 repeat;\r\n  }\r\n\r\n  .container {\r\n    box-sizing: border-box;\r\n    width: 400px;\r\n    height: 300px;\r\n    padding: 20px 60px 20px 10px;\r\n    margin-left: -200px;\r\n    margin-top: -180px;\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    border: 1px solid #e8ebf2;\r\n    border-radius: 2px;\r\n    filter: progid:DXImageTransform.Microsoft.Shadow(color='#e8ebf2', Direction=135, Strength=5); /*for ie6,7,8*/\r\n    background-color: #fff;\r\n    -moz-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*firefox*/\r\n    -webkit-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*webkit*/\r\n    box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*opera或ie9*/\r\n  }\r\n\r\n  .page-title {\r\n    text-align: center;\r\n    padding-left: 60px;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    color: #1a1d22;\r\n    line-height: 50px;\r\n  }\r\n    .text-center{\r\n        text-align: center;\r\n        padding-left: 60px;\r\n    }\r\n\r\n\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"container\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('h2',{staticClass:\"page-title\"},[_vm._v(\"\\n          \"+_vm._s(_vm.title)+\"\\n                  \")])])],1),_vm._v(\" \"),_c('el-form',{ref:\"passwordForm\",attrs:{\"model\":_vm.passwordForm,\"rules\":_vm.passwordFormRules,\"label-position\":_vm.labelPosition,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"原密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.passwordForm.password),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"password\", $$v)},expression:\"passwordForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"newPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.passwordForm.newPassword),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"newPassword\", $$v)},expression:\"passwordForm.newPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认新密码\",\"prop\":\"checkNewPassWord\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit()}},model:{value:(_vm.passwordForm.checkNewPassWord),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"checkNewPassWord\", $$v)},expression:\"passwordForm.checkNewPassWord\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"text-center\"},[_c('el-col',{attrs:{\"span\":24}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetPasswordForm()}}},[_vm._v(\"重置\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./resetPassword.vue?vue&type=style&index=0&id=67dc3266&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4bcd7442\", content, true, {});","/**\r\n * Created by 焦丙乾(jiaobingqian) on 17/3/3.\r\n */\r\nimport jQuery from 'jquery'\r\nimport auth from './authenticate'\r\n\r\nconst Common = (function(api,$){\r\n    api.title=\"好分期报表系统\";\r\n    api.ajax = function(options){\r\n        api.token = auth.getToken();\r\n        //var url = '/api' + options.url;\r\n        var url = options.url;\r\n        var _authToken;\r\n        var _timestamp = +new Date();\r\n        if(url.indexOf(\"api/\")>=0){\r\n            var _authTokenObj = auth.getOldToken();\r\n            _timestamp = _authTokenObj.timestamp;\r\n            _authToken = _authTokenObj.token;\r\n            \r\n        }else{\r\n            _authToken = api.token;\r\n        }\r\n        if(!options.uploadFiles){\r\n          if(options.type){\r\n            if(options.type.toLowerCase() =='get'){\r\n              if( typeof options.data === 'object' ){\r\n                // url += api.formatQuery(options.data);\r\n                // options.data = {};\r\n              }\r\n            }else{\r\n              if( typeof options.data === 'object' ) options.data = JSON.stringify(options.data);\r\n            }\r\n          }else{\r\n            if( typeof options.data === 'object' ) options.data = JSON.stringify(options.data);\r\n          }\r\n        }\r\n        \r\n        // if(options.type && options.type.toUpperCase() =='POST'){\r\n        //   if( typeof options.data === 'object' ) options.data = JSON.stringify(options.data);\r\n        // }else{\r\n        //   //url += api.formatQuery(options.data);\r\n        //   //options.data = {};\r\n        // }\r\n      \r\n        $.ajax({\r\n            headers:{\r\n                'Authorization':_authToken,\r\n                'Timestamp':_timestamp,\r\n            },\r\n            url: url,\r\n            type: options.type || \"GET\",\r\n            traditional: true,\r\n            data: options.data || {},\r\n            async: options.async || true,\r\n            processData: (options.processData === undefined ? true : options.processData),\r\n            contentType: (options.contentType === undefined ? $.ajaxSettings.contentType : options.contentType),\r\n            dataType: options.dataType || 'json',\r\n            success: function (response) {\r\n                if (response.status && response.status !== '0') {\r\n                    if (response.status == -1) {\r\n                      // 登陆失效\r\n                      alert(`警告: ${response.message}`);\r\n                      auth.setAsLoggedOut();\r\n                      location.href = '/#/login';\r\n                    } else if (options.error) {\r\n                      options.error(response);\r\n                    } else {\r\n                      alert(`警告: ${response.message}\\n错误：${response.status}`);\r\n                    }\r\n                    return;\r\n                }\r\n                \r\n                options.success && options.success(response);\r\n\r\n            },\r\n            error: function (XMLHttpRequest, textStatus, errorThrown) {\r\n                if (options.error) {\r\n                    if(XMLHttpRequest.response) {\r\n                        options.error(XMLHttpRequest.response);\r\n                    }\r\n                    else{\r\n                        options.error({\r\n                            message: '请求失败'\r\n                        });\r\n                    }\r\n                } else {\r\n                }\r\n            },\r\n            complete: options.complete || undefined,\r\n            timeout:options.timeout||null\r\n        });\r\n    };\r\n    api.hasDuplicate= function(obj,arr){\r\n        if(Object.prototype.toString.call(arr) !== \"[object Array]\"){\r\n            throw new Error('invalid argument');\r\n        }\r\n        for(let i=0,l=arr.length;i<l;i++){\r\n            if(obj == arr[i]){\r\n                return true;\r\n            }\r\n        }\r\n        return false\r\n    };\r\n    api.formatQuery = function(param){\r\n      if(Object.prototype.toString.call(param) !== \"[object Object]\"){\r\n        throw new Error('invalid argument');\r\n      }\r\n      let searchParam = param;\r\n      let resultQuery = '?';//session=' + api.session;\r\n      for(var i in searchParam){\r\n        if (searchParam.hasOwnProperty(i)) { //filter,只输出man的私有属性\r\n          resultQuery+= i+'='+searchParam[i]+'&';\r\n        }\r\n      }\r\n      \r\n      return resultQuery;\r\n    };\r\n\r\n    return api;\r\n})(Common||{}, jQuery);\r\n\r\nexport default Common;\r\n\r\n","import mod from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./resetPassword.vue?vue&type=style&index=0&id=67dc3266&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./resetPassword.vue?vue&type=style&index=0&id=67dc3266&scoped=true&lang=css&\"","exports = module.exports = require(\"../../../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Imports\nvar getUrl = require(\"../../../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL___0___ = getUrl(require(\"../../../assets/images/bg.png\"));\n// Module\nexports.push([module.id, \"\\nbody[data-v-67dc3266] {\\n  font-family: \\\"Microsoft YaHei\\\";\\n  font-size: 12px;\\n}\\n.page[data-v-67dc3266] {\\n  position: absolute;\\n  width: 99%;\\n  height: 98%;\\n  font-size: 12px;\\n  background: url(\" + ___CSS_LOADER_URL___0___ + \") 0 0 repeat;\\n}\\n.container[data-v-67dc3266] {\\n  box-sizing: border-box;\\n  width: 400px;\\n  height: 300px;\\n  padding: 20px 60px 20px 10px;\\n  margin-left: -200px;\\n  margin-top: -180px;\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  border: 1px solid #e8ebf2;\\n  border-radius: 2px;\\n  filter: progid:DXImageTransform.Microsoft.Shadow(color='#e8ebf2', Direction=135, Strength=5); /*for ie6,7,8*/\\n  background-color: #fff;\\n  -moz-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*firefox*/\\n  -webkit-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*webkit*/\\n  box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*opera或ie9*/\\n}\\n.page-title[data-v-67dc3266] {\\n  text-align: center;\\n  padding-left: 60px;\\n  font-size: 20px;\\n  font-weight: bold;\\n  color: #1a1d22;\\n  line-height: 50px;\\n}\\n.text-center[data-v-67dc3266]{\\n      text-align: center;\\n      padding-left: 60px;\\n}\\n\\n\\n\", \"\",{\"version\":3,\"sources\":[\"src/views/contents/permission/resetPassword.vue\"],\"names\":[],\"mappings\":\";AA+KA;EACA,8BAAA;EACA,eAAA;AACA;AAEA;EACA,kBAAA;EACA,UAAA;EACA,WAAA;EACA,eAAA;EACA,oDAAA;AACA;AAEA;EACA,sBAAA;EACA,YAAA;EACA,aAAA;EACA,4BAAA;EACA,mBAAA;EACA,kBAAA;EACA,kBAAA;EACA,SAAA;EACA,QAAA;EACA,yBAAA;EACA,kBAAA;EACA,4FAAA,EAAA,cAAA;EACA,sBAAA;EACA,qEAAA,EAAA,UAAA;EACA,wEAAA,EAAA,SAAA;EACA,gEAAA,EAAA,YAAA;AACA;AAEA;EACA,kBAAA;EACA,kBAAA;EACA,eAAA;EACA,iBAAA;EACA,cAAA;EACA,iBAAA;AACA;AACA;MACA,kBAAA;MACA,kBAAA;AACA\",\"file\":\"resetPassword.vue?vue&type=style&index=0&id=67dc3266&scoped=true&lang=css&\",\"sourcesContent\":[\"<template>\\r\\n  <div class=\\\"page\\\">\\r\\n    <div class=\\\"container\\\">\\r\\n      <el-row>\\r\\n        <el-col :span=\\\"24\\\">\\r\\n          <h2 class=\\\"page-title\\\">\\r\\n            {{title}}\\r\\n                    </h2>\\r\\n        </el-col>\\r\\n      </el-row>\\r\\n      <el-form :model=\\\"passwordForm\\\" :rules=\\\"passwordFormRules\\\" ref=\\\"passwordForm\\\" :label-position=\\\"labelPosition\\\" label-width=\\\"100px\\\">\\r\\n        <!--<el-form-item label=\\\"用户名\\\" prop=\\\"username\\\">-->\\r\\n        <!--<el-input v-model=\\\"passwordForm.username\\\" auto-complete=\\\"off\\\"></el-input>-->\\r\\n        <!--</el-form-item>-->\\r\\n\\r\\n        <el-form-item label=\\\"原密码\\\" prop=\\\"password\\\">\\r\\n          <el-input type=\\\"password\\\" v-model=\\\"passwordForm.password\\\" auto-complete=\\\"off\\\"></el-input>\\r\\n        </el-form-item>\\r\\n        <el-form-item label=\\\"新密码\\\" prop=\\\"newPassword\\\">\\r\\n          <el-input type=\\\"password\\\" v-model=\\\"passwordForm.newPassword\\\" auto-complete=\\\"off\\\"></el-input>\\r\\n        </el-form-item>\\r\\n        <el-form-item label=\\\"确认新密码\\\" prop=\\\"checkNewPassWord\\\">\\r\\n          <el-input type=\\\"password\\\" v-model=\\\"passwordForm.checkNewPassWord\\\" auto-complete=\\\"off\\\" v-on:keyup.enter.native=\\\"submit()\\\"></el-input>\\r\\n        </el-form-item>\\r\\n\\r\\n      </el-form>\\r\\n        <el-row class=\\\"text-center\\\">\\r\\n            <el-col :span=\\\"24\\\">\\r\\n                <el-button type=\\\"primary\\\" @click=\\\"submit()\\\">提交</el-button>\\r\\n                <el-button @click=\\\"resetPasswordForm()\\\">重置</el-button>\\r\\n            </el-col>\\r\\n        </el-row>\\r\\n    </div>\\r\\n  </div>\\r\\n</template>\\r\\n\\r\\n<script>\\r\\n  import Common from '../../../utils/common'\\r\\n  import auth from '../../../utils/authenticate'\\r\\n  import {Notification} from 'element-ui';\\r\\n  export default {\\r\\n    data() {\\r\\n      /**\\r\\n       *\\r\\n       * @param rule\\r\\n       * @param value\\r\\n       * @param callback\\r\\n       */\\r\\n      var validatePassword = (rule, value, callback) => {\\r\\n        if (value !== '') {\\r\\n          if (this.passwordForm.checkNewPassWord !== '') {\\r\\n            //Common.ajax\\r\\n          }\\r\\n          callback();\\r\\n        }\\r\\n      };\\r\\n      var validateNewPassword = (rule, value, callback) => {\\r\\n        if (value === '') {\\r\\n          callback(new Error('请输入新密码'));\\r\\n        } else {\\r\\n          var reg = /^[0-9a-zA-Z]+$/;\\r\\n          var regu = /\\\\w*[0-9]+\\\\w*$/;\\r\\n          var regu2 = /\\\\w*[a-zA-Z]+\\\\w*$/;\\r\\n          if (value.length < 7 || !regu.test(value) || !regu2.test(value)) {\\r\\n            callback(new Error('密码须为大于6位的数字和字母'));\\r\\n          } else {\\r\\n            if (this.passwordForm.checkNewPassWord !== '') {\\r\\n              this.$refs.passwordForm.validateField('checkNewPassWord');\\r\\n            }\\r\\n            callback();\\r\\n          }\\r\\n        }\\r\\n      };\\r\\n      var validatePass2 = (rule, value, callback) => {\\r\\n        if (value === '') {\\r\\n          callback(new Error('请再次输入密码'));\\r\\n        } else if (value !== this.passwordForm.newPassword) {\\r\\n          callback(new Error('两次输入密码不一致!'));\\r\\n        } else {\\r\\n          callback();\\r\\n        }\\r\\n      };\\r\\n      var validatePass3 = (rule, value, callback) => {\\r\\n        if (value === this.passwordForm.newPassword) {\\r\\n          callback();\\r\\n        }\\r\\n      };\\r\\n\\r\\n      return {\\r\\n        title: '修改密码',\\r\\n        labelPosition:'right',\\r\\n        passwordForm: {\\r\\n          password: '',\\r\\n          newPassword: '',\\r\\n          checkNewPassWord: '',\\r\\n        },\\r\\n        passwordFormRules: {\\r\\n//          username: [\\r\\n//            { required: true, message: '请输入用户名', trigger: 'blur' },\\r\\n//            //{ min: 3, max: 16, message: '长度在 3 到 16 个字符', trigger: 'blur' }\\r\\n//          ],\\r\\n          password: [\\r\\n            {required: true, message: '请输入原密码', trigger: 'blur'},\\r\\n            {validator: validatePassword, trigger: 'blur'},\\r\\n          ],\\r\\n          newPassword: [\\r\\n            {required: true, message: '请输入新密码', trigger: 'blur'},\\r\\n//            {min: 7, message: '大于6位的数字和字母', trigger: 'blur'},\\r\\n            {validator: validateNewPassword, trigger: 'blur'},\\r\\n          ],\\r\\n          checkNewPassWord: [\\r\\n            {required: true, message: '请确认新密码', trigger: 'blur'},\\r\\n            {validator: validatePass2, trigger: 'blur'},\\r\\n            {validator: validatePass3, trigger: 'change'},\\r\\n          ],\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n    mounted(){\\r\\n        this.passwordForm.email = auth.getEmail();\\r\\n    },\\r\\n    methods: {\\r\\n      submit: function () {\\r\\n        this.$refs['passwordForm'].validate((valid) => {\\r\\n          if (valid) {\\r\\n            var params = this.passwordForm;\\r\\n            var router = this.$router;\\r\\n            Common.ajax({\\r\\n              url: \\\"/web/v1/user/resetPassword\\\",\\r\\n              type: \\\"POST\\\",\\r\\n              data: params,\\r\\n              timeout: 1000,\\r\\n              contentType: \\\"application/json\\\",\\r\\n              success: function (response) {\\r\\n                  auth.setRequiresAlterPassword(false);\\r\\n                var res = response.data || response;\\r\\n                if (res) {\\r\\n                  router.push({path: '/admin'})\\r\\n                  Notification.success({\\r\\n                    title: '登录',\\r\\n                    message: response.message || '成功'\\r\\n                  });\\r\\n                }\\r\\n                else {\\r\\n                  Notification.error({\\r\\n                    title: '错误',\\r\\n                    message: response.message || response.status || '登录失败'\\r\\n                  });\\r\\n                }\\r\\n              },\\r\\n              error: function (response) {\\r\\n                var message = (response.message) ? response.message : \\\"未知错误\\\";\\r\\n                Notification.error({\\r\\n                  title: '错误',\\r\\n                  message: message\\r\\n                });\\r\\n              }\\r\\n            });\\r\\n          } else {\\r\\n            return false;\\r\\n          }\\r\\n        });\\r\\n      },\\r\\n      clearPassword: function () {\\r\\n        this.passwd = \\\"\\\";\\r\\n      },\\r\\n      resetPasswordForm() {\\r\\n        this.$refs['passwordForm'].resetFields();\\r\\n      }\\r\\n    },\\r\\n  }\\r\\n\\r\\n</script>\\r\\n\\r\\n<style scoped>\\r\\n  body {\\r\\n    font-family: \\\"Microsoft YaHei\\\";\\r\\n    font-size: 12px;\\r\\n  }\\r\\n\\r\\n  .page {\\r\\n    position: absolute;\\r\\n    width: 99%;\\r\\n    height: 98%;\\r\\n    font-size: 12px;\\r\\n    background: url('../../../assets/images/bg.png') 0 0 repeat;\\r\\n  }\\r\\n\\r\\n  .container {\\r\\n    box-sizing: border-box;\\r\\n    width: 400px;\\r\\n    height: 300px;\\r\\n    padding: 20px 60px 20px 10px;\\r\\n    margin-left: -200px;\\r\\n    margin-top: -180px;\\r\\n    position: absolute;\\r\\n    left: 50%;\\r\\n    top: 50%;\\r\\n    border: 1px solid #e8ebf2;\\r\\n    border-radius: 2px;\\r\\n    filter: progid:DXImageTransform.Microsoft.Shadow(color='#e8ebf2', Direction=135, Strength=5); /*for ie6,7,8*/\\r\\n    background-color: #fff;\\r\\n    -moz-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*firefox*/\\r\\n    -webkit-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*webkit*/\\r\\n    box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*opera或ie9*/\\r\\n  }\\r\\n\\r\\n  .page-title {\\r\\n    text-align: center;\\r\\n    padding-left: 60px;\\r\\n    font-size: 20px;\\r\\n    font-weight: bold;\\r\\n    color: #1a1d22;\\r\\n    line-height: 50px;\\r\\n  }\\r\\n    .text-center{\\r\\n        text-align: center;\\r\\n        padding-left: 60px;\\r\\n    }\\r\\n\\r\\n\\r\\n</style>\\r\\n\"]}]);\n","module.exports = (__webpack_require__(45))(3);"],"sourceRoot":""}