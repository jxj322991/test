{"version":3,"sources":["webpack:///src/views/login.vue","webpack:///./src/views/login.vue","webpack:///./src/views/login.vue?d90e","webpack:///./src/assets/images/bg.png","webpack:///./src/views/login.vue?5a70","webpack:///./src/utils/common.js","webpack:///./src/views/login.vue?63cc","webpack:///./src/views/login.vue?7625","webpack:///delegated ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/typeof.js from dll-reference vendor_b35904a9f84fabbc839d"],"names":["g","d","a","title","j","Object","i","components","data","loginForm","email","password","loginFormRules","required","message","trigger","mounted","methods","login","this","$refs","validate","b","c","$router","ajax","url","type","timeout","contentType","success","status","username","e","f","Notification","push","path","error","loginOldReportService","loginOld","console","log","clearPassword","passwd","resetLoginForm","resetFields","$createElement","_self","_c","staticClass","attrs","span","_v","_s","ref","model","rules","label-width","label","prop","auto-complete","value","callback","$set","expression","nativeOn","keyup","indexOf","_k","keyCode","key","on","click","exports","p","locals","default","Common","api","auth","options","_timestamp","Date","_authTokenObj","getOldToken","_authToken","uploadFiles","$","headers","Authorization","Timestamp","h","traditional","async","processData","dataType","response","alert","location","XMLHttpRequest","complete","Error","l","arr","length","obj","resultQuery","searchParam","hasOwnProperty","k","jQuery","n","version","sources","names","mappings","file","sourcesContent"],"mappings":"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","file":"dist/js/30.2a69435f5bc8a10c70b7.js","sourcesContent":["<!--\r\n * @Description: \r\n * @Author: 焦丙乾(jiaobingqian)\r\n * @Email: jiaobq123@163.com\r\n * @Date: 2018-03-23 14:27:21\r\n * @LastEditTime: 2019-06-13 11:14:37\r\n * @LastEditors: 焦丙乾(jiaobingqian)\r\n -->\r\n<template>\r\n  <div class=\"login\">\r\n    <div class=\"container\">\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <h1 class=\"login-title\">{{title}}</h1>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-form :model=\"loginForm\" :rules=\"loginFormRules\" ref=\"loginForm\" label-width=\"100px\">\r\n        <el-form-item label=\"用户名\" prop=\"email\">\r\n          <el-input v-model=\"loginForm.email\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"loginForm.password\"\r\n            v-on:keyup.enter.native=\"login()\"\r\n            auto-complete=\"off\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item></el-form-item>\r\n      </el-form>\r\n      <el-row class=\"text-center\">\r\n        <el-col :span=\"24\">\r\n          <el-button @click=\"resetLoginForm()\">重置</el-button>\r\n          <el-button type=\"primary\" @click=\"login()\">登录</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport common from '../utils/common';\r\nimport auth from '../utils/authenticate';\r\nimport { Notification } from 'element-ui';\r\nlet { title } = common;\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    var validatePassword = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请输入密码'));\r\n      } else {\r\n        // TODO: password regex check\r\n        callback();\r\n      }\r\n    };\r\n\r\n    return {\r\n      title: title,\r\n      loginForm: {\r\n        //          email: 'test@we.com',\r\n        //          password: 'password',\r\n        email: '',\r\n        password: ''\r\n      },\r\n      loginFormRules: {\r\n        email: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' }\r\n          //{ min: 3, max: 16, message: '长度在 3 到 16 个字符', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          // { validator: validatePassword, trigger: 'blur' },\r\n          { required: true, message: '请输入密码', trigger: 'blur' }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    login: function() {\r\n      this.$refs['loginForm'].validate(valid => {\r\n        if (valid) {\r\n          var params = this.loginForm;\r\n          var router = this.$router;\r\n          common.ajax({\r\n            url: '/web/v1/user/login',\r\n            type: 'POST',\r\n            data: params,\r\n            timeout: 1000,\r\n            contentType: 'application/json',\r\n            success: response => {\r\n              if (response.status !== 0) {\r\n                Notification.error({\r\n                  title: '错误',\r\n                  message: response.message || response.status || '登录失败'\r\n                });\r\n                return;\r\n              }\r\n              var userData = response.data || response;\r\n              userData.username = userData.username || params.email;\r\n              if (auth.login(userData)) {\r\n                Notification.success({\r\n                  title: '登录',\r\n                  message: response.message || '成功'\r\n                });\r\n                router.push({ path: '/admin' });\r\n                //                                    this.loginOldReportService();\r\n              } else {\r\n                Notification.error({\r\n                  title: '错误',\r\n                  message: response.message || response.status || '登录失败'\r\n                });\r\n              }\r\n            },\r\n            error: function(response) {\r\n              var message = response.message ? response.message : '未知错误';\r\n              Notification.error({\r\n                title: '错误',\r\n                message: message\r\n              });\r\n              /* 测试 */\r\n              //                  let res = {\r\n              //                  \tmessage:'成功',\r\n              //                    data:{\r\n              //                  \t\t'username':'dev',\r\n              //                      'token':'sssdfsadfasdfweasdasdqweasdasd'\r\n              //                    }\r\n              //                  }\r\n              //                  var userData = res.data || res;\r\n              //                  if(auth.login(userData)){\r\n              //                    router.push({path: '/admin/operation'})\r\n              //                    Notification.success({\r\n              //                      title: '登录',\r\n              //                      message: res.message||'成功'\r\n              //                    });\r\n              //                  }\r\n              //                  router.push({path: '/admin/operation'})\r\n              //                  Notification.success({\r\n              //                    title: '登录',\r\n              //                    message: '成功'\r\n              //                  });\r\n            }\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    loginOldReportService() {\r\n      common.ajax({\r\n        url: '/api/v1/user/login',\r\n        type: 'POST',\r\n        data: {\r\n          email: 'test@we.com',\r\n          password: 'password'\r\n        },\r\n        timeout: 1000,\r\n        contentType: 'application/json',\r\n        success: response => {\r\n          if (response.status !== 0) {\r\n            console.log(\r\n              'oldReportService:',\r\n              response.message || response.status || '登录失败',\r\n            );\r\n            return;\r\n          }\r\n          var oldUserData = response.data || response;\r\n          if (auth.loginOld(oldUserData)) {\r\n            console.log('oldReportService:', '登录成功');\r\n          } else {\r\n            console.log('oldReportService:', '登录失败');\r\n          }\r\n        }\r\n      });\r\n    },\r\n    clearPassword: function() {\r\n      this.passwd = '';\r\n    },\r\n    resetLoginForm() {\r\n      this.$refs['loginForm'].resetFields();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nbody {\r\n  font-family: \"Microsoft YaHei\";\r\n  font-size: 12px;\r\n}\r\n\r\n.login {\r\n  position: absolute;\r\n  width: 99%;\r\n  height: 98%;\r\n  font-size: 12px;\r\n  background: url(\"../assets/images/bg.png\") 0 0 repeat;\r\n}\r\n\r\n.container {\r\n  box-sizing: border-box;\r\n  width: 400px;\r\n  height: 300px;\r\n  padding: 20px 60px 20px 10px;\r\n  margin-left: -200px;\r\n  margin-top: -180px;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  border: 1px solid #e8ebf2;\r\n  border-radius: 2px;\r\n  filter: progid:DXImageTransform.Microsoft.Shadow(color='#e8ebf2', Direction=135, Strength=5); /*for ie6,7,8*/\r\n  background-color: #fff;\r\n  -moz-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*firefox*/\r\n  -webkit-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*webkit*/\r\n  box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*opera或ie9*/\r\n}\r\n\r\n.login-title {\r\n  text-align: center;\r\n  padding-left: 60px;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #1a1d22;\r\n  line-height: 50px;\r\n}\r\n\r\n.el-form-item {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.text-center {\r\n  text-align: center;\r\n  padding-left: 60px;\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=7fad2fea&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=7fad2fea&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fad2fea\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"container\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('h1',{staticClass:\"login-title\"},[_vm._v(_vm._s(_vm.title))])])],1),_vm._v(\" \"),_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.loginForm.email),callback:function ($$v) {_vm.$set(_vm.loginForm, \"email\", $$v)},expression:\"loginForm.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login()}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item')],1),_vm._v(\" \"),_c('el-row',{staticClass:\"text-center\"},[_c('el-col',{attrs:{\"span\":24}},[_c('el-button',{on:{\"click\":function($event){return _vm.resetLoginForm()}}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"登录\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","module.exports = __webpack_public_path__ + \"dist/img/bg.a97556c.png\";","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=7fad2fea&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2d9c3e10\", content, true, {});","/**\r\n * Created by 焦丙乾(jiaobingqian) on 17/3/3.\r\n */\r\nimport jQuery from 'jquery'\r\nimport auth from './authenticate'\r\n\r\nconst Common = (function(api,$){\r\n    api.title=\"好分期报表系统\";\r\n    api.ajax = function(options){\r\n        api.token = auth.getToken();\r\n        //var url = '/api' + options.url;\r\n        var url = options.url;\r\n        var _authToken;\r\n        var _timestamp = +new Date();\r\n        if(url.indexOf(\"api/\")>=0){\r\n            var _authTokenObj = auth.getOldToken();\r\n            _timestamp = _authTokenObj.timestamp;\r\n            _authToken = _authTokenObj.token;\r\n            \r\n        }else{\r\n            _authToken = api.token;\r\n        }\r\n        if(!options.uploadFiles){\r\n          if(options.type){\r\n            if(options.type.toLowerCase() =='get'){\r\n              if( typeof options.data === 'object' ){\r\n                // url += api.formatQuery(options.data);\r\n                // options.data = {};\r\n              }\r\n            }else{\r\n              if( typeof options.data === 'object' ) options.data = JSON.stringify(options.data);\r\n            }\r\n          }else{\r\n            if( typeof options.data === 'object' ) options.data = JSON.stringify(options.data);\r\n          }\r\n        }\r\n        \r\n        // if(options.type && options.type.toUpperCase() =='POST'){\r\n        //   if( typeof options.data === 'object' ) options.data = JSON.stringify(options.data);\r\n        // }else{\r\n        //   //url += api.formatQuery(options.data);\r\n        //   //options.data = {};\r\n        // }\r\n      \r\n        $.ajax({\r\n            headers:{\r\n                'Authorization':_authToken,\r\n                'Timestamp':_timestamp,\r\n            },\r\n            url: url,\r\n            type: options.type || \"GET\",\r\n            traditional: true,\r\n            data: options.data || {},\r\n            async: options.async || true,\r\n            processData: (options.processData === undefined ? true : options.processData),\r\n            contentType: (options.contentType === undefined ? $.ajaxSettings.contentType : options.contentType),\r\n            dataType: options.dataType || 'json',\r\n            success: function (response) {\r\n                if (response.status && response.status !== '0') {\r\n                    if (response.status == -1) {\r\n                      // 登陆失效\r\n                      alert(`警告: ${response.message}`);\r\n                      auth.setAsLoggedOut();\r\n                      location.href = '/#/login';\r\n                    } else if (options.error) {\r\n                      options.error(response);\r\n                    } else {\r\n                      alert(`警告: ${response.message}\\n错误：${response.status}`);\r\n                    }\r\n                    return;\r\n                }\r\n                \r\n                options.success && options.success(response);\r\n\r\n            },\r\n            error: function (XMLHttpRequest, textStatus, errorThrown) {\r\n                if (options.error) {\r\n                    if(XMLHttpRequest.response) {\r\n                        options.error(XMLHttpRequest.response);\r\n                    }\r\n                    else{\r\n                        options.error({\r\n                            message: '请求失败'\r\n                        });\r\n                    }\r\n                } else {\r\n                }\r\n            },\r\n            complete: options.complete || undefined,\r\n            timeout:options.timeout||null\r\n        });\r\n    };\r\n    api.hasDuplicate= function(obj,arr){\r\n        if(Object.prototype.toString.call(arr) !== \"[object Array]\"){\r\n            throw new Error('invalid argument');\r\n        }\r\n        for(let i=0,l=arr.length;i<l;i++){\r\n            if(obj == arr[i]){\r\n                return true;\r\n            }\r\n        }\r\n        return false\r\n    };\r\n    api.formatQuery = function(param){\r\n      if(Object.prototype.toString.call(param) !== \"[object Object]\"){\r\n        throw new Error('invalid argument');\r\n      }\r\n      let searchParam = param;\r\n      let resultQuery = '?';//session=' + api.session;\r\n      for(var i in searchParam){\r\n        if (searchParam.hasOwnProperty(i)) { //filter,只输出man的私有属性\r\n          resultQuery+= i+'='+searchParam[i]+'&';\r\n        }\r\n      }\r\n      \r\n      return resultQuery;\r\n    };\r\n\r\n    return api;\r\n})(Common||{}, jQuery);\r\n\r\nexport default Common;\r\n\r\n","import mod from \"-!../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=7fad2fea&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=7fad2fea&scoped=true&lang=css&\"","exports = module.exports = require(\"../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Imports\nvar getUrl = require(\"../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL___0___ = getUrl(require(\"../assets/images/bg.png\"));\n// Module\nexports.push([module.id, \"\\nbody[data-v-7fad2fea] {\\r\\n  font-family: \\\"Microsoft YaHei\\\";\\r\\n  font-size: 12px;\\n}\\n.login[data-v-7fad2fea] {\\r\\n  position: absolute;\\r\\n  width: 99%;\\r\\n  height: 98%;\\r\\n  font-size: 12px;\\r\\n  background: url(\" + ___CSS_LOADER_URL___0___ + \") 0 0 repeat;\\n}\\n.container[data-v-7fad2fea] {\\r\\n  box-sizing: border-box;\\r\\n  width: 400px;\\r\\n  height: 300px;\\r\\n  padding: 20px 60px 20px 10px;\\r\\n  margin-left: -200px;\\r\\n  margin-top: -180px;\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  border: 1px solid #e8ebf2;\\r\\n  border-radius: 2px;\\r\\n  filter: progid:DXImageTransform.Microsoft.Shadow(color='#e8ebf2', Direction=135, Strength=5); /*for ie6,7,8*/\\r\\n  background-color: #fff;\\r\\n  -moz-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*firefox*/\\r\\n  -webkit-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*webkit*/\\r\\n  box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*opera或ie9*/\\n}\\n.login-title[data-v-7fad2fea] {\\r\\n  text-align: center;\\r\\n  padding-left: 60px;\\r\\n  font-size: 20px;\\r\\n  font-weight: bold;\\r\\n  color: #1a1d22;\\r\\n  line-height: 50px;\\n}\\n.el-form-item[data-v-7fad2fea] {\\r\\n  margin-bottom: 20px;\\n}\\n.text-center[data-v-7fad2fea] {\\r\\n  text-align: center;\\r\\n  padding-left: 60px;\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"src/views/login.vue\"],\"names\":[],\"mappings\":\";AA8LA;EACA,8BAAA;EACA,eAAA;AACA;AAEA;EACA,kBAAA;EACA,UAAA;EACA,WAAA;EACA,eAAA;EACA,oDAAA;AACA;AAEA;EACA,sBAAA;EACA,YAAA;EACA,aAAA;EACA,4BAAA;EACA,mBAAA;EACA,kBAAA;EACA,kBAAA;EACA,SAAA;EACA,QAAA;EACA,yBAAA;EACA,kBAAA;EACA,4FAAA,EAAA,cAAA;EACA,sBAAA;EACA,qEAAA,EAAA,UAAA;EACA,wEAAA,EAAA,SAAA;EACA,gEAAA,EAAA,YAAA;AACA;AAEA;EACA,kBAAA;EACA,kBAAA;EACA,eAAA;EACA,iBAAA;EACA,cAAA;EACA,iBAAA;AACA;AAEA;EACA,mBAAA;AACA;AAEA;EACA,kBAAA;EACA,kBAAA;AACA\",\"file\":\"login.vue?vue&type=style&index=0&id=7fad2fea&scoped=true&lang=css&\",\"sourcesContent\":[\"<!--\\r\\n * @Description: \\r\\n * @Author: 焦丙乾(jiaobingqian)\\r\\n * @Email: jiaobq123@163.com\\r\\n * @Date: 2018-03-23 14:27:21\\r\\n * @LastEditTime: 2019-06-13 11:14:37\\r\\n * @LastEditors: 焦丙乾(jiaobingqian)\\r\\n -->\\r\\n<template>\\r\\n  <div class=\\\"login\\\">\\r\\n    <div class=\\\"container\\\">\\r\\n      <el-row>\\r\\n        <el-col :span=\\\"24\\\">\\r\\n          <h1 class=\\\"login-title\\\">{{title}}</h1>\\r\\n        </el-col>\\r\\n      </el-row>\\r\\n\\r\\n      <el-form :model=\\\"loginForm\\\" :rules=\\\"loginFormRules\\\" ref=\\\"loginForm\\\" label-width=\\\"100px\\\">\\r\\n        <el-form-item label=\\\"用户名\\\" prop=\\\"email\\\">\\r\\n          <el-input v-model=\\\"loginForm.email\\\" auto-complete=\\\"off\\\"></el-input>\\r\\n        </el-form-item>\\r\\n\\r\\n        <el-form-item label=\\\"密码\\\" prop=\\\"password\\\">\\r\\n          <el-input\\r\\n            type=\\\"password\\\"\\r\\n            v-model=\\\"loginForm.password\\\"\\r\\n            v-on:keyup.enter.native=\\\"login()\\\"\\r\\n            auto-complete=\\\"off\\\"\\r\\n          ></el-input>\\r\\n        </el-form-item>\\r\\n\\r\\n        <el-form-item></el-form-item>\\r\\n      </el-form>\\r\\n      <el-row class=\\\"text-center\\\">\\r\\n        <el-col :span=\\\"24\\\">\\r\\n          <el-button @click=\\\"resetLoginForm()\\\">重置</el-button>\\r\\n          <el-button type=\\\"primary\\\" @click=\\\"login()\\\">登录</el-button>\\r\\n        </el-col>\\r\\n      </el-row>\\r\\n    </div>\\r\\n  </div>\\r\\n</template>\\r\\n\\r\\n<script>\\r\\nimport common from '../utils/common';\\r\\nimport auth from '../utils/authenticate';\\r\\nimport { Notification } from 'element-ui';\\r\\nlet { title } = common;\\r\\n\\r\\nexport default {\\r\\n  components: {},\\r\\n  data() {\\r\\n    var validatePassword = (rule, value, callback) => {\\r\\n      if (value === '') {\\r\\n        callback(new Error('请输入密码'));\\r\\n      } else {\\r\\n        // TODO: password regex check\\r\\n        callback();\\r\\n      }\\r\\n    };\\r\\n\\r\\n    return {\\r\\n      title: title,\\r\\n      loginForm: {\\r\\n        //          email: 'test@we.com',\\r\\n        //          password: 'password',\\r\\n        email: '',\\r\\n        password: ''\\r\\n      },\\r\\n      loginFormRules: {\\r\\n        email: [\\r\\n          { required: true, message: '请输入用户名', trigger: 'blur' }\\r\\n          //{ min: 3, max: 16, message: '长度在 3 到 16 个字符', trigger: 'blur' }\\r\\n        ],\\r\\n        password: [\\r\\n          // { validator: validatePassword, trigger: 'blur' },\\r\\n          { required: true, message: '请输入密码', trigger: 'blur' }\\r\\n        ]\\r\\n      }\\r\\n    };\\r\\n  },\\r\\n  mounted() {},\\r\\n  methods: {\\r\\n    login: function() {\\r\\n      this.$refs['loginForm'].validate(valid => {\\r\\n        if (valid) {\\r\\n          var params = this.loginForm;\\r\\n          var router = this.$router;\\r\\n          common.ajax({\\r\\n            url: '/web/v1/user/login',\\r\\n            type: 'POST',\\r\\n            data: params,\\r\\n            timeout: 1000,\\r\\n            contentType: 'application/json',\\r\\n            success: response => {\\r\\n              if (response.status !== 0) {\\r\\n                Notification.error({\\r\\n                  title: '错误',\\r\\n                  message: response.message || response.status || '登录失败'\\r\\n                });\\r\\n                return;\\r\\n              }\\r\\n              var userData = response.data || response;\\r\\n              userData.username = userData.username || params.email;\\r\\n              if (auth.login(userData)) {\\r\\n                Notification.success({\\r\\n                  title: '登录',\\r\\n                  message: response.message || '成功'\\r\\n                });\\r\\n                router.push({ path: '/admin' });\\r\\n                //                                    this.loginOldReportService();\\r\\n              } else {\\r\\n                Notification.error({\\r\\n                  title: '错误',\\r\\n                  message: response.message || response.status || '登录失败'\\r\\n                });\\r\\n              }\\r\\n            },\\r\\n            error: function(response) {\\r\\n              var message = response.message ? response.message : '未知错误';\\r\\n              Notification.error({\\r\\n                title: '错误',\\r\\n                message: message\\r\\n              });\\r\\n              /* 测试 */\\r\\n              //                  let res = {\\r\\n              //                  \\tmessage:'成功',\\r\\n              //                    data:{\\r\\n              //                  \\t\\t'username':'dev',\\r\\n              //                      'token':'sssdfsadfasdfweasdasdqweasdasd'\\r\\n              //                    }\\r\\n              //                  }\\r\\n              //                  var userData = res.data || res;\\r\\n              //                  if(auth.login(userData)){\\r\\n              //                    router.push({path: '/admin/operation'})\\r\\n              //                    Notification.success({\\r\\n              //                      title: '登录',\\r\\n              //                      message: res.message||'成功'\\r\\n              //                    });\\r\\n              //                  }\\r\\n              //                  router.push({path: '/admin/operation'})\\r\\n              //                  Notification.success({\\r\\n              //                    title: '登录',\\r\\n              //                    message: '成功'\\r\\n              //                  });\\r\\n            }\\r\\n          });\\r\\n        } else {\\r\\n          return false;\\r\\n        }\\r\\n      });\\r\\n    },\\r\\n    loginOldReportService() {\\r\\n      common.ajax({\\r\\n        url: '/api/v1/user/login',\\r\\n        type: 'POST',\\r\\n        data: {\\r\\n          email: 'test@we.com',\\r\\n          password: 'password'\\r\\n        },\\r\\n        timeout: 1000,\\r\\n        contentType: 'application/json',\\r\\n        success: response => {\\r\\n          if (response.status !== 0) {\\r\\n            console.log(\\r\\n              'oldReportService:',\\r\\n              response.message || response.status || '登录失败',\\r\\n            );\\r\\n            return;\\r\\n          }\\r\\n          var oldUserData = response.data || response;\\r\\n          if (auth.loginOld(oldUserData)) {\\r\\n            console.log('oldReportService:', '登录成功');\\r\\n          } else {\\r\\n            console.log('oldReportService:', '登录失败');\\r\\n          }\\r\\n        }\\r\\n      });\\r\\n    },\\r\\n    clearPassword: function() {\\r\\n      this.passwd = '';\\r\\n    },\\r\\n    resetLoginForm() {\\r\\n      this.$refs['loginForm'].resetFields();\\r\\n    }\\r\\n  }\\r\\n};\\r\\n</script>\\r\\n\\r\\n<style scoped>\\r\\nbody {\\r\\n  font-family: \\\"Microsoft YaHei\\\";\\r\\n  font-size: 12px;\\r\\n}\\r\\n\\r\\n.login {\\r\\n  position: absolute;\\r\\n  width: 99%;\\r\\n  height: 98%;\\r\\n  font-size: 12px;\\r\\n  background: url(\\\"../assets/images/bg.png\\\") 0 0 repeat;\\r\\n}\\r\\n\\r\\n.container {\\r\\n  box-sizing: border-box;\\r\\n  width: 400px;\\r\\n  height: 300px;\\r\\n  padding: 20px 60px 20px 10px;\\r\\n  margin-left: -200px;\\r\\n  margin-top: -180px;\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  border: 1px solid #e8ebf2;\\r\\n  border-radius: 2px;\\r\\n  filter: progid:DXImageTransform.Microsoft.Shadow(color='#e8ebf2', Direction=135, Strength=5); /*for ie6,7,8*/\\r\\n  background-color: #fff;\\r\\n  -moz-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*firefox*/\\r\\n  -webkit-box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*webkit*/\\r\\n  box-shadow: 0 2px 16px #e8ebf2, 0 0 1px #e8ebf2, 0 0 1px #e8ebf2; /*opera或ie9*/\\r\\n}\\r\\n\\r\\n.login-title {\\r\\n  text-align: center;\\r\\n  padding-left: 60px;\\r\\n  font-size: 20px;\\r\\n  font-weight: bold;\\r\\n  color: #1a1d22;\\r\\n  line-height: 50px;\\r\\n}\\r\\n\\r\\n.el-form-item {\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.text-center {\\r\\n  text-align: center;\\r\\n  padding-left: 60px;\\r\\n}\\r\\n</style>\\r\\n\"]}]);\n","module.exports = (__webpack_require__(45))(3);"],"sourceRoot":""}