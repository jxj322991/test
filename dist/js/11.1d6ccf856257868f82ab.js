(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1:function(e,n){"use strict";n.a=function(e,n){if("[object Date]"!==Object.prototype.toString.call(e)&&"string"!=typeof e)throw new Error("参数类型不合法！");var r={"M+":new Date(e).getMonth()+1,"d+":new Date(e).getDate(),"h+":new Date(e).getHours(),"m+":new Date(e).getMinutes(),"s+":new Date(e).getSeconds(),"q+":Math.floor((new Date(e).getMonth()+3)/3),S:new Date(e).getMilliseconds()};for(var a in/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(new Date(e).getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+a+")").test(n)&&(n=n.replace(RegExp.$1,1==RegExp.$1.length?r[a]:("00"+r[a]).substr((""+r[a]).length)));return n}},1063:function(e,n,r){"use strict";r.r(n);var a=r(2),t=r(7),l=r(1),s=(r(476),r(478),r(3)),o=Object(s.a)({data:function(){var e=new Date,n=new Date(e.setDate(e.getDate()-7)),r=new Date;return{personasTypes:[{value:"all",name:"全部"},{value:"gender",name:"性别"},{value:"plist_number",name:"plist_number"},{value:"phone_in_use_time",name:"phone_in_use_time"},{value:"id_number_lend_request_info",name:"id_number_lend_request_info"},{value:"device_lend_request_info",name:"device_lend_request_info"},{value:"result_by_miguan",name:"result_by_miguan"},{value:"qianhai_risk_score",name:"qianhai_risk_score"},{value:"rule_id_by_tongdun",name:"rule_id_by_tongdun"},{value:"gps_nearby_1km_lend_request_info",name:"gps_nearby_1km_lend_request_info"},{value:"same_company_info",name:"same_company_info"},{value:"contact_num",name:"contact_num"},{value:"emergency_contact_call_number_rank_list",name:"emergency_contact_call_number_rank_list"},{value:"check_register_phone_in_contact_book",name:"check_register_phone_in_contact_book"},{value:"check_reserved_phone_in_contact_book",name:"check_reserved_phone_in_contact_book"},{value:"province",name:"省份"},{value:"profession",name:"行业类别"}],deviceOptions:[{value:"ALL",name:"ALL"},{value:"iPhone",name:"iOS"},{value:"Android",name:"Android"}],searchParam:{personaType:"all",device:"ALL",dateRange:[n,r],date:r},activeName:"first",showDetail:!1,name:"detail",total:0,currentPage:1,pageSizes:[10,20,50,100,200],pageSize:50,tableData:[]}},methods:{getPersonasTypes:function(){var e=this;a.a.ajax({url:"api/requestParam/persona",type:"GET",contentType:"application/json",data:{},success:function(n){n.data&&n.data.list&&(e.personasTypes=n.data.list)},error:function(){}})},getDevices:function(){var e=this;a.a.ajax({url:"/api/requestParam/device",type:"GET",contentType:"application/json",success:function(n){n.data&&n.data.list&&(e.deviceOptions=n.data.list)},error:function(){e.deviceOptions=[{value:"ALL",name:"ALL"},{value:"iPhone",name:"IOS"},{value:"Android",name:"Android"}]}})},search:function(){var e=this,n=e.searchParam.date;a.a.ajax({url:"/api/loan/persona",type:"POST",contentType:"application/json",data:{pageIndex:e.currentPage,pageSize:e.pageSize,personaType:e.searchParam.personaType,date:Object(l.a)(n,"yyyy-MM-dd")},success:function(n){if(n.data&&n.data.list){var r=n.data;e.tableData=r.list,e.total=r.pageUtil.pageCount}},error:function(e){var n=e.message||e;t.Notification.error({title:"错误",message:n})}})},removeLabel:function(e){e.stopPropagation(),this.activeName="first",this.showDetail=!1},handleSizeChange:function(e){this.pageSize=e,this.search()},handleCurrentChange:function(e){this.currentPage=e,this.search()},handleClick:function(e){0==e.index&&(this.activeName="first")}},created:function(){},mounted:function(){this.getPersonasTypes(),this.getDevices(),this.search()}},function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(n){e.activeName=n},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"用户画像",name:"first"}},[r("div",{staticClass:"p_6"},[r("div",{staticClass:"search-wrapper"},[r("div",{staticClass:"search-content"},[r("el-select",{staticStyle:{width:"150px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.searchParam.personaType,callback:function(n){e.$set(e.searchParam,"personaType",n)},expression:"searchParam.personaType"}},e._l(e.personasTypes,function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1),e._v(" "),r("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",placeholder:"手机设备"},slot:"prepend",model:{value:e.searchParam.device,callback:function(n){e.$set(e.searchParam,"device",n)},expression:"searchParam.device"}},e._l(e.deviceOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1),e._v(" "),r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期范围"},model:{value:e.searchParam.date,callback:function(n){e.$set(e.searchParam,"date",n)},expression:"searchParam.date"}})],1),e._v(" "),r("div",{staticClass:"search-btn"},[r("el-button",{staticStyle:{width:"80px"},attrs:{slot:"append",icon:"search"},on:{click:e.search},slot:"append"},[e._v("查询")])],1)]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","default-sort":{prop:"date",order:"descending"}}},[r("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{prop:"personaType",label:"特征",align:"center",sortable:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"features",label:"特征分布",align:"center",sortable:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"totalCount",label:"总客户数",align:"center",width:"80",sortable:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"customerCount",label:"客户数",align:"center",width:"80",sortable:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"customerRate",label:"客户占比",align:"center",sortable:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"passTotalCount",label:"审核通过数",align:"center",width:"80",sortable:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"passTotalRate",label:"审核通过占比",align:"center",width:"80",sortable:""}})],1),e._v(" "),r("div",{staticClass:"pagination_position"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),e.showDetail?r("div",[r("el-tab-pane",{attrs:{name:"second"}})],1):e._e()],1)},[],!1,null,"aa80fe24",null);n.default=o.exports},138:function(e,n,r){var a=r(477);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,r(5).default)("7bb7b487",a,!0,{})},139:function(e,n,r){var a=r(479);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,r(5).default)("a703e9a0",a,!0,{})},2:function(e,n,r){"use strict";var a=r(32),t=r.n(a),l=r(51),s=r.n(l),o=r(26),i=r.n(o),c=r(16),p=function(e,n){return e.title="好分期报表系统",e.ajax=function(r){e.token=c.a.getToken();var a,l=r.url,o=+new Date;if(0<=l.indexOf("api/")){var i=c.a.getOldToken();o=i.timestamp,a=i.token}else a=e.token;r.uploadFiles||(r.type&&"get"==r.type.toLowerCase()?s()(r.data):"object"===s()(r.data)&&(r.data=t()(r.data))),n.ajax({headers:{Authorization:a,Timestamp:o},url:l,type:r.type||"GET",traditional:!0,data:r.data||{},async:r.async||!0,processData:void 0===r.processData||r.processData,contentType:void 0===r.contentType?n.ajaxSettings.contentType:r.contentType,dataType:r.dataType||"json",success:function(e){return e.status&&"0"!==e.status?void(-1==e.status?(alert("警告: "+e.message),c.a.setAsLoggedOut(),location.href="/#/login"):r.error?r.error(e):alert("警告: "+e.message+"\n错误："+e.status)):void(r.success&&r.success(e))},error:function(e){r.error&&(e.response?r.error(e.response):r.error({message:"请求失败"}))},complete:r.complete||void 0,timeout:r.timeout||null})},e.hasDuplicate=function(e,n){if("[object Array]"!==Object.prototype.toString.call(n))throw new Error("invalid argument");for(var r=0,a=n.length;r<a;r++)if(e==n[r])return!0;return!1},e.formatQuery=function(e){if("[object Object]"!==Object.prototype.toString.call(e))throw new Error("invalid argument");var n=e,r="?";for(var a in n)n.hasOwnProperty(a)&&(r+=a+"="+n[a]+"&");return r},e}(p||{},i.a);n.a=p},476:function(e,n,r){"use strict";var a=r(138);r.n(a).a},477:function(e,n,r){(e.exports=r(4)(!0)).push([e.i,"\n.el-select .el-input[data-v-aa80fe24] {\n  width: 100px;\n}\n.pagination_position[data-v-aa80fe24] {\n  padding-top: 20px;\n}\n.echarts[data-v-aa80fe24] {\n  height: 300px;\n}\n","",{version:3,sources:["src/views/contents/loan/personas.vue"],names:[],mappings:";AA2EA;EACA,YAAA;AACA;AAEA;EACA,iBAAA;AACA;AAEA;EACA,aAAA;AACA",file:"personas.vue?vue&type=style&index=0&id=aa80fe24&scoped=true&lang=css&",sourcesContent:['<template>\r\n  <el-tabs v-model="activeName" @tab-click="handleClick">\r\n    <el-tab-pane label="用户画像" name="first">\r\n      <div class="p_6">\r\n        <div class="search-wrapper">\r\n          <div class="search-content">\r\n            <el-select v-model="searchParam.personaType" slot="prepend" placeholder="请选择" style="width: 150px;">\r\n              <el-option\r\n                v-for="item in personasTypes"\r\n                :key="item.value"\r\n                :label="item.name"\r\n                :value="item.value">\r\n              </el-option>\r\n            </el-select>\r\n            <el-select v-model="searchParam.device" slot="prepend" placeholder="手机设备" style="width: 100px;">\r\n              <el-option\r\n                v-for="item in deviceOptions"\r\n                :key="item.value"\r\n                :label="item.name"\r\n                :value="item.value">\r\n              </el-option>\r\n            </el-select>\r\n            \x3c!--<el-date-picker--\x3e\r\n              \x3c!--v-model="searchParam.dateRange"--\x3e\r\n              \x3c!--type="daterange"--\x3e\r\n              \x3c!--placeholder="选择日期范围">--\x3e\r\n            \x3c!--</el-date-picker>--\x3e\r\n            <el-date-picker\r\n              v-model="searchParam.date"\r\n              type="date"\r\n              placeholder="选择日期范围">\r\n            </el-date-picker>\r\n          </div>\r\n          <div class="search-btn">\r\n            <el-button slot="append" icon="search" @click="search" style="width:80px; ">查询</el-button>\r\n          </div>\r\n        </div>\r\n        <el-table\r\n          :data="tableData" style="width: 100%" border :default-sort="{prop: \'date\', order: \'descending\'}">\r\n          <el-table-column\r\n            type="index"\r\n            align="center"\r\n            width="50">\r\n          </el-table-column>\r\n          <el-table-column prop="personaType" label="特征" align="center" sortable></el-table-column>\r\n          <el-table-column prop="features" label="特征分布" align="center" sortable></el-table-column>\r\n          <el-table-column prop="totalCount" label="总客户数" align="center" width="80" sortable></el-table-column>\r\n          <el-table-column prop="customerCount" label="客户数" align="center" width="80" sortable></el-table-column>\r\n          <el-table-column prop="customerRate" label="客户占比" align="center" sortable></el-table-column>\r\n          <el-table-column prop="passTotalCount" label="审核通过数" align="center" width="80" sortable></el-table-column>\r\n          <el-table-column prop="passTotalRate" label="审核通过占比" align="center" width="80" sortable></el-table-column>\r\n\r\n        </el-table>\r\n        <div class="pagination_position">\r\n          <el-pagination\r\n            @size-change="handleSizeChange"\r\n            @current-change="handleCurrentChange"\r\n            :current-page="currentPage"\r\n            :page-sizes="pageSizes"\r\n            :page-size="pageSize"\r\n            layout="total, sizes, prev, pager, next, jumper"\r\n            :total="total">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </el-tab-pane>\r\n    <div v-if="showDetail">\r\n      <el-tab-pane name="second">\r\n\r\n      </el-tab-pane>\r\n    </div>\r\n  </el-tabs>\r\n</template>\r\n\r\n<style scoped>\r\n  .el-select .el-input {\r\n    width: 100px;\r\n  }\r\n\r\n  .pagination_position {\r\n    padding-top: 20px;\r\n  }\r\n\r\n  .echarts {\r\n    height: 300px;\r\n  }\r\n</style>\r\n<style>\r\n  .el-table .cell, .el-table th > div {\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n    box-sizing: border-box;\r\n    text-overflow: ellipsis;\r\n  }\r\n</style>\r\n<script>\r\n  import Common from \'../../../utils/common\'\r\n  import {Notification} from \'element-ui\';\r\n  import formatDate from \'../../../utils/formatDate.js\'\r\n  export default{\r\n//    components:{\r\n//    },\r\n    data(){\r\n      let date = new Date();\r\n      let prevMonth = new Date(date.setDate(date.getDate() - 7));\r\n      let now = new Date();\r\n\r\n      //echats data\r\n\r\n      function randomData() {\r\n        return Math.round(Math.random() * 1000);\r\n      }\r\n\r\n      return {\r\n        personasTypes: [{\r\n          value: \'all\',\r\n          name: \'全部\'\r\n        }, {\r\n          value: \'gender\',\r\n          name: \'性别\'\r\n        }, {\r\n          value: \'plist_number\',\r\n          name: \'plist_number\'\r\n        }, {\r\n          value: \'phone_in_use_time\',\r\n          name: \'phone_in_use_time\'\r\n        }, {\r\n          value: \'id_number_lend_request_info\',\r\n          name: \'id_number_lend_request_info\'\r\n        }, {\r\n          value: \'device_lend_request_info\',\r\n          name: \'device_lend_request_info\'\r\n        }, {\r\n          value: \'result_by_miguan\',\r\n          name: \'result_by_miguan\'\r\n        }, {\r\n          value: \'qianhai_risk_score\',\r\n          name: \'qianhai_risk_score\'\r\n        }, {\r\n          value: \'rule_id_by_tongdun\',\r\n          name: \'rule_id_by_tongdun\'\r\n        }, {\r\n          value: \'gps_nearby_1km_lend_request_info\',\r\n          name: \'gps_nearby_1km_lend_request_info\'\r\n        }, {\r\n          value: \'same_company_info\',\r\n          name: \'same_company_info\'\r\n        }, {\r\n          value: \'contact_num\',\r\n          name: \'contact_num\'\r\n        }, {\r\n          value: \'emergency_contact_call_number_rank_list\',\r\n          name: \'emergency_contact_call_number_rank_list\'\r\n        }, {\r\n          value: \'check_register_phone_in_contact_book\',\r\n          name: \'check_register_phone_in_contact_book\'\r\n        }, {\r\n          value: \'check_reserved_phone_in_contact_book\',\r\n          name: \'check_reserved_phone_in_contact_book\'\r\n        }, {\r\n          value: \'province\',\r\n          name: \'省份\'\r\n        }, {\r\n          value: \'profession\',\r\n          name: \'行业类别\'\r\n        },\r\n        ],\r\n        deviceOptions: [{\r\n          value: \'ALL\',\r\n          name: \'ALL\',\r\n        }, {\r\n          value: \'iPhone\',\r\n          name: \'iOS\',\r\n        }, {\r\n          value: \'Android\',\r\n          name: \'Android\'\r\n        }],\r\n        searchParam: {\r\n          personaType: "all",\r\n          device: "ALL",\r\n          dateRange: [prevMonth, now],\r\n          date:now\r\n        },\r\n        activeName: \'first\',\r\n        showDetail: false,\r\n        name: \'detail\',\r\n        total: 0,\r\n        currentPage: 1,\r\n        pageSizes: [10, 20, 50, 100, 200],\r\n        pageSize: 50,\r\n        tableData: [],\r\n      }\r\n    },\r\n    methods: {\r\n      getPersonasTypes(){\r\n        Common.ajax({\r\n          //url: "/api/loan/personasTypes",\r\n          url: \'api/requestParam/persona\',\r\n          type: \'GET\',\r\n          contentType: "application/json",\r\n          data: {},\r\n          success: (response) => {\r\n            //console.log(response);\r\n            if (response.data && response.data.list) {\r\n              this.personasTypes = response.data.list;\r\n            }\r\n          },\r\n          error(err){\r\n//            let error = err.message || err;\r\n//            Notification.error({\r\n//              title: \'错误\',\r\n//              message: error\r\n//            });\r\n          }\r\n        })\r\n      },\r\n      getDevices(){\r\n        Common.ajax({\r\n          url: \'/api/requestParam/device\',\r\n          type: \'GET\',\r\n          contentType: \'application/json\',\r\n          success: (response) => {\r\n            if (response.data && response.data.list) {\r\n              this.deviceOptions = response.data.list;\r\n            }\r\n          },\r\n          error: (err) => {\r\n            this.deviceOptions = [{\r\n              value: \'ALL\',\r\n              name: \'ALL\',\r\n            }, {\r\n              value: \'iPhone\',\r\n              name: \'IOS\',\r\n            }, {\r\n              value: \'Android\',\r\n              name: \'Android\'\r\n            }];\r\n          }\r\n        });\r\n      },\r\n      search(){\r\n        let self = this;\r\n        let date = self.searchParam.date;\r\n        //console.log(\'date\',self.searchParam.date);\r\n        Common.ajax({\r\n          url: "/api/loan/persona",\r\n          type: \'POST\',\r\n          contentType: "application/json",\r\n          data: {\r\n            pageIndex: self.currentPage,\r\n            pageSize: self.pageSize,\r\n            //device: self.searchParam.device,\r\n            personaType: self.searchParam.personaType,\r\n            date: formatDate(date, \'yyyy-MM-dd\'),\r\n            //endTime: formatDate(dateRange[1], \'yyyy-MM-dd\')\r\n          },\r\n          success(response){\r\n            //console.log(response);\r\n            if (response.data && response.data.list) {\r\n              let data = response.data;\r\n              self.tableData = data.list;\r\n              self.total = data.pageUtil.pageCount;\r\n            }\r\n          },\r\n          error(err){\r\n            let error = err.message || err;\r\n            Notification.error({\r\n              title: \'错误\',\r\n              message: error\r\n            });\r\n          }\r\n        })\r\n      },\r\n      removeLabel(event){\r\n        //console.log(event);\r\n        event.stopPropagation();\r\n        this.activeName = \'first\';\r\n        this.showDetail = false;\r\n\r\n      },\r\n      handleSizeChange(val) {\r\n        this.pageSize = val;\r\n        //console.log(`每页 ${val} 条`);\r\n        this.search();\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.currentPage = val;\r\n        //console.log(`当前页: ${val}`);\r\n        this.search();\r\n      },\r\n      handleClick(tab, event) {\r\n        let index = tab.index;\r\n        if (index == 0) {\r\n          this.activeName = \'first\';\r\n        }\r\n      }\r\n    },\r\n    created(){\r\n      //this.search();\r\n      //console.log(\'created\', this);\r\n    },\r\n    mounted(){\r\n      //\r\n      //console.log(\'mounted\', this);\r\n      this.getPersonasTypes();\r\n      this.getDevices();\r\n      this.search();\r\n    }\r\n  }\r\n<\/script>\r\n']}])},478:function(e,n,r){"use strict";var a=r(139);r.n(a).a},479:function(e,n,r){(e.exports=r(4)(!0)).push([e.i,"\n.el-table .cell, .el-table th > div {\n  padding-left: 5px;\n  padding-right: 5px;\n  box-sizing: border-box;\n  text-overflow: ellipsis;\n}\n","",{version:3,sources:["src/views/contents/loan/personas.vue"],names:[],mappings:";AAwFA;EACA,iBAAA;EACA,kBAAA;EACA,sBAAA;EACA,uBAAA;AACA",file:"personas.vue?vue&type=style&index=1&lang=css&",sourcesContent:['<template>\r\n  <el-tabs v-model="activeName" @tab-click="handleClick">\r\n    <el-tab-pane label="用户画像" name="first">\r\n      <div class="p_6">\r\n        <div class="search-wrapper">\r\n          <div class="search-content">\r\n            <el-select v-model="searchParam.personaType" slot="prepend" placeholder="请选择" style="width: 150px;">\r\n              <el-option\r\n                v-for="item in personasTypes"\r\n                :key="item.value"\r\n                :label="item.name"\r\n                :value="item.value">\r\n              </el-option>\r\n            </el-select>\r\n            <el-select v-model="searchParam.device" slot="prepend" placeholder="手机设备" style="width: 100px;">\r\n              <el-option\r\n                v-for="item in deviceOptions"\r\n                :key="item.value"\r\n                :label="item.name"\r\n                :value="item.value">\r\n              </el-option>\r\n            </el-select>\r\n            \x3c!--<el-date-picker--\x3e\r\n              \x3c!--v-model="searchParam.dateRange"--\x3e\r\n              \x3c!--type="daterange"--\x3e\r\n              \x3c!--placeholder="选择日期范围">--\x3e\r\n            \x3c!--</el-date-picker>--\x3e\r\n            <el-date-picker\r\n              v-model="searchParam.date"\r\n              type="date"\r\n              placeholder="选择日期范围">\r\n            </el-date-picker>\r\n          </div>\r\n          <div class="search-btn">\r\n            <el-button slot="append" icon="search" @click="search" style="width:80px; ">查询</el-button>\r\n          </div>\r\n        </div>\r\n        <el-table\r\n          :data="tableData" style="width: 100%" border :default-sort="{prop: \'date\', order: \'descending\'}">\r\n          <el-table-column\r\n            type="index"\r\n            align="center"\r\n            width="50">\r\n          </el-table-column>\r\n          <el-table-column prop="personaType" label="特征" align="center" sortable></el-table-column>\r\n          <el-table-column prop="features" label="特征分布" align="center" sortable></el-table-column>\r\n          <el-table-column prop="totalCount" label="总客户数" align="center" width="80" sortable></el-table-column>\r\n          <el-table-column prop="customerCount" label="客户数" align="center" width="80" sortable></el-table-column>\r\n          <el-table-column prop="customerRate" label="客户占比" align="center" sortable></el-table-column>\r\n          <el-table-column prop="passTotalCount" label="审核通过数" align="center" width="80" sortable></el-table-column>\r\n          <el-table-column prop="passTotalRate" label="审核通过占比" align="center" width="80" sortable></el-table-column>\r\n\r\n        </el-table>\r\n        <div class="pagination_position">\r\n          <el-pagination\r\n            @size-change="handleSizeChange"\r\n            @current-change="handleCurrentChange"\r\n            :current-page="currentPage"\r\n            :page-sizes="pageSizes"\r\n            :page-size="pageSize"\r\n            layout="total, sizes, prev, pager, next, jumper"\r\n            :total="total">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </el-tab-pane>\r\n    <div v-if="showDetail">\r\n      <el-tab-pane name="second">\r\n\r\n      </el-tab-pane>\r\n    </div>\r\n  </el-tabs>\r\n</template>\r\n\r\n<style scoped>\r\n  .el-select .el-input {\r\n    width: 100px;\r\n  }\r\n\r\n  .pagination_position {\r\n    padding-top: 20px;\r\n  }\r\n\r\n  .echarts {\r\n    height: 300px;\r\n  }\r\n</style>\r\n<style>\r\n  .el-table .cell, .el-table th > div {\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n    box-sizing: border-box;\r\n    text-overflow: ellipsis;\r\n  }\r\n</style>\r\n<script>\r\n  import Common from \'../../../utils/common\'\r\n  import {Notification} from \'element-ui\';\r\n  import formatDate from \'../../../utils/formatDate.js\'\r\n  export default{\r\n//    components:{\r\n//    },\r\n    data(){\r\n      let date = new Date();\r\n      let prevMonth = new Date(date.setDate(date.getDate() - 7));\r\n      let now = new Date();\r\n\r\n      //echats data\r\n\r\n      function randomData() {\r\n        return Math.round(Math.random() * 1000);\r\n      }\r\n\r\n      return {\r\n        personasTypes: [{\r\n          value: \'all\',\r\n          name: \'全部\'\r\n        }, {\r\n          value: \'gender\',\r\n          name: \'性别\'\r\n        }, {\r\n          value: \'plist_number\',\r\n          name: \'plist_number\'\r\n        }, {\r\n          value: \'phone_in_use_time\',\r\n          name: \'phone_in_use_time\'\r\n        }, {\r\n          value: \'id_number_lend_request_info\',\r\n          name: \'id_number_lend_request_info\'\r\n        }, {\r\n          value: \'device_lend_request_info\',\r\n          name: \'device_lend_request_info\'\r\n        }, {\r\n          value: \'result_by_miguan\',\r\n          name: \'result_by_miguan\'\r\n        }, {\r\n          value: \'qianhai_risk_score\',\r\n          name: \'qianhai_risk_score\'\r\n        }, {\r\n          value: \'rule_id_by_tongdun\',\r\n          name: \'rule_id_by_tongdun\'\r\n        }, {\r\n          value: \'gps_nearby_1km_lend_request_info\',\r\n          name: \'gps_nearby_1km_lend_request_info\'\r\n        }, {\r\n          value: \'same_company_info\',\r\n          name: \'same_company_info\'\r\n        }, {\r\n          value: \'contact_num\',\r\n          name: \'contact_num\'\r\n        }, {\r\n          value: \'emergency_contact_call_number_rank_list\',\r\n          name: \'emergency_contact_call_number_rank_list\'\r\n        }, {\r\n          value: \'check_register_phone_in_contact_book\',\r\n          name: \'check_register_phone_in_contact_book\'\r\n        }, {\r\n          value: \'check_reserved_phone_in_contact_book\',\r\n          name: \'check_reserved_phone_in_contact_book\'\r\n        }, {\r\n          value: \'province\',\r\n          name: \'省份\'\r\n        }, {\r\n          value: \'profession\',\r\n          name: \'行业类别\'\r\n        },\r\n        ],\r\n        deviceOptions: [{\r\n          value: \'ALL\',\r\n          name: \'ALL\',\r\n        }, {\r\n          value: \'iPhone\',\r\n          name: \'iOS\',\r\n        }, {\r\n          value: \'Android\',\r\n          name: \'Android\'\r\n        }],\r\n        searchParam: {\r\n          personaType: "all",\r\n          device: "ALL",\r\n          dateRange: [prevMonth, now],\r\n          date:now\r\n        },\r\n        activeName: \'first\',\r\n        showDetail: false,\r\n        name: \'detail\',\r\n        total: 0,\r\n        currentPage: 1,\r\n        pageSizes: [10, 20, 50, 100, 200],\r\n        pageSize: 50,\r\n        tableData: [],\r\n      }\r\n    },\r\n    methods: {\r\n      getPersonasTypes(){\r\n        Common.ajax({\r\n          //url: "/api/loan/personasTypes",\r\n          url: \'api/requestParam/persona\',\r\n          type: \'GET\',\r\n          contentType: "application/json",\r\n          data: {},\r\n          success: (response) => {\r\n            //console.log(response);\r\n            if (response.data && response.data.list) {\r\n              this.personasTypes = response.data.list;\r\n            }\r\n          },\r\n          error(err){\r\n//            let error = err.message || err;\r\n//            Notification.error({\r\n//              title: \'错误\',\r\n//              message: error\r\n//            });\r\n          }\r\n        })\r\n      },\r\n      getDevices(){\r\n        Common.ajax({\r\n          url: \'/api/requestParam/device\',\r\n          type: \'GET\',\r\n          contentType: \'application/json\',\r\n          success: (response) => {\r\n            if (response.data && response.data.list) {\r\n              this.deviceOptions = response.data.list;\r\n            }\r\n          },\r\n          error: (err) => {\r\n            this.deviceOptions = [{\r\n              value: \'ALL\',\r\n              name: \'ALL\',\r\n            }, {\r\n              value: \'iPhone\',\r\n              name: \'IOS\',\r\n            }, {\r\n              value: \'Android\',\r\n              name: \'Android\'\r\n            }];\r\n          }\r\n        });\r\n      },\r\n      search(){\r\n        let self = this;\r\n        let date = self.searchParam.date;\r\n        //console.log(\'date\',self.searchParam.date);\r\n        Common.ajax({\r\n          url: "/api/loan/persona",\r\n          type: \'POST\',\r\n          contentType: "application/json",\r\n          data: {\r\n            pageIndex: self.currentPage,\r\n            pageSize: self.pageSize,\r\n            //device: self.searchParam.device,\r\n            personaType: self.searchParam.personaType,\r\n            date: formatDate(date, \'yyyy-MM-dd\'),\r\n            //endTime: formatDate(dateRange[1], \'yyyy-MM-dd\')\r\n          },\r\n          success(response){\r\n            //console.log(response);\r\n            if (response.data && response.data.list) {\r\n              let data = response.data;\r\n              self.tableData = data.list;\r\n              self.total = data.pageUtil.pageCount;\r\n            }\r\n          },\r\n          error(err){\r\n            let error = err.message || err;\r\n            Notification.error({\r\n              title: \'错误\',\r\n              message: error\r\n            });\r\n          }\r\n        })\r\n      },\r\n      removeLabel(event){\r\n        //console.log(event);\r\n        event.stopPropagation();\r\n        this.activeName = \'first\';\r\n        this.showDetail = false;\r\n\r\n      },\r\n      handleSizeChange(val) {\r\n        this.pageSize = val;\r\n        //console.log(`每页 ${val} 条`);\r\n        this.search();\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.currentPage = val;\r\n        //console.log(`当前页: ${val}`);\r\n        this.search();\r\n      },\r\n      handleClick(tab, event) {\r\n        let index = tab.index;\r\n        if (index == 0) {\r\n          this.activeName = \'first\';\r\n        }\r\n      }\r\n    },\r\n    created(){\r\n      //this.search();\r\n      //console.log(\'created\', this);\r\n    },\r\n    mounted(){\r\n      //\r\n      //console.log(\'mounted\', this);\r\n      this.getPersonasTypes();\r\n      this.getDevices();\r\n      this.search();\r\n    }\r\n  }\r\n<\/script>\r\n']}])},51:function(e,n,r){e.exports=r(45)(3)}}]);
//# sourceMappingURL=11.1d6ccf856257868f82ab.js.map