{"version":3,"sources":["webpack:///./src/utils/formatDate.js","webpack:///./src/data/personas/other.js","webpack:///./src/data/personas/otherPie.js","webpack:///./src/views/contents/loan/personas/other.vue","webpack:///src/views/contents/loan/personas/other.vue","webpack:///./src/views/contents/loan/personas/other.vue?8cdb","webpack:///./src/views/contents/loan/personas/other.vue?4a4b","webpack:///./src/utils/common.js","webpack:///./src/views/contents/loan/personas/other.vue?1015","webpack:///./src/views/contents/loan/personas/other.vue?c52a","webpack:///delegated ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/typeof.js from dll-reference vendor_b35904a9f84fabbc839d"],"names":["b","a","formatDate","Object","Error","o","M+","Date","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","S","getMilliseconds","d","test","format","RegExp","getFullYear","substr","c","barData","title","text","subtext","padding","bottom","textStyle","color","fontSize","tooltip","trigger","axisPointer","type","legend","x","data","grid","left","right","containLabel","xAxis","yAxis","series","formatter","name","selectedMode","radius","label","normal","position","labelLine","show","r","q","props","components","setDate","bar","n","pie","deviceOptions","value","personasTypes","searchParam","device","dateRange","date","activeName","showDetail","isFullScreen","methods","clearBarData","this","clearPieData","resizeEcharts","$refs","e","document","querySelectorAll","length","f","style","width","resize","getPersonasTypes","ajax","url","contentType","success","list","push","error","getDevices","search","personaType","g","status","forEach","totalCount","features","customerCount","passTotalCount","parseFloat","customerRate","split","passTotalRate","message","Notification","handleClick","index","created","mounted","showLoading","maskColor","hideLoading","$createElement","_self","_c","on","tab-click","model","callback","expression","attrs","staticClass","staticStyle","slot","placeholder","$set","_l","key","_v","icon","click","ref","options","theme","auto-resize","removeLabel","_e","exports","i","locals","default","Common","api","auth","_timestamp","_authTokenObj","getOldToken","_authToken","uploadFiles","$","headers","Authorization","Timestamp","h","traditional","async","processData","dataType","response","alert","location","XMLHttpRequest","complete","timeout","l","arr","obj","resultQuery","hasOwnProperty","k","jQuery","version","sources","names","mappings","file","sourcesContent"],"mappings":"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","file":"dist/js/27.88da1f192c6eee26f5b3.js","sourcesContent":["/**\r\n * Created by 焦丙乾(jiaobingqian) on 2017/2/8.\r\n */\r\n// export const toDate = function(date) {\r\n//   return isDate(date) ? new Date(date) : null;\r\n// };\r\n//\r\n// export const isDate = function(date) {\r\n//   if (date === null || date === undefined) return false;\r\n//   if (isNaN(new Date(date).getTime())) return false;\r\n//   return true;\r\n// };\r\nconst formatDate = function(_datetime,format){\r\n    /* * 使用例子:format=\"yyyy-MM-dd hh:mm:ss\"; */\r\n    if(Object.prototype.toString.call(_datetime) !==\"[object Date]\" && typeof _datetime !='string'){\r\n      throw  new Error(\"参数类型不合法！\");\r\n    }\r\n  \r\n    var o = {\r\n        \"M+\" : new Date(_datetime).getMonth() + 1,// month\r\n        \"d+\" : new Date(_datetime).getDate(), // day\r\n        \"h+\" : new Date(_datetime).getHours(), // hour\r\n        \"m+\" : new Date(_datetime).getMinutes(), // minute\r\n        \"s+\" : new Date(_datetime).getSeconds(), // second\r\n        \"q+\" : Math.floor((new Date(_datetime).getMonth() + 3) / 3), // quarter\r\n        \"S\" : new Date(_datetime).getMilliseconds() // millisecond\r\n    }\r\n    if (/(y+)/.test(format)) {\r\n        format = format.replace(RegExp.$1, (new Date(_datetime).getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n    }\r\n    for (var k in o) {\r\n        if (new RegExp(\"(\" + k + \")\").test(format)) {\r\n            format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\r\n        }\r\n    }\r\n    return format;\r\n}\r\n\r\nexport default formatDate;\r\n","/**\r\n * Created by 焦丙乾(jiaobingqian) on 2017/3/8.\r\n */\r\nexport let initial = {\r\n  \r\n  title: {\r\n    text: '示例'\r\n  },\r\n  tooltip: {},\r\n  legend: {\r\n    data:['客户数','审核通过数']\r\n  },\r\n  xAxis: {\r\n    data: []\r\n  },\r\n  yAxis: {\r\n    axisLabel: {show: false}\r\n  },\r\n  series: []\r\n};\r\n\r\nexport let barData = {\r\n  \r\n  title: {\r\n    text: '用户画像',\r\n    subtext: '',\r\n    padding:0,\r\n    bottom: 'bottom',\r\n    textStyle: {\r\n      color: '#000',\r\n      fontSize:14\r\n    }\r\n  },\r\n  tooltip : {\r\n    trigger: 'axis',\r\n    axisPointer : {            // 坐标轴指示器，坐标轴触发有效\r\n      type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\r\n    }\r\n  },\r\n  legend: {\r\n    // orient: 'vertical',\r\n    // y: 0,\r\n    x: 'left',\r\n    data:[]\r\n  },\r\n  grid: {\r\n    left: '3%',\r\n    right: '4%',\r\n    bottom: '3%',\r\n    containLabel: true\r\n  },\r\n  xAxis : [\r\n    {\r\n      type : 'category',\r\n      data : ['客户数','审核通过数'],\r\n      \r\n    }\r\n  ],\r\n  yAxis : [\r\n    {\r\n      type : 'value',\r\n      \r\n    }\r\n  ],\r\n  series : [\r\n    // {\r\n    //   name:'M',\r\n    //   type:'bar',\r\n    //   stack:'gender',\r\n    //   data:[1308,'83.52%',93,'7.11%']\r\n    // },\r\n    // {\r\n    //   name:'F',\r\n    //   type:'bar',\r\n    //   stack:'gender',\r\n    //   data:[1308,'83.52%',93,'7.11%']\r\n    // },\r\n    // {\r\n    //   name:'>0',\r\n    //   type:'bar',\r\n    //   stack:'plist_number',\r\n    //   data:[1378,'87.52%',103,'7.69%']\r\n    // },\r\n    // {\r\n    //   name:'0',\r\n    //   type:'bar',\r\n    //   stack:'plist_number',\r\n    //   data:[78,'8.52%',5,'5.69%']\r\n    // },\r\n    // {\r\n    //   name:'invalid',\r\n    //   type:'bar',\r\n    //   stack:'plist_number',\r\n    //   data:[12,'8.52%',5,'5.69%']\r\n    // },\r\n\t//\r\n    // {\r\n    //   name:'>12',\r\n    //   type:'bar',\r\n    //   stack:'phone_in_use_time',\r\n    //   data:[1378,'87.52%',103,'7.69%']\r\n    // },\r\n    // {\r\n    //   name:'<=12',\r\n    //   type:'bar',\r\n    //   stack:'phone_in_use_time',\r\n    //   data:[78,'8.52%',5,'5.69%']\r\n    // },\r\n    // {\r\n    //   name:'invalid',\r\n    //   type:'bar',\r\n    //   stack:'phone_in_use_time',\r\n    //   data:[53,'3.52%',8,'8.69%']\r\n    // },\r\n\r\n  ]\r\n};\r\n","/**\r\n * Created by 焦丙乾(jiaobingqian) on 2017/3/9.\r\n */\r\n\r\nexport default {\r\n  title: {\r\n    text: '客户数占比(内)，审核通过数占比（外）',\r\n    subtext: '',\r\n    padding:0,\r\n    bottom: 'bottom',\r\n    left:'center',\r\n    textStyle: {\r\n      //color: '#fff',\r\n      fontSize:14\r\n    }\r\n  },\r\n  //backgroundColor: '#2c343c',\r\n  tooltip: {\r\n    trigger: 'item',\r\n    formatter: \"{a} <br/>{b}: {c}\"\r\n  },\r\n  legend: {\r\n    //orient: 'vertical',\r\n    x: 'left',\r\n    textStyle:{\r\n      //color:'#fff',\r\n      \r\n    },\r\n    data:[]\r\n  },\r\n  series: [\r\n    {\r\n      name:'客户数占比',\r\n      type:'pie',\r\n      \r\n      selectedMode: 'single',\r\n      radius: [0, '50%'],\r\n      label: {\r\n        normal: {\r\n          position: 'inner',\r\n          formatter: '{b}:{c}',\r\n        }\r\n      },\r\n      labelLine: {\r\n        normal: {\r\n          show: false\r\n        }\r\n      },\r\n      data:[\r\n      ]\r\n    },\r\n    {\r\n      name:'审核数占比',\r\n      type:'pie',\r\n      radius: ['60%', '85%'],\r\n      label: {\r\n        normal: {\r\n          show:true,\r\n          position: 'inner',\r\n          formatter: '{b}:{c}',\r\n        }\r\n      },\r\n      labelLine: {\r\n        normal: {\r\n          show: false\r\n        }\r\n      },\r\n      // label: {\r\n      //   normal: {\r\n      //     show: false\r\n      //   },\r\n      //   emphasis: {\r\n      //     show: true\r\n      //   }\r\n      // },\r\n      // lableLine: {\r\n      //   normal: {\r\n      //     show: false\r\n      //   },\r\n      //   emphasis: {\r\n      //     show: true\r\n      //   }\r\n      // },\r\n      data:[\r\n      ]\r\n    }\r\n  ]\r\n};\r\n","import { render, staticRenderFns } from \"./other.vue?vue&type=template&id=830e606e&scoped=true&\"\nimport script from \"./other.vue?vue&type=script&lang=js&\"\nexport * from \"./other.vue?vue&type=script&lang=js&\"\nimport style0 from \"./other.vue?vue&type=style&index=0&id=830e606e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"830e606e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n    <el-tab-pane label=\"用户画像\" name=\"first\">\r\n      <div class=\"p_6\">\r\n        <div class=\"search-wrapper\">\r\n          <div class=\"search-content\">\r\n            <el-select v-model=\"searchParam.type\" slot=\"prepend\" placeholder=\"请选择\" style=\"width: 260px;\">\r\n              <el-option\r\n                v-for=\"item in personasTypes\"\r\n                :key=\"item.value\"\r\n                :label=\"item.name\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n            <el-select v-model=\"searchParam.device\" slot=\"prepend\" placeholder=\"手机设备\" style=\"width: 100px;\">\r\n              <el-option\r\n                v-for=\"item in deviceOptions\"\r\n                :key=\"item.name\"\r\n                :label=\"item.name\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n            <!--<el-date-picker-->\r\n              <!--v-model=\"searchParam.dateRange\"-->\r\n              <!--type=\"daterange\"-->\r\n              <!--placeholder=\"选择日期范围\">-->\r\n            <!--</el-date-picker>-->\r\n            <el-date-picker\r\n              v-model=\"searchParam.date\"\r\n              type=\"date\"\r\n              placeholder=\"选择日期\">\r\n            </el-date-picker>\r\n          </div>\r\n          <div class=\"search-btn\">\r\n            <el-button slot=\"append\" icon=\"search\" @click=\"search\" style=\"width:80px; \">查询</el-button>\r\n          </div>\r\n        </div>\r\n\r\n        <hr>\r\n        <figure class=\"chart-wrapper\">\r\n          <chart :options=\"bar\" ref=\"bar\" theme=\"ovilia-green\" auto-resize></chart>\r\n          <chart :options=\"pie\" ref=\"pie\" theme=\"ovilia-green\" auto-resize></chart>\r\n        </figure>\r\n      </div>\r\n    </el-tab-pane>\r\n    <div v-if=\"showDetail\">\r\n      <el-tab-pane name=\"second\">\r\n        <span slot=\"label\"> 详情<i class=\"el-icon-close\" @click=\"removeLabel($event)\"></i></span>\r\n      </el-tab-pane>\r\n    </div>\r\n  </el-tabs>\r\n</template>\r\n\r\n<style scoped>\r\n  .el-select .el-input {\r\n    width: 200px;\r\n  }\r\n\r\n  .pagination_position {\r\n    padding-top: 20px;\r\n  }\r\n\r\n  .search-wrapper {\r\n    margin: 0px auto 10px;\r\n  }\r\n\r\n  .chart-wrapper {\r\n    display: -webkit-flex; /* Safari */\r\n    display: flex;\r\n    display: -ms-flex;\r\n\r\n    /*!*flex主轴方向*!*/\r\n    /*-webkit-flex-direction: row;*/\r\n    /*flex-direction: row;*/\r\n    /*-ms-flex-direction: row;*/\r\n\r\n    /*!*flex主轴溢出排版方式*!*/\r\n    /*-webkit-flex-wrap: wrap;*/\r\n    /*flex-wrap: wrap;*/\r\n    /*-ms-flex-wrap: wrap;*/\r\n\r\n    /*flex主轴方向和主轴溢出排版方式的简写*/\r\n    -webkit-flex-flow: row wrap;\r\n    flex-flow: row wrap;\r\n    -ms-flex-flow: row wrap;\r\n\r\n    /*内容在主轴上的对齐方式*/\r\n    -webkit-justify-content: space-between;\r\n    justify-content: space-between;\r\n    -ms-justify-content: space-between;\r\n\r\n    /*内容项目在交叉轴上的对齐方式*/\r\n    -webkit-align-items: stretch;\r\n    align-items: stretch;\r\n    -ms-align-items: stretch;\r\n\r\n    /*多轴的时候轴线的对齐方式*/\r\n    -webkit-align-content: stretch;\r\n    align-content: stretch;\r\n    -ms-align-content: stretch;\r\n  }\r\n\r\n  .echarts {\r\n\r\n    width: 48%;\r\n    min-height: 400px;\r\n  }\r\n</style>\r\n\r\n<script>\r\n  import Common from '../../../../utils/common'\r\n  import auth from '../../../../utils/authenticate'\r\n  import {Notification} from 'element-ui';\r\n  import formatDate from '../../../../utils/formatDate.js'\r\n  //引入Echats图表组件\r\n  import VueECharts from 'vue-echarts/components/ECharts.vue'\r\n\r\n  import 'echarts/lib/chart/scatter'\r\n  import 'echarts/lib/chart/effectScatter'\r\n  import 'echarts/lib/component/toolbox'\r\n  import 'echarts/lib/component/tooltip'\r\n  // built-in theme\r\n  import 'echarts/theme/dark'\r\n\r\n  import {initial as barInit, barData}  from '../../../../data/personas/other.js'\r\n  import pie from '../../../../data/personas/otherPie'\r\n\r\n  export default {\r\n    props: [],\r\n    components: {},\r\n    data(){\r\n      let date = new Date();\r\n      let prevMonth = new Date(date.setDate(date.getDate() - 7));\r\n      let now = new Date();\r\n\r\n      return {\r\n        bar: barData,\r\n        pie,\r\n        deviceOptions: [{\r\n          value: 'ALL',\r\n          name: 'ALL',\r\n        }, {\r\n          value: 'iPhone',\r\n          name: 'iOS',\r\n        }, {\r\n          value: 'Android',\r\n          name: 'Android'\r\n        }],\r\n        personasTypes: [\r\n        ],\r\n        searchParam: {\r\n          type: \"gender\",\r\n          device: \"ALL\",\r\n          dateRange: [prevMonth, now],\r\n          date:now,\r\n        },\r\n        activeName: 'first',\r\n        showDetail: false,\r\n        name: 'detail',\r\n        isFullScreen: false,\r\n      }\r\n    },\r\n    methods: {\r\n      clearBarData(){\r\n        this.bar.legend.data = [];\r\n        this.bar.series = [];\r\n      },\r\n      clearPieData(){\r\n        pie.legend.data = [];\r\n        pie.series[0].data = [];\r\n        pie.series[1].data = [];\r\n      },\r\n      resizeEcharts(val){\r\n        let echarts, echartsLen;\r\n        let bar = this.$refs.bar;\r\n        let pie = this.$refs.pie;\r\n        echarts = document.querySelectorAll('.echarts');\r\n        echartsLen = echarts.length;\r\n        for (var i = 0; i < echartsLen; i++) {\r\n          echarts[i].style.width = val;\r\n        }\r\n        bar.resize();\r\n        pie.resize();\r\n      },\r\n      getPersonasTypes(){\r\n        Common.ajax({\r\n          //url: \"/api/loan/personasTypes\",\r\n          url:'api/requestParam/persona',\r\n          type: 'GET',\r\n          contentType: \"application/json\",\r\n          data: {\r\n          },\r\n          success:(response)=>{\r\n            //console.log(response);\r\n            if (response.data && response.data.list) {\r\n            \tlet types = response.data.list;\r\n            \tlet len = types.length;\r\n              this.personasTypes = [];\r\n              for(var i = 0;i<len;i++){\r\n              \tif(types[i].name !='ALL' && types[i].name !='province'){\r\n                  this.personasTypes.push(types[i]);\r\n                }\r\n\r\n              }\r\n            }\r\n          },\r\n          error(err){\r\n//            let error = err.message || err;\r\n//            Notification.error({\r\n//              title: '错误',\r\n//              message: error\r\n//            });\r\n          }\r\n        })\r\n      },\r\n      getDevices(){\r\n        Common.ajax({\r\n          url: '/api/requestParam/device',\r\n          type: 'GET',\r\n          contentType: 'application/json',\r\n          success: (response) => {\r\n            if (response.data && response.data.list) {\r\n              this.deviceOptions = response.data.list;\r\n            }\r\n          },\r\n          error: (err) => {\r\n            this.deviceOptions = [{\r\n              value: 'ALL',\r\n              name: 'ALL',\r\n            }, {\r\n              value: 'iPhone',\r\n              name: 'IOS',\r\n            }, {\r\n              value: 'Android',\r\n              name: 'Android'\r\n            }];\r\n          }\r\n        });\r\n      },\r\n      search(){\r\n        let self = this;\r\n        let type = self.searchParam.type;\r\n        let dateRange = self.searchParam.dateRange;\r\n        //console.log('type',type);\r\n        if (type == 'profession') {\r\n          this.isFullScreen = true;\r\n          pie.series[0].label.normal.show = false;\r\n          pie.series[1].label.normal.show = false;\r\n          //resize charts\r\n          this.resizeEcharts('100%');\r\n\r\n        }\r\n        else if (this.isFullScreen) {\r\n          this.isFullScreen = false;\r\n          pie.series[0].label.normal.show = true;\r\n          pie.series[1].label.normal.show = true;\r\n          this.resizeEcharts('49%');\r\n        }\r\n\r\n        Common.ajax({\r\n          url: \"/api/loan/persona\",\r\n          type: 'POST',\r\n          contentType: \"application/json\",\r\n          data: {\r\n            personaType: type,\r\n            date: formatDate(dateRange[0], 'yyyy-MM-dd'),\r\n            //beginTime: formatDate(dateRange[0], 'yyyy-MM-dd'),\r\n            //endTime: formatDate(dateRange[1], 'yyyy-MM-dd')\r\n          },\r\n          success: (response) => {\r\n            //console.log(response);\r\n            if (response.data && response.data.list) {\r\n              if (!response.status) {\r\n                let list = response.data.list;\r\n                let total;\r\n                //清空bar\r\n                this.clearBarData();\r\n                //清空pie数据\r\n                this.clearPieData();\r\n\r\n                list.forEach((obj, index, arr) => {\r\n                  if (!total) {\r\n                    total = obj.totalCount;\r\n                    this.bar.title.text = '总客户数：' + total;\r\n                  }\r\n                  /**\r\n                   * bar柱状图数据渲染\r\n                   */\r\n                  this.bar.legend.data.push(obj.features);\r\n                  this.bar.series.push(\r\n                    {\r\n                      name: obj.features,\r\n                      type: 'bar',\r\n                      //stack: obj.type,\r\n                      data: [obj.customerCount, obj.passTotalCount]\r\n                    }\r\n                  );\r\n                  //console.log('饼图数据：', obj.customerRate, obj.auditSuccessRatio);\r\n                  /**\r\n                   * pie饼状图数据渲染\r\n                   */\r\n                  pie.legend.data.push(obj.features);\r\n                  pie.series[0].data.push(\r\n                    {\r\n                      name: obj.features,\r\n                      value: parseFloat(obj.customerRate.split('%')[0])//obj.customerRate\r\n                    }\r\n                  );\r\n                  pie.series[1].data.push(\r\n                    {\r\n                      name: obj.features,\r\n                      value: parseFloat(obj.passTotalRate.split('%')[0])//obj.passTotalRate\r\n                    }\r\n                  );\r\n\r\n                });\r\n                //console.log(this.bar);\r\n              }\r\n            }\r\n          },\r\n          error: (err) => {\r\n            let error = err.message || err;\r\n            Notification.error({\r\n              title: '错误',\r\n              message: error\r\n            });\r\n          }\r\n        })\r\n      },\r\n      handleClick(tab, event) {\r\n        let index = tab.index;\r\n        if (index == 0) {\r\n          this.activeName = 'first';\r\n        }\r\n      }\r\n    },\r\n    created(){\r\n\r\n    },\r\n    mounted(){\r\n      let bar = this.$refs.bar;\r\n      bar.showLoading({\r\n        text: '正在加载',\r\n        color: '#4ea397',\r\n        maskColor: 'rgba(255, 255, 255, 0.4)'\r\n      });\r\n      this.getPersonasTypes();\r\n      this.getDevices();\r\n      this.search();\r\n      bar.hideLoading()\r\n      //bar.mergeOptions(barAsync)\r\n    },\r\n  }\r\n</script>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"用户画像\",\"name\":\"first\"}},[_c('div',{staticClass:\"p_6\"},[_c('div',{staticClass:\"search-wrapper\"},[_c('div',{staticClass:\"search-content\"},[_c('el-select',{staticStyle:{\"width\":\"260px\"},attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.searchParam.type),callback:function ($$v) {_vm.$set(_vm.searchParam, \"type\", $$v)},expression:\"searchParam.type\"}},_vm._l((_vm.personasTypes),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"100px\"},attrs:{\"slot\":\"prepend\",\"placeholder\":\"手机设备\"},slot:\"prepend\",model:{value:(_vm.searchParam.device),callback:function ($$v) {_vm.$set(_vm.searchParam, \"device\", $$v)},expression:\"searchParam.device\"}},_vm._l((_vm.deviceOptions),function(item){return _c('el-option',{key:item.name,attrs:{\"label\":item.name,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.searchParam.date),callback:function ($$v) {_vm.$set(_vm.searchParam, \"date\", $$v)},expression:\"searchParam.date\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-btn\"},[_c('el-button',{staticStyle:{\"width\":\"80px\"},attrs:{\"slot\":\"append\",\"icon\":\"search\"},on:{\"click\":_vm.search},slot:\"append\"},[_vm._v(\"查询\")])],1)]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('figure',{staticClass:\"chart-wrapper\"},[_c('chart',{ref:\"bar\",attrs:{\"options\":_vm.bar,\"theme\":\"ovilia-green\",\"auto-resize\":\"\"}}),_vm._v(\" \"),_c('chart',{ref:\"pie\",attrs:{\"options\":_vm.pie,\"theme\":\"ovilia-green\",\"auto-resize\":\"\"}})],1)])]),_vm._v(\" \"),(_vm.showDetail)?_c('div',[_c('el-tab-pane',{attrs:{\"name\":\"second\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" 详情\"),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){return _vm.removeLabel($event)}}})])])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./other.vue?vue&type=style&index=0&id=830e606e&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3b221efc\", content, true, {});","/**\r\n * Created by 焦丙乾(jiaobingqian) on 17/3/3.\r\n */\r\nimport jQuery from 'jquery'\r\nimport auth from './authenticate'\r\n\r\nconst Common = (function(api,$){\r\n    api.title=\"好分期报表系统\";\r\n    api.ajax = function(options){\r\n        api.token = auth.getToken();\r\n        //var url = '/api' + options.url;\r\n        var url = options.url;\r\n        var _authToken;\r\n        var _timestamp = +new Date();\r\n        if(url.indexOf(\"api/\")>=0){\r\n            var _authTokenObj = auth.getOldToken();\r\n            _timestamp = _authTokenObj.timestamp;\r\n            _authToken = _authTokenObj.token;\r\n            \r\n        }else{\r\n            _authToken = api.token;\r\n        }\r\n        if(!options.uploadFiles){\r\n          if(options.type){\r\n            if(options.type.toLowerCase() =='get'){\r\n              if( typeof options.data === 'object' ){\r\n                // url += api.formatQuery(options.data);\r\n                // options.data = {};\r\n              }\r\n            }else{\r\n              if( typeof options.data === 'object' ) options.data = JSON.stringify(options.data);\r\n            }\r\n          }else{\r\n            if( typeof options.data === 'object' ) options.data = JSON.stringify(options.data);\r\n          }\r\n        }\r\n        \r\n        // if(options.type && options.type.toUpperCase() =='POST'){\r\n        //   if( typeof options.data === 'object' ) options.data = JSON.stringify(options.data);\r\n        // }else{\r\n        //   //url += api.formatQuery(options.data);\r\n        //   //options.data = {};\r\n        // }\r\n      \r\n        $.ajax({\r\n            headers:{\r\n                'Authorization':_authToken,\r\n                'Timestamp':_timestamp,\r\n            },\r\n            url: url,\r\n            type: options.type || \"GET\",\r\n            traditional: true,\r\n            data: options.data || {},\r\n            async: options.async || true,\r\n            processData: (options.processData === undefined ? true : options.processData),\r\n            contentType: (options.contentType === undefined ? $.ajaxSettings.contentType : options.contentType),\r\n            dataType: options.dataType || 'json',\r\n            success: function (response) {\r\n                if (response.status && response.status !== '0') {\r\n                    if (response.status == -1) {\r\n                      // 登陆失效\r\n                      alert(`警告: ${response.message}`);\r\n                      auth.setAsLoggedOut();\r\n                      location.href = '/#/login';\r\n                    } else if (options.error) {\r\n                      options.error(response);\r\n                    } else {\r\n                      alert(`警告: ${response.message}\\n错误：${response.status}`);\r\n                    }\r\n                    return;\r\n                }\r\n                \r\n                options.success && options.success(response);\r\n\r\n            },\r\n            error: function (XMLHttpRequest, textStatus, errorThrown) {\r\n                if (options.error) {\r\n                    if(XMLHttpRequest.response) {\r\n                        options.error(XMLHttpRequest.response);\r\n                    }\r\n                    else{\r\n                        options.error({\r\n                            message: '请求失败'\r\n                        });\r\n                    }\r\n                } else {\r\n                }\r\n            },\r\n            complete: options.complete || undefined,\r\n            timeout:options.timeout||null\r\n        });\r\n    };\r\n    api.hasDuplicate= function(obj,arr){\r\n        if(Object.prototype.toString.call(arr) !== \"[object Array]\"){\r\n            throw new Error('invalid argument');\r\n        }\r\n        for(let i=0,l=arr.length;i<l;i++){\r\n            if(obj == arr[i]){\r\n                return true;\r\n            }\r\n        }\r\n        return false\r\n    };\r\n    api.formatQuery = function(param){\r\n      if(Object.prototype.toString.call(param) !== \"[object Object]\"){\r\n        throw new Error('invalid argument');\r\n      }\r\n      let searchParam = param;\r\n      let resultQuery = '?';//session=' + api.session;\r\n      for(var i in searchParam){\r\n        if (searchParam.hasOwnProperty(i)) { //filter,只输出man的私有属性\r\n          resultQuery+= i+'='+searchParam[i]+'&';\r\n        }\r\n      }\r\n      \r\n      return resultQuery;\r\n    };\r\n\r\n    return api;\r\n})(Common||{}, jQuery);\r\n\r\nexport default Common;\r\n\r\n","import mod from \"-!../../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./other.vue?vue&type=style&index=0&id=830e606e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./other.vue?vue&type=style&index=0&id=830e606e&scoped=true&lang=css&\"","exports = module.exports = require(\"../../../../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.el-select .el-input[data-v-830e606e] {\\n  width: 200px;\\n}\\n.pagination_position[data-v-830e606e] {\\n  padding-top: 20px;\\n}\\n.search-wrapper[data-v-830e606e] {\\n  margin: 0px auto 10px;\\n}\\n.chart-wrapper[data-v-830e606e] {\\n  display: -webkit-flex; /* Safari */\\n  display: flex;\\n  display: -ms-flex;\\n\\n  /*!*flex主轴方向*!*/\\n  /*-webkit-flex-direction: row;*/\\n  /*flex-direction: row;*/\\n  /*-ms-flex-direction: row;*/\\n\\n  /*!*flex主轴溢出排版方式*!*/\\n  /*-webkit-flex-wrap: wrap;*/\\n  /*flex-wrap: wrap;*/\\n  /*-ms-flex-wrap: wrap;*/\\n\\n  /*flex主轴方向和主轴溢出排版方式的简写*/\\n  -webkit-flex-flow: row wrap;\\n  flex-flow: row wrap;\\n  -ms-flex-flow: row wrap;\\n\\n  /*内容在主轴上的对齐方式*/\\n  -webkit-justify-content: space-between;\\n  justify-content: space-between;\\n  -ms-justify-content: space-between;\\n\\n  /*内容项目在交叉轴上的对齐方式*/\\n  -webkit-align-items: stretch;\\n  align-items: stretch;\\n  -ms-align-items: stretch;\\n\\n  /*多轴的时候轴线的对齐方式*/\\n  -webkit-align-content: stretch;\\n  align-content: stretch;\\n  -ms-align-content: stretch;\\n}\\n.echarts[data-v-830e606e] {\\n\\n  width: 48%;\\n  min-height: 400px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/views/contents/loan/personas/other.vue\"],\"names\":[],\"mappings\":\";AAsDA;EACA,YAAA;AACA;AAEA;EACA,iBAAA;AACA;AAEA;EACA,qBAAA;AACA;AAEA;EACA,qBAAA,EAAA,WAAA;EACA,aAAA;EACA,iBAAA;;EAEA,eAAA;EACA,+BAAA;EACA,uBAAA;EACA,2BAAA;;EAEA,mBAAA;EACA,2BAAA;EACA,mBAAA;EACA,uBAAA;;EAEA,uBAAA;EACA,2BAAA;EACA,mBAAA;EACA,uBAAA;;EAEA,cAAA;EACA,sCAAA;EACA,8BAAA;EACA,kCAAA;;EAEA,iBAAA;EACA,4BAAA;EACA,oBAAA;EACA,wBAAA;;EAEA,eAAA;EACA,8BAAA;EACA,sBAAA;EACA,0BAAA;AACA;AAEA;;EAEA,UAAA;EACA,iBAAA;AACA\",\"file\":\"other.vue?vue&type=style&index=0&id=830e606e&scoped=true&lang=css&\",\"sourcesContent\":[\"<template>\\r\\n  <el-tabs v-model=\\\"activeName\\\" @tab-click=\\\"handleClick\\\">\\r\\n    <el-tab-pane label=\\\"用户画像\\\" name=\\\"first\\\">\\r\\n      <div class=\\\"p_6\\\">\\r\\n        <div class=\\\"search-wrapper\\\">\\r\\n          <div class=\\\"search-content\\\">\\r\\n            <el-select v-model=\\\"searchParam.type\\\" slot=\\\"prepend\\\" placeholder=\\\"请选择\\\" style=\\\"width: 260px;\\\">\\r\\n              <el-option\\r\\n                v-for=\\\"item in personasTypes\\\"\\r\\n                :key=\\\"item.value\\\"\\r\\n                :label=\\\"item.name\\\"\\r\\n                :value=\\\"item.value\\\">\\r\\n              </el-option>\\r\\n            </el-select>\\r\\n            <el-select v-model=\\\"searchParam.device\\\" slot=\\\"prepend\\\" placeholder=\\\"手机设备\\\" style=\\\"width: 100px;\\\">\\r\\n              <el-option\\r\\n                v-for=\\\"item in deviceOptions\\\"\\r\\n                :key=\\\"item.name\\\"\\r\\n                :label=\\\"item.name\\\"\\r\\n                :value=\\\"item.value\\\">\\r\\n              </el-option>\\r\\n            </el-select>\\r\\n            <!--<el-date-picker-->\\r\\n              <!--v-model=\\\"searchParam.dateRange\\\"-->\\r\\n              <!--type=\\\"daterange\\\"-->\\r\\n              <!--placeholder=\\\"选择日期范围\\\">-->\\r\\n            <!--</el-date-picker>-->\\r\\n            <el-date-picker\\r\\n              v-model=\\\"searchParam.date\\\"\\r\\n              type=\\\"date\\\"\\r\\n              placeholder=\\\"选择日期\\\">\\r\\n            </el-date-picker>\\r\\n          </div>\\r\\n          <div class=\\\"search-btn\\\">\\r\\n            <el-button slot=\\\"append\\\" icon=\\\"search\\\" @click=\\\"search\\\" style=\\\"width:80px; \\\">查询</el-button>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <hr>\\r\\n        <figure class=\\\"chart-wrapper\\\">\\r\\n          <chart :options=\\\"bar\\\" ref=\\\"bar\\\" theme=\\\"ovilia-green\\\" auto-resize></chart>\\r\\n          <chart :options=\\\"pie\\\" ref=\\\"pie\\\" theme=\\\"ovilia-green\\\" auto-resize></chart>\\r\\n        </figure>\\r\\n      </div>\\r\\n    </el-tab-pane>\\r\\n    <div v-if=\\\"showDetail\\\">\\r\\n      <el-tab-pane name=\\\"second\\\">\\r\\n        <span slot=\\\"label\\\"> 详情<i class=\\\"el-icon-close\\\" @click=\\\"removeLabel($event)\\\"></i></span>\\r\\n      </el-tab-pane>\\r\\n    </div>\\r\\n  </el-tabs>\\r\\n</template>\\r\\n\\r\\n<style scoped>\\r\\n  .el-select .el-input {\\r\\n    width: 200px;\\r\\n  }\\r\\n\\r\\n  .pagination_position {\\r\\n    padding-top: 20px;\\r\\n  }\\r\\n\\r\\n  .search-wrapper {\\r\\n    margin: 0px auto 10px;\\r\\n  }\\r\\n\\r\\n  .chart-wrapper {\\r\\n    display: -webkit-flex; /* Safari */\\r\\n    display: flex;\\r\\n    display: -ms-flex;\\r\\n\\r\\n    /*!*flex主轴方向*!*/\\r\\n    /*-webkit-flex-direction: row;*/\\r\\n    /*flex-direction: row;*/\\r\\n    /*-ms-flex-direction: row;*/\\r\\n\\r\\n    /*!*flex主轴溢出排版方式*!*/\\r\\n    /*-webkit-flex-wrap: wrap;*/\\r\\n    /*flex-wrap: wrap;*/\\r\\n    /*-ms-flex-wrap: wrap;*/\\r\\n\\r\\n    /*flex主轴方向和主轴溢出排版方式的简写*/\\r\\n    -webkit-flex-flow: row wrap;\\r\\n    flex-flow: row wrap;\\r\\n    -ms-flex-flow: row wrap;\\r\\n\\r\\n    /*内容在主轴上的对齐方式*/\\r\\n    -webkit-justify-content: space-between;\\r\\n    justify-content: space-between;\\r\\n    -ms-justify-content: space-between;\\r\\n\\r\\n    /*内容项目在交叉轴上的对齐方式*/\\r\\n    -webkit-align-items: stretch;\\r\\n    align-items: stretch;\\r\\n    -ms-align-items: stretch;\\r\\n\\r\\n    /*多轴的时候轴线的对齐方式*/\\r\\n    -webkit-align-content: stretch;\\r\\n    align-content: stretch;\\r\\n    -ms-align-content: stretch;\\r\\n  }\\r\\n\\r\\n  .echarts {\\r\\n\\r\\n    width: 48%;\\r\\n    min-height: 400px;\\r\\n  }\\r\\n</style>\\r\\n\\r\\n<script>\\r\\n  import Common from '../../../../utils/common'\\r\\n  import auth from '../../../../utils/authenticate'\\r\\n  import {Notification} from 'element-ui';\\r\\n  import formatDate from '../../../../utils/formatDate.js'\\r\\n  //引入Echats图表组件\\r\\n  import VueECharts from 'vue-echarts/components/ECharts.vue'\\r\\n\\r\\n  import 'echarts/lib/chart/scatter'\\r\\n  import 'echarts/lib/chart/effectScatter'\\r\\n  import 'echarts/lib/component/toolbox'\\r\\n  import 'echarts/lib/component/tooltip'\\r\\n  // built-in theme\\r\\n  import 'echarts/theme/dark'\\r\\n\\r\\n  import {initial as barInit, barData}  from '../../../../data/personas/other.js'\\r\\n  import pie from '../../../../data/personas/otherPie'\\r\\n\\r\\n  export default {\\r\\n    props: [],\\r\\n    components: {},\\r\\n    data(){\\r\\n      let date = new Date();\\r\\n      let prevMonth = new Date(date.setDate(date.getDate() - 7));\\r\\n      let now = new Date();\\r\\n\\r\\n      return {\\r\\n        bar: barData,\\r\\n        pie,\\r\\n        deviceOptions: [{\\r\\n          value: 'ALL',\\r\\n          name: 'ALL',\\r\\n        }, {\\r\\n          value: 'iPhone',\\r\\n          name: 'iOS',\\r\\n        }, {\\r\\n          value: 'Android',\\r\\n          name: 'Android'\\r\\n        }],\\r\\n        personasTypes: [\\r\\n        ],\\r\\n        searchParam: {\\r\\n          type: \\\"gender\\\",\\r\\n          device: \\\"ALL\\\",\\r\\n          dateRange: [prevMonth, now],\\r\\n          date:now,\\r\\n        },\\r\\n        activeName: 'first',\\r\\n        showDetail: false,\\r\\n        name: 'detail',\\r\\n        isFullScreen: false,\\r\\n      }\\r\\n    },\\r\\n    methods: {\\r\\n      clearBarData(){\\r\\n        this.bar.legend.data = [];\\r\\n        this.bar.series = [];\\r\\n      },\\r\\n      clearPieData(){\\r\\n        pie.legend.data = [];\\r\\n        pie.series[0].data = [];\\r\\n        pie.series[1].data = [];\\r\\n      },\\r\\n      resizeEcharts(val){\\r\\n        let echarts, echartsLen;\\r\\n        let bar = this.$refs.bar;\\r\\n        let pie = this.$refs.pie;\\r\\n        echarts = document.querySelectorAll('.echarts');\\r\\n        echartsLen = echarts.length;\\r\\n        for (var i = 0; i < echartsLen; i++) {\\r\\n          echarts[i].style.width = val;\\r\\n        }\\r\\n        bar.resize();\\r\\n        pie.resize();\\r\\n      },\\r\\n      getPersonasTypes(){\\r\\n        Common.ajax({\\r\\n          //url: \\\"/api/loan/personasTypes\\\",\\r\\n          url:'api/requestParam/persona',\\r\\n          type: 'GET',\\r\\n          contentType: \\\"application/json\\\",\\r\\n          data: {\\r\\n          },\\r\\n          success:(response)=>{\\r\\n            //console.log(response);\\r\\n            if (response.data && response.data.list) {\\r\\n            \\tlet types = response.data.list;\\r\\n            \\tlet len = types.length;\\r\\n              this.personasTypes = [];\\r\\n              for(var i = 0;i<len;i++){\\r\\n              \\tif(types[i].name !='ALL' && types[i].name !='province'){\\r\\n                  this.personasTypes.push(types[i]);\\r\\n                }\\r\\n\\r\\n              }\\r\\n            }\\r\\n          },\\r\\n          error(err){\\r\\n//            let error = err.message || err;\\r\\n//            Notification.error({\\r\\n//              title: '错误',\\r\\n//              message: error\\r\\n//            });\\r\\n          }\\r\\n        })\\r\\n      },\\r\\n      getDevices(){\\r\\n        Common.ajax({\\r\\n          url: '/api/requestParam/device',\\r\\n          type: 'GET',\\r\\n          contentType: 'application/json',\\r\\n          success: (response) => {\\r\\n            if (response.data && response.data.list) {\\r\\n              this.deviceOptions = response.data.list;\\r\\n            }\\r\\n          },\\r\\n          error: (err) => {\\r\\n            this.deviceOptions = [{\\r\\n              value: 'ALL',\\r\\n              name: 'ALL',\\r\\n            }, {\\r\\n              value: 'iPhone',\\r\\n              name: 'IOS',\\r\\n            }, {\\r\\n              value: 'Android',\\r\\n              name: 'Android'\\r\\n            }];\\r\\n          }\\r\\n        });\\r\\n      },\\r\\n      search(){\\r\\n        let self = this;\\r\\n        let type = self.searchParam.type;\\r\\n        let dateRange = self.searchParam.dateRange;\\r\\n        //console.log('type',type);\\r\\n        if (type == 'profession') {\\r\\n          this.isFullScreen = true;\\r\\n          pie.series[0].label.normal.show = false;\\r\\n          pie.series[1].label.normal.show = false;\\r\\n          //resize charts\\r\\n          this.resizeEcharts('100%');\\r\\n\\r\\n        }\\r\\n        else if (this.isFullScreen) {\\r\\n          this.isFullScreen = false;\\r\\n          pie.series[0].label.normal.show = true;\\r\\n          pie.series[1].label.normal.show = true;\\r\\n          this.resizeEcharts('49%');\\r\\n        }\\r\\n\\r\\n        Common.ajax({\\r\\n          url: \\\"/api/loan/persona\\\",\\r\\n          type: 'POST',\\r\\n          contentType: \\\"application/json\\\",\\r\\n          data: {\\r\\n            personaType: type,\\r\\n            date: formatDate(dateRange[0], 'yyyy-MM-dd'),\\r\\n            //beginTime: formatDate(dateRange[0], 'yyyy-MM-dd'),\\r\\n            //endTime: formatDate(dateRange[1], 'yyyy-MM-dd')\\r\\n          },\\r\\n          success: (response) => {\\r\\n            //console.log(response);\\r\\n            if (response.data && response.data.list) {\\r\\n              if (!response.status) {\\r\\n                let list = response.data.list;\\r\\n                let total;\\r\\n                //清空bar\\r\\n                this.clearBarData();\\r\\n                //清空pie数据\\r\\n                this.clearPieData();\\r\\n\\r\\n                list.forEach((obj, index, arr) => {\\r\\n                  if (!total) {\\r\\n                    total = obj.totalCount;\\r\\n                    this.bar.title.text = '总客户数：' + total;\\r\\n                  }\\r\\n                  /**\\r\\n                   * bar柱状图数据渲染\\r\\n                   */\\r\\n                  this.bar.legend.data.push(obj.features);\\r\\n                  this.bar.series.push(\\r\\n                    {\\r\\n                      name: obj.features,\\r\\n                      type: 'bar',\\r\\n                      //stack: obj.type,\\r\\n                      data: [obj.customerCount, obj.passTotalCount]\\r\\n                    }\\r\\n                  );\\r\\n                  //console.log('饼图数据：', obj.customerRate, obj.auditSuccessRatio);\\r\\n                  /**\\r\\n                   * pie饼状图数据渲染\\r\\n                   */\\r\\n                  pie.legend.data.push(obj.features);\\r\\n                  pie.series[0].data.push(\\r\\n                    {\\r\\n                      name: obj.features,\\r\\n                      value: parseFloat(obj.customerRate.split('%')[0])//obj.customerRate\\r\\n                    }\\r\\n                  );\\r\\n                  pie.series[1].data.push(\\r\\n                    {\\r\\n                      name: obj.features,\\r\\n                      value: parseFloat(obj.passTotalRate.split('%')[0])//obj.passTotalRate\\r\\n                    }\\r\\n                  );\\r\\n\\r\\n                });\\r\\n                //console.log(this.bar);\\r\\n              }\\r\\n            }\\r\\n          },\\r\\n          error: (err) => {\\r\\n            let error = err.message || err;\\r\\n            Notification.error({\\r\\n              title: '错误',\\r\\n              message: error\\r\\n            });\\r\\n          }\\r\\n        })\\r\\n      },\\r\\n      handleClick(tab, event) {\\r\\n        let index = tab.index;\\r\\n        if (index == 0) {\\r\\n          this.activeName = 'first';\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n    created(){\\r\\n\\r\\n    },\\r\\n    mounted(){\\r\\n      let bar = this.$refs.bar;\\r\\n      bar.showLoading({\\r\\n        text: '正在加载',\\r\\n        color: '#4ea397',\\r\\n        maskColor: 'rgba(255, 255, 255, 0.4)'\\r\\n      });\\r\\n      this.getPersonasTypes();\\r\\n      this.getDevices();\\r\\n      this.search();\\r\\n      bar.hideLoading()\\r\\n      //bar.mergeOptions(barAsync)\\r\\n    },\\r\\n  }\\r\\n</script>\\r\\n\"]}]);\n","module.exports = (__webpack_require__(45))(3);"],"sourceRoot":""}