{"version":3,"sources":["webpack:///src/views/contents/market/marketUpdateHistory.vue","webpack:///./src/views/contents/market/marketUpdateHistory.vue","webpack:///./src/views/contents/market/marketUpdateHistory.vue?ac82","webpack:///./src/views/contents/market/marketUpdateHistory.vue?1208","webpack:///./src/views/contents/market/marketUpdateHistory.vue?5174","webpack:///./src/views/contents/market/marketUpdateHistory.vue?82b4","webpack:///./src/views/contents/market/marketUpdateHistory.vue?89c5","webpack:///./src/views/contents/market/marketUpdateHistory.vue?6a2a","webpack:///./src/views/contents/market/marketUpdateHistory.vue?875e"],"names":["h","components","DataTable","f","a","TabPage","g","data","updateDate","queryParams","dataTable","pageSize","pageSizes","url","emptyText","showSummary","summaryMethod","this","getSummaries","mounted","$refs","tabPage","$emit","label","name","slotName","closable","methods","loadLists","onSubmit","changeUpdateDate","$confirm","confirmButtonText","cancelButtonText","type","then","d","ajax","contentType","date","success","$message","message","error","b","c","$notify","title","complete","catch","columns","forEach","e","map","property","every","isNaN","reduce","l","Object","k","$createElement","_self","_c","ref","slot","attrs","data-table","staticStyle","margin-bottom","inline","width","placeholder","size","model","value","callback","expression","_v","margin-top","on","click","sortable","prop","exports","i","locals","default","n","push","version","sources","names","mappings","file","sourcesContent"],"mappings":"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","file":"dist/js/57.e254d4c7f67d035fe7d2.js","sourcesContent":["<template>\r\n    <div>\r\n        <tab-page ref=\"tabPage\">\r\n\r\n            <template slot=\"updateHistory\">\r\n                <data-table :data-table=\"dataTable\" ref=\"dataTable\">\r\n                    <div slot=\"conditions\" style=\"margin-bottom:15px\">\r\n                        <el-form :inline=\"true\">\r\n                            <el-form-item>\r\n                                <el-date-picker v-model=\"updateDate\" type=\"date\" placeholder=\"选择日期时间\" size=\"small\"\r\n                                                style=\"width:170px\"></el-date-picker>\r\n                            </el-form-item>\r\n                            <el-form-item>\r\n                                <el-button type=\"primary\" @click=\"changeUpdateDate\" size=\"small\" style=\"margin-top:0\">\r\n                                    更新最后更新时间\r\n                                </el-button>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                        <el-form :inline=\"true\" :model=\"queryParams\">\r\n                            <el-form-item>\r\n                                <el-button type=\"primary\" @click=\"onSubmit\" size=\"small\" style=\"margin-top:0\">查询\r\n                                </el-button>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                    </div>\r\n                    <template slot=\"columns\">\r\n                        <el-table-column type=\"index\" label=\"序号\"></el-table-column>\r\n                        <el-table-column sortable prop=\"id\" label=\"id\"></el-table-column>\r\n                        <el-table-column sortable prop=\"date\" label=\"日期\"></el-table-column>\r\n                        <el-table-column sortable prop=\"created_at\" label=\"创建时间\"></el-table-column>\r\n                        <el-table-column sortable prop=\"updated_at\" label=\"更新时间\"></el-table-column>\r\n\r\n                    </template>\r\n                </data-table>\r\n            </template>\r\n        </tab-page>\r\n    </div>\r\n</template>\r\n<style scoped>\r\n    .el-form-item__content .el-button {\r\n        margin-top: 20px;\r\n    }\r\n\r\n    .el-table--border th {\r\n        text-align: center;\r\n    }\r\n\r\n    .el-table th .cell {\r\n        text-align: center;\r\n    }\r\n\r\n    .el-form--inline .el-form-item {\r\n        margin-right: 2px;\r\n    }\r\n\r\n    .el-form-item {\r\n        margin-bottom: 2px;\r\n    }\r\n\r\n    .el-dialog__footer {\r\n        padding: 10px 0px;\r\n        text-align: center;\r\n    }\r\n\r\n    .check-all-select {\r\n        padding: 10px;\r\n    }\r\n\r\n    .check-all-select span.text-all {\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .check-all-select label {\r\n        float: right;\r\n    }\r\n\r\n    .mb-10 {\r\n        margin-bottom: 10px;\r\n    }\r\n</style>\r\n<script>\r\n    import common from '../../../utils/common'\r\n    import formatDate from '../../../utils/formatDate'\r\n    import DataTable from \"../../../components/DataTable\"\r\n    import TabPage from \"../../../components/TabPage\"\r\n    export default{\r\n        components: {\r\n            DataTable,\r\n            TabPage,\r\n        },\r\n        data(){\r\n            return {\r\n                updateDate: '',\r\n                queryParams: {},\r\n                dataTable: {\r\n                    pageSize: 1000,\r\n                    pageSizes: [10, 20, 50, 100, 1000],\r\n                    url: \"/web/v1/market/queryUpdateHistory\",\r\n                    emptyText: '没有记录',\r\n                    showSummary: false,\r\n                    summaryMethod: this.getSummaries,\r\n                },\r\n            }\r\n        },\r\n        mounted(){\r\n\r\n            var defaultPage = {label: \"H5总计\", name: \"updateHistory\", slotName: 'updateHistory', closable: false};\r\n            this.$refs.tabPage.$emit(\"open-tab\", defaultPage);\r\n\r\n        },\r\n        methods: {\r\n\r\n            loadLists(){\r\n                this.$refs.dataTable.$emit('load-data');\r\n            },\r\n            onSubmit: function () {\r\n                this.dataTable.url = '/web/v1/market/queryUpdateHistory';\r\n                this.$refs.dataTable.$emit('load-data');\r\n            },\r\n            changeUpdateDate: function () {\r\n                this.$confirm('提交后，更新历史市场数据将从该时间往前获取', {\r\n                    confirmButtonText: '确认',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    common.ajax({\r\n                        url: '/web/v1/market/updateLastHistory',\r\n                        type: 'post',\r\n                        contentType: 'application/json',\r\n                        data: {\r\n                            date: this.updateDate\r\n                        },\r\n                        success: (response) => {\r\n                            this.$message({\r\n                                type: 'success',\r\n                                message: '修改成功!'\r\n                            });\r\n                        },\r\n                        error: (err) => {\r\n                            let error = (err && err.message) || err;\r\n                            this.$notify.error({\r\n                                title: '错误',\r\n                                message: error,\r\n                            });\r\n                        },\r\n                        complete: () => {\r\n                            this.$refs.dataTable.$emit('load-data');\r\n                        }\r\n                    });\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消提交'\r\n                    });\r\n                });\r\n            },\r\n            getSummaries(param) {\r\n                const {columns, data} = param;\r\n                const sums = [];\r\n                columns.forEach((column, index) => {\r\n                    if (index === 0) {\r\n                        sums[index] = '总计';\r\n                        return;\r\n                    }\r\n                    const values = data.map(item => Number(item[column.property]));\r\n                    if (!values.every(value => isNaN(value))) {\r\n                        sums[index] = values.reduce((prev, curr) => {\r\n                            const value = Number(curr);\r\n                            if (!isNaN(value)) {\r\n                                return prev + curr;\r\n                            } else {\r\n                                return prev;\r\n                            }\r\n                        }, 0);\r\n                    } else {\r\n                        sums[index] = 'N/A';\r\n                    }\r\n                });\r\n\r\n                return sums;\r\n            },\r\n        },\r\n    }\r\n</script>\r\n<style>\r\n    .span-style {\r\n        display: inline-block;\r\n        margin-top: 8px;\r\n        font-size: 14px;\r\n    }\r\n</style>\r\n","import { render, staticRenderFns } from \"./marketUpdateHistory.vue?vue&type=template&id=e39de9da&scoped=true&\"\nimport script from \"./marketUpdateHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./marketUpdateHistory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./marketUpdateHistory.vue?vue&type=style&index=0&id=e39de9da&scoped=true&lang=css&\"\nimport style1 from \"./marketUpdateHistory.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e39de9da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('tab-page',{ref:\"tabPage\"},[_c('template',{slot:\"updateHistory\"},[_c('data-table',{ref:\"dataTable\",attrs:{\"data-table\":_vm.dataTable}},[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"slot\":\"conditions\"},slot:\"conditions\"},[_c('el-form',{attrs:{\"inline\":true}},[_c('el-form-item',[_c('el-date-picker',{staticStyle:{\"width\":\"170px\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期时间\",\"size\":\"small\"},model:{value:(_vm.updateDate),callback:function ($$v) {_vm.updateDate=$$v},expression:\"updateDate\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"margin-top\":\"0\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.changeUpdateDate}},[_vm._v(\"\\n                                更新最后更新时间\\n                            \")])],1)],1),_vm._v(\" \"),_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.queryParams}},[_c('el-form-item',[_c('el-button',{staticStyle:{\"margin-top\":\"0\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\\n                            \")])],1)],1)],1),_vm._v(\" \"),_c('template',{slot:\"columns\"},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"id\",\"label\":\"id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"date\",\"label\":\"日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"created_at\",\"label\":\"创建时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"updated_at\",\"label\":\"更新时间\"}})],1)],2)],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./marketUpdateHistory.vue?vue&type=style&index=0&id=e39de9da&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3fac87cc\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./marketUpdateHistory.vue?vue&type=style&index=1&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7d558a80\", content, true, {});","import mod from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./marketUpdateHistory.vue?vue&type=style&index=0&id=e39de9da&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./marketUpdateHistory.vue?vue&type=style&index=0&id=e39de9da&scoped=true&lang=css&\"","exports = module.exports = require(\"../../../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.el-form-item__content .el-button[data-v-e39de9da] {\\n    margin-top: 20px;\\n}\\n.el-table--border th[data-v-e39de9da] {\\n    text-align: center;\\n}\\n.el-table th .cell[data-v-e39de9da] {\\n    text-align: center;\\n}\\n.el-form--inline .el-form-item[data-v-e39de9da] {\\n    margin-right: 2px;\\n}\\n.el-form-item[data-v-e39de9da] {\\n    margin-bottom: 2px;\\n}\\n.el-dialog__footer[data-v-e39de9da] {\\n    padding: 10px 0px;\\n    text-align: center;\\n}\\n.check-all-select[data-v-e39de9da] {\\n    padding: 10px;\\n}\\n.check-all-select span.text-all[data-v-e39de9da] {\\n    font-size: 14px;\\n    font-weight: bold;\\n}\\n.check-all-select label[data-v-e39de9da] {\\n    float: right;\\n}\\n.mb-10[data-v-e39de9da] {\\n    margin-bottom: 10px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/views/contents/market/marketUpdateHistory.vue\"],\"names\":[],\"mappings\":\";AAuCA;IACA,gBAAA;AACA;AAEA;IACA,kBAAA;AACA;AAEA;IACA,kBAAA;AACA;AAEA;IACA,iBAAA;AACA;AAEA;IACA,kBAAA;AACA;AAEA;IACA,iBAAA;IACA,kBAAA;AACA;AAEA;IACA,aAAA;AACA;AAEA;IACA,eAAA;IACA,iBAAA;AACA;AAEA;IACA,YAAA;AACA;AAEA;IACA,mBAAA;AACA\",\"file\":\"marketUpdateHistory.vue?vue&type=style&index=0&id=e39de9da&scoped=true&lang=css&\",\"sourcesContent\":[\"<template>\\r\\n    <div>\\r\\n        <tab-page ref=\\\"tabPage\\\">\\r\\n\\r\\n            <template slot=\\\"updateHistory\\\">\\r\\n                <data-table :data-table=\\\"dataTable\\\" ref=\\\"dataTable\\\">\\r\\n                    <div slot=\\\"conditions\\\" style=\\\"margin-bottom:15px\\\">\\r\\n                        <el-form :inline=\\\"true\\\">\\r\\n                            <el-form-item>\\r\\n                                <el-date-picker v-model=\\\"updateDate\\\" type=\\\"date\\\" placeholder=\\\"选择日期时间\\\" size=\\\"small\\\"\\r\\n                                                style=\\\"width:170px\\\"></el-date-picker>\\r\\n                            </el-form-item>\\r\\n                            <el-form-item>\\r\\n                                <el-button type=\\\"primary\\\" @click=\\\"changeUpdateDate\\\" size=\\\"small\\\" style=\\\"margin-top:0\\\">\\r\\n                                    更新最后更新时间\\r\\n                                </el-button>\\r\\n                            </el-form-item>\\r\\n                        </el-form>\\r\\n                        <el-form :inline=\\\"true\\\" :model=\\\"queryParams\\\">\\r\\n                            <el-form-item>\\r\\n                                <el-button type=\\\"primary\\\" @click=\\\"onSubmit\\\" size=\\\"small\\\" style=\\\"margin-top:0\\\">查询\\r\\n                                </el-button>\\r\\n                            </el-form-item>\\r\\n                        </el-form>\\r\\n                    </div>\\r\\n                    <template slot=\\\"columns\\\">\\r\\n                        <el-table-column type=\\\"index\\\" label=\\\"序号\\\"></el-table-column>\\r\\n                        <el-table-column sortable prop=\\\"id\\\" label=\\\"id\\\"></el-table-column>\\r\\n                        <el-table-column sortable prop=\\\"date\\\" label=\\\"日期\\\"></el-table-column>\\r\\n                        <el-table-column sortable prop=\\\"created_at\\\" label=\\\"创建时间\\\"></el-table-column>\\r\\n                        <el-table-column sortable prop=\\\"updated_at\\\" label=\\\"更新时间\\\"></el-table-column>\\r\\n\\r\\n                    </template>\\r\\n                </data-table>\\r\\n            </template>\\r\\n        </tab-page>\\r\\n    </div>\\r\\n</template>\\r\\n<style scoped>\\r\\n    .el-form-item__content .el-button {\\r\\n        margin-top: 20px;\\r\\n    }\\r\\n\\r\\n    .el-table--border th {\\r\\n        text-align: center;\\r\\n    }\\r\\n\\r\\n    .el-table th .cell {\\r\\n        text-align: center;\\r\\n    }\\r\\n\\r\\n    .el-form--inline .el-form-item {\\r\\n        margin-right: 2px;\\r\\n    }\\r\\n\\r\\n    .el-form-item {\\r\\n        margin-bottom: 2px;\\r\\n    }\\r\\n\\r\\n    .el-dialog__footer {\\r\\n        padding: 10px 0px;\\r\\n        text-align: center;\\r\\n    }\\r\\n\\r\\n    .check-all-select {\\r\\n        padding: 10px;\\r\\n    }\\r\\n\\r\\n    .check-all-select span.text-all {\\r\\n        font-size: 14px;\\r\\n        font-weight: bold;\\r\\n    }\\r\\n\\r\\n    .check-all-select label {\\r\\n        float: right;\\r\\n    }\\r\\n\\r\\n    .mb-10 {\\r\\n        margin-bottom: 10px;\\r\\n    }\\r\\n</style>\\r\\n<script>\\r\\n    import common from '../../../utils/common'\\r\\n    import formatDate from '../../../utils/formatDate'\\r\\n    import DataTable from \\\"../../../components/DataTable\\\"\\r\\n    import TabPage from \\\"../../../components/TabPage\\\"\\r\\n    export default{\\r\\n        components: {\\r\\n            DataTable,\\r\\n            TabPage,\\r\\n        },\\r\\n        data(){\\r\\n            return {\\r\\n                updateDate: '',\\r\\n                queryParams: {},\\r\\n                dataTable: {\\r\\n                    pageSize: 1000,\\r\\n                    pageSizes: [10, 20, 50, 100, 1000],\\r\\n                    url: \\\"/web/v1/market/queryUpdateHistory\\\",\\r\\n                    emptyText: '没有记录',\\r\\n                    showSummary: false,\\r\\n                    summaryMethod: this.getSummaries,\\r\\n                },\\r\\n            }\\r\\n        },\\r\\n        mounted(){\\r\\n\\r\\n            var defaultPage = {label: \\\"H5总计\\\", name: \\\"updateHistory\\\", slotName: 'updateHistory', closable: false};\\r\\n            this.$refs.tabPage.$emit(\\\"open-tab\\\", defaultPage);\\r\\n\\r\\n        },\\r\\n        methods: {\\r\\n\\r\\n            loadLists(){\\r\\n                this.$refs.dataTable.$emit('load-data');\\r\\n            },\\r\\n            onSubmit: function () {\\r\\n                this.dataTable.url = '/web/v1/market/queryUpdateHistory';\\r\\n                this.$refs.dataTable.$emit('load-data');\\r\\n            },\\r\\n            changeUpdateDate: function () {\\r\\n                this.$confirm('提交后，更新历史市场数据将从该时间往前获取', {\\r\\n                    confirmButtonText: '确认',\\r\\n                    cancelButtonText: '取消',\\r\\n                    type: 'warning'\\r\\n                }).then(() => {\\r\\n                    common.ajax({\\r\\n                        url: '/web/v1/market/updateLastHistory',\\r\\n                        type: 'post',\\r\\n                        contentType: 'application/json',\\r\\n                        data: {\\r\\n                            date: this.updateDate\\r\\n                        },\\r\\n                        success: (response) => {\\r\\n                            this.$message({\\r\\n                                type: 'success',\\r\\n                                message: '修改成功!'\\r\\n                            });\\r\\n                        },\\r\\n                        error: (err) => {\\r\\n                            let error = (err && err.message) || err;\\r\\n                            this.$notify.error({\\r\\n                                title: '错误',\\r\\n                                message: error,\\r\\n                            });\\r\\n                        },\\r\\n                        complete: () => {\\r\\n                            this.$refs.dataTable.$emit('load-data');\\r\\n                        }\\r\\n                    });\\r\\n                }).catch(() => {\\r\\n                    this.$message({\\r\\n                        type: 'info',\\r\\n                        message: '已取消提交'\\r\\n                    });\\r\\n                });\\r\\n            },\\r\\n            getSummaries(param) {\\r\\n                const {columns, data} = param;\\r\\n                const sums = [];\\r\\n                columns.forEach((column, index) => {\\r\\n                    if (index === 0) {\\r\\n                        sums[index] = '总计';\\r\\n                        return;\\r\\n                    }\\r\\n                    const values = data.map(item => Number(item[column.property]));\\r\\n                    if (!values.every(value => isNaN(value))) {\\r\\n                        sums[index] = values.reduce((prev, curr) => {\\r\\n                            const value = Number(curr);\\r\\n                            if (!isNaN(value)) {\\r\\n                                return prev + curr;\\r\\n                            } else {\\r\\n                                return prev;\\r\\n                            }\\r\\n                        }, 0);\\r\\n                    } else {\\r\\n                        sums[index] = 'N/A';\\r\\n                    }\\r\\n                });\\r\\n\\r\\n                return sums;\\r\\n            },\\r\\n        },\\r\\n    }\\r\\n</script>\\r\\n<style>\\r\\n    .span-style {\\r\\n        display: inline-block;\\r\\n        margin-top: 8px;\\r\\n        font-size: 14px;\\r\\n    }\\r\\n</style>\\r\\n\"]}]);\n","import mod from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./marketUpdateHistory.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./marketUpdateHistory.vue?vue&type=style&index=1&lang=css&\"","exports = module.exports = require(\"../../../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.span-style {\\n    display: inline-block;\\n    margin-top: 8px;\\n    font-size: 14px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/views/contents/market/marketUpdateHistory.vue\"],\"names\":[],\"mappings\":\";AA0LA;IACA,qBAAA;IACA,eAAA;IACA,eAAA;AACA\",\"file\":\"marketUpdateHistory.vue?vue&type=style&index=1&lang=css&\",\"sourcesContent\":[\"<template>\\r\\n    <div>\\r\\n        <tab-page ref=\\\"tabPage\\\">\\r\\n\\r\\n            <template slot=\\\"updateHistory\\\">\\r\\n                <data-table :data-table=\\\"dataTable\\\" ref=\\\"dataTable\\\">\\r\\n                    <div slot=\\\"conditions\\\" style=\\\"margin-bottom:15px\\\">\\r\\n                        <el-form :inline=\\\"true\\\">\\r\\n                            <el-form-item>\\r\\n                                <el-date-picker v-model=\\\"updateDate\\\" type=\\\"date\\\" placeholder=\\\"选择日期时间\\\" size=\\\"small\\\"\\r\\n                                                style=\\\"width:170px\\\"></el-date-picker>\\r\\n                            </el-form-item>\\r\\n                            <el-form-item>\\r\\n                                <el-button type=\\\"primary\\\" @click=\\\"changeUpdateDate\\\" size=\\\"small\\\" style=\\\"margin-top:0\\\">\\r\\n                                    更新最后更新时间\\r\\n                                </el-button>\\r\\n                            </el-form-item>\\r\\n                        </el-form>\\r\\n                        <el-form :inline=\\\"true\\\" :model=\\\"queryParams\\\">\\r\\n                            <el-form-item>\\r\\n                                <el-button type=\\\"primary\\\" @click=\\\"onSubmit\\\" size=\\\"small\\\" style=\\\"margin-top:0\\\">查询\\r\\n                                </el-button>\\r\\n                            </el-form-item>\\r\\n                        </el-form>\\r\\n                    </div>\\r\\n                    <template slot=\\\"columns\\\">\\r\\n                        <el-table-column type=\\\"index\\\" label=\\\"序号\\\"></el-table-column>\\r\\n                        <el-table-column sortable prop=\\\"id\\\" label=\\\"id\\\"></el-table-column>\\r\\n                        <el-table-column sortable prop=\\\"date\\\" label=\\\"日期\\\"></el-table-column>\\r\\n                        <el-table-column sortable prop=\\\"created_at\\\" label=\\\"创建时间\\\"></el-table-column>\\r\\n                        <el-table-column sortable prop=\\\"updated_at\\\" label=\\\"更新时间\\\"></el-table-column>\\r\\n\\r\\n                    </template>\\r\\n                </data-table>\\r\\n            </template>\\r\\n        </tab-page>\\r\\n    </div>\\r\\n</template>\\r\\n<style scoped>\\r\\n    .el-form-item__content .el-button {\\r\\n        margin-top: 20px;\\r\\n    }\\r\\n\\r\\n    .el-table--border th {\\r\\n        text-align: center;\\r\\n    }\\r\\n\\r\\n    .el-table th .cell {\\r\\n        text-align: center;\\r\\n    }\\r\\n\\r\\n    .el-form--inline .el-form-item {\\r\\n        margin-right: 2px;\\r\\n    }\\r\\n\\r\\n    .el-form-item {\\r\\n        margin-bottom: 2px;\\r\\n    }\\r\\n\\r\\n    .el-dialog__footer {\\r\\n        padding: 10px 0px;\\r\\n        text-align: center;\\r\\n    }\\r\\n\\r\\n    .check-all-select {\\r\\n        padding: 10px;\\r\\n    }\\r\\n\\r\\n    .check-all-select span.text-all {\\r\\n        font-size: 14px;\\r\\n        font-weight: bold;\\r\\n    }\\r\\n\\r\\n    .check-all-select label {\\r\\n        float: right;\\r\\n    }\\r\\n\\r\\n    .mb-10 {\\r\\n        margin-bottom: 10px;\\r\\n    }\\r\\n</style>\\r\\n<script>\\r\\n    import common from '../../../utils/common'\\r\\n    import formatDate from '../../../utils/formatDate'\\r\\n    import DataTable from \\\"../../../components/DataTable\\\"\\r\\n    import TabPage from \\\"../../../components/TabPage\\\"\\r\\n    export default{\\r\\n        components: {\\r\\n            DataTable,\\r\\n            TabPage,\\r\\n        },\\r\\n        data(){\\r\\n            return {\\r\\n                updateDate: '',\\r\\n                queryParams: {},\\r\\n                dataTable: {\\r\\n                    pageSize: 1000,\\r\\n                    pageSizes: [10, 20, 50, 100, 1000],\\r\\n                    url: \\\"/web/v1/market/queryUpdateHistory\\\",\\r\\n                    emptyText: '没有记录',\\r\\n                    showSummary: false,\\r\\n                    summaryMethod: this.getSummaries,\\r\\n                },\\r\\n            }\\r\\n        },\\r\\n        mounted(){\\r\\n\\r\\n            var defaultPage = {label: \\\"H5总计\\\", name: \\\"updateHistory\\\", slotName: 'updateHistory', closable: false};\\r\\n            this.$refs.tabPage.$emit(\\\"open-tab\\\", defaultPage);\\r\\n\\r\\n        },\\r\\n        methods: {\\r\\n\\r\\n            loadLists(){\\r\\n                this.$refs.dataTable.$emit('load-data');\\r\\n            },\\r\\n            onSubmit: function () {\\r\\n                this.dataTable.url = '/web/v1/market/queryUpdateHistory';\\r\\n                this.$refs.dataTable.$emit('load-data');\\r\\n            },\\r\\n            changeUpdateDate: function () {\\r\\n                this.$confirm('提交后，更新历史市场数据将从该时间往前获取', {\\r\\n                    confirmButtonText: '确认',\\r\\n                    cancelButtonText: '取消',\\r\\n                    type: 'warning'\\r\\n                }).then(() => {\\r\\n                    common.ajax({\\r\\n                        url: '/web/v1/market/updateLastHistory',\\r\\n                        type: 'post',\\r\\n                        contentType: 'application/json',\\r\\n                        data: {\\r\\n                            date: this.updateDate\\r\\n                        },\\r\\n                        success: (response) => {\\r\\n                            this.$message({\\r\\n                                type: 'success',\\r\\n                                message: '修改成功!'\\r\\n                            });\\r\\n                        },\\r\\n                        error: (err) => {\\r\\n                            let error = (err && err.message) || err;\\r\\n                            this.$notify.error({\\r\\n                                title: '错误',\\r\\n                                message: error,\\r\\n                            });\\r\\n                        },\\r\\n                        complete: () => {\\r\\n                            this.$refs.dataTable.$emit('load-data');\\r\\n                        }\\r\\n                    });\\r\\n                }).catch(() => {\\r\\n                    this.$message({\\r\\n                        type: 'info',\\r\\n                        message: '已取消提交'\\r\\n                    });\\r\\n                });\\r\\n            },\\r\\n            getSummaries(param) {\\r\\n                const {columns, data} = param;\\r\\n                const sums = [];\\r\\n                columns.forEach((column, index) => {\\r\\n                    if (index === 0) {\\r\\n                        sums[index] = '总计';\\r\\n                        return;\\r\\n                    }\\r\\n                    const values = data.map(item => Number(item[column.property]));\\r\\n                    if (!values.every(value => isNaN(value))) {\\r\\n                        sums[index] = values.reduce((prev, curr) => {\\r\\n                            const value = Number(curr);\\r\\n                            if (!isNaN(value)) {\\r\\n                                return prev + curr;\\r\\n                            } else {\\r\\n                                return prev;\\r\\n                            }\\r\\n                        }, 0);\\r\\n                    } else {\\r\\n                        sums[index] = 'N/A';\\r\\n                    }\\r\\n                });\\r\\n\\r\\n                return sums;\\r\\n            },\\r\\n        },\\r\\n    }\\r\\n</script>\\r\\n<style>\\r\\n    .span-style {\\r\\n        display: inline-block;\\r\\n        margin-top: 8px;\\r\\n        font-size: 14px;\\r\\n    }\\r\\n</style>\\r\\n\"]}]);\n"],"sourceRoot":""}