{"version":3,"sources":["webpack:///src/views/contents/market/h5StatisticsByHour.vue","webpack:///./src/views/contents/market/h5StatisticsByHour.vue","webpack:///./src/views/contents/market/h5StatisticsByHour.vue?5368","webpack:///./src/views/contents/market/h5StatisticsByHour.vue?c1aa","webpack:///./src/views/contents/market/h5StatisticsByHour.vue?1923","webpack:///./src/views/contents/market/h5StatisticsByHour.vue?81a8","webpack:///./src/views/contents/market/h5StatisticsByHour.vue?5ec8","webpack:///./src/views/contents/market/h5StatisticsByHour.vue?05f8","webpack:///./src/views/contents/market/h5StatisticsByHour.vue?db3a"],"names":["i","components","DataTable","g","a","TabPage","h","data","deviceCheckAll","deviceOptions","value","label","ksjkOptions","initBeginTime","initEndTime","queryParams","isksjk","device","beginTime","endTime","dateRange","Object","f","Date","dataTable","pageSize","pageSizes","url","emptyText","showSummary","summaryMethod","this","getSummaries","mounted","dealDate","$refs","tabPage","$emit","name","slotName","closable","methods","loadLists","onSubmit","dealTime","warnTime","b","getTime","$notify","message","type","formatterDate","date","columns","c","d","forEach","e","map","property","replace","every","isNaN","reduce","length","toFixed","exportExcel","total","page","Promise","all","then","export_json_to_excel","setTimeout","dataListA","formatJson","bind","catch","oe","checkAllSelection","optionsCount","handleOptionSelect","options","clearTimeout","handleCheckAllDeviceChange","setCheckAllStyle","deviceChange","m","l","$createElement","_self","_c","ref","slot","attrs","data-table","staticStyle","margin-bottom","inline","model","range-separator","start-placeholder","end-placeholder","callback","$set","expression","_v","clearable","filterable","placeholder","size","_l","key","margin-top","on","click","staticClass","icon","width","sortable","prop","exports","locals","default","n","push","version","sources","names","mappings","file","sourcesContent"],"mappings":"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","file":"dist/js/34.b911466755346e4ecb4a.js","sourcesContent":["<!--\r\n * @Description: \r\n * @Author: jinxiaojian\r\n * @Email: jinxiaojian@youxin.com\r\n * @Date: 2019-07-12 16:18:09\r\n * @LastEditTime: 2019-07-16 15:39:37\r\n * @LastEditors: 靳肖健\r\n -->\r\n<template>\r\n  <div>\r\n    <tab-page ref=\"tabPage\">\r\n      <template slot=\"h5Statistics\">\r\n        <data-table :data-table=\"dataTable\" ref=\"dataTable\">\r\n          <div slot=\"conditions\" style=\"margin-bottom:15px\">\r\n            <el-form :inline=\"true\" :model=\"queryParams\">\r\n              <el-form-item>\r\n                <!--<el-date-picker-->\r\n                <!--v-model=\"queryParams.dateRange\"-->\r\n                <!--type=\"daterange\"-->\r\n                <!--size=\"small\"-->\r\n                <!--placeholder=\"选择日期范围\">-->\r\n                <!--</el-date-picker>-->\r\n                <el-date-picker\r\n                  v-model=\"queryParams.dateRange\"\r\n                  type=\"datetimerange\"\r\n                  range-separator=\"至\"\r\n                  start-placeholder=\"开始日期\"\r\n                  end-placeholder=\"结束日期\"\r\n                ></el-date-picker>\r\n              </el-form-item>\r\n\r\n              <el-form-item>\r\n                <el-select\r\n                  v-model=\"queryParams.device\"\r\n                  clearable\r\n                  filterable\r\n                  placeholder=\"设备\"\r\n                  size=\"small\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"item in deviceOptions\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-select\r\n                  v-model=\"queryParams.isksjk\"\r\n                  clearable\r\n                  filterable\r\n                  placeholder=\"快速借款\"\r\n                  size=\"small\"\r\n                >\r\n                  <el-option\r\n                    v-for=\"item in ksjkOptions\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\"\r\n                  ></el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button type=\"primary\" @click=\"onSubmit\" size=\"small\" style=\"margin-top:0\">查询</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n            <el-button\r\n              class=\"right mb-10\"\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              icon=\"el-icon-document\"\r\n              @click=\"exportExcel\"\r\n            >导出excel</el-button>\r\n          </div>\r\n          <template slot=\"columns\">\r\n            <el-table-column type=\"index\" label=\"序号\" width=\"60\"></el-table-column>\r\n            <el-table-column sortable prop=\"date_str\" label=\"日期\" width=\"120\"></el-table-column>\r\n            <el-table-column sortable prop=\"hour\" label=\"小时\"></el-table-column>\r\n            <el-table-column sortable prop=\"plat\" label=\"设备\" width=\"100\"></el-table-column>\r\n            <el-table-column sortable prop=\"ksjk_existing\" label=\"快速借款用户\" width=\"120\"></el-table-column>\r\n            <el-table-column sortable prop=\"phones_count\" label=\"手机号\"></el-table-column>\r\n            <el-table-column sortable prop=\"take_phone_new\" label=\"留手机号新用户\"></el-table-column>\r\n            <el-table-column sortable prop=\"register_count\" label=\"注册\"></el-table-column>\r\n            <el-table-column sortable prop=\"activation_count\" label=\"激活\"></el-table-column>\r\n\r\n            <el-table-column sortable prop=\"jinjian\" label=\"当日进件\"></el-table-column>\r\n            <el-table-column sortable prop=\"approval\" label=\"当日审核\"></el-table-column>\r\n            <el-table-column sortable prop=\"emitCn\" label=\"当日放款\"></el-table-column>\r\n            <el-table-column sortable prop=\"emitMoney\" label=\"放款金额\"></el-table-column>\r\n            <el-table-column sortable prop=\"act_reg_rate\" label=\"激活/注册\" width=\"90\"></el-table-column>\r\n            <el-table-column sortable prop=\"jj_jh_rate\" label=\"进件/激活\" width=\"90\"></el-table-column>\r\n            <el-table-column sortable prop=\"review_jinj_rate\" label=\"审核/进件\" width=\"90\"></el-table-column>\r\n          </template>\r\n        </data-table>\r\n      </template>\r\n    </tab-page>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n.el-form-item__content .el-button {\r\n  margin-top: 20px;\r\n}\r\n\r\n.el-table--border th {\r\n  text-align: center;\r\n}\r\n\r\n.el-table th .cell {\r\n  text-align: center;\r\n}\r\n\r\n.el-form--inline .el-form-item {\r\n  margin-right: 2px;\r\n}\r\n\r\n.el-form-item {\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.el-dialog__footer {\r\n  padding: 10px 0px;\r\n  text-align: center;\r\n}\r\n\r\n.check-all-select {\r\n  padding: 10px;\r\n}\r\n\r\n.check-all-select span.text-all {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n}\r\n\r\n.check-all-select label {\r\n  float: right;\r\n}\r\n\r\n.mb-10 {\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n<script>\r\n//  import common from '../../../utils/common'\r\nimport formatDate from \"../../../utils/formatDate\";\r\nimport DataTable from \"../../../components/DataTable\";\r\nimport TabPage from \"../../../components/TabPage\";\r\nexport default {\r\n  components: {\r\n    DataTable,\r\n    TabPage,\r\n  },\r\n  data() {\r\n    let today = formatDate(new Date(), \"yyyy-MM-dd\") + \" 00:00:00\";\r\n    let now = new Date();\r\n    return {\r\n      deviceCheckAll: false,\r\n      deviceOptions: [\r\n        {\r\n          value: \"iOS\",\r\n          label: \"iOS\",\r\n        },\r\n        {\r\n          value: \"Android\",\r\n          label: \"Android\",\r\n        },\r\n      ],\r\n      ksjkOptions: [\r\n        {\r\n          value: \"是\",\r\n          label: \"是\",\r\n        },\r\n        {\r\n          value: \"否\",\r\n          label: \"否\",\r\n        },\r\n      ],\r\n      initBeginTime: \"\",\r\n      initEndTime: \"\",\r\n\r\n      queryParams: {\r\n        isksjk: \"\",\r\n        device: \"\",\r\n        beginTime: \"\",\r\n        endTime: \"\",\r\n        dateRange: [today, now],\r\n      },\r\n      dataTable: {\r\n        pageSize: 50,\r\n        pageSizes: [10, 20, 50, 100, 1000],\r\n        url: \"/web/v1/market/queryH5ByHour\",\r\n        emptyText: \"没有记录\",\r\n        showSummary: true,\r\n        summaryMethod: this.getSummaries,\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.dataTable.queryParams = this.queryParams;\r\n    this.initBeginTime = this.dealDate(this.queryParams.dateRange[0]);\r\n    this.initEndTime = this.dealDate(this.queryParams.dateRange[1]);\r\n    this.dataTable.queryParams.beginTime = this.initBeginTime + \" 00:00:00\";\r\n    this.dataTable.queryParams.endTime = this.initEndTime + \" 23:59:59\";\r\n\r\n    var defaultPage = {\r\n      label: \"H5总计\",\r\n      name: \"h5Statistics\",\r\n      slotName: \"h5Statistics\",\r\n      closable: false,\r\n    };\r\n    this.$refs.tabPage.$emit(\"open-tab\", defaultPage);\r\n  },\r\n\r\n  methods: {\r\n    loadLists() {\r\n      this.$refs.dataTable.$emit(\"load-data\");\r\n    },\r\n    onSubmit: function() {\r\n      this.dataTable.queryParams = this.queryParams;\r\n      this.initBeginTime = this.dealTime(this.queryParams.dateRange[0]);\r\n      this.initEndTime = this.dealTime(this.queryParams.dateRange[1]);\r\n      this.dataTable.queryParams.beginTime = this.initBeginTime;\r\n      this.dataTable.queryParams.endTime = this.initEndTime;\r\n\r\n      this.dataTable.url = \"/web/v1/market/queryH5ByHour\";\r\n      this.$refs.dataTable.$emit(\"load-data\");\r\n    },\r\n    warnTime(startTime, endTime) {\r\n      if (!startTime) {\r\n        this.$notify({\r\n          message: \"查询开始时间不能为空！\",\r\n          type: \"warning\",\r\n        });\r\n        return true;\r\n      }\r\n      if (!endTime) {\r\n        this.$notify({\r\n          message: \"查询结束时间不能为空！\",\r\n          type: \"warning\",\r\n        });\r\n        return true;\r\n      }\r\n      let timeStart = new Date(startTime).getTime();\r\n      let timeEnd = new Date(endTime).getTime();\r\n      if (timeStart > timeEnd) {\r\n        this.$notify({\r\n          message: \"查询开始时间不能大于结束时间\",\r\n          type: \"warning\",\r\n        });\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    dealTime(time) {\r\n      return formatDate(new Date(time), \"yyyy-MM-dd hh:mm:ss\");\r\n    },\r\n    dealDate(date) {\r\n      return formatDate(new Date(date), \"yyyy-MM-dd\");\r\n    },\r\n    formatterDate(row, column) {\r\n      return formatDate(row.date, \"yyyy-MM-dd\");\r\n    },\r\n    getSummaries(param) {\r\n      const { columns, data } = param;\r\n      const sums = [];\r\n      columns.forEach((column, index) => {\r\n        if (index === 0) {\r\n          sums[index] = \"总计\";\r\n          return;\r\n        }\r\n        var values;\r\n        if (index === 14 || index === 15 || index === 13) {\r\n          values = data.map(item => {\r\n            if (item[column.property] !== null) {\r\n              return Number(item[column.property].replace(\"%\", \"\"));\r\n            }\r\n          });\r\n        } else {\r\n          values = data.map(item => Number(item[column.property]));\r\n        }\r\n\r\n        if (!values.every(value => isNaN(value))) {\r\n          sums[index] = values.reduce((prev, curr) => {\r\n            const value = Number(curr);\r\n            if (!isNaN(value)) {\r\n              return prev + curr;\r\n            } else {\r\n              return prev;\r\n            }\r\n          }, 0);\r\n          if (index === 14 || index === 15 || index === 13) {\r\n            sums[index] = (sums[index] / data.length).toFixed(2) + \" %\";\r\n          }\r\n          //                      sums[index] += ' 元';\r\n        } else {\r\n          sums[index] = \"N/A\";\r\n        }\r\n      });\r\n\r\n      return sums;\r\n    },\r\n    exportExcel() {\r\n      let self = this;\r\n      var exportParams = {};\r\n      Object.assign(exportParams, this.dataTable.queryParams);\r\n      exportParams.pageSize = this.$refs.dataTable.total;\r\n      exportParams.page = 1;\r\n      this.$refs.dataTable.$emit(\"export-data\", exportParams);\r\n      require.ensure([], () => {\r\n        const { export_json_to_excel } = require(\"vendor/Export2Excel\");\r\n        const tHeader = [\r\n          \"日期\",\r\n          \"小时\",\r\n          \"设备\",\r\n          \"快速借款用户\",\r\n          \"手机号\",\r\n          \"注册\",\r\n          \"激活\",\r\n          \"进件\",\r\n          \"审核\",\r\n          \"放款\",\r\n          \"放款金额\",\r\n          \"激活/注册\",\r\n          \"进件/激活\",\r\n          \"审核/进件\",\r\n          \"留手机号新用户\",\r\n        ];\r\n        const filterVal = [\r\n          \"date\",\r\n          \"hour\",\r\n          \"plat\",\r\n          \"ksjk_existing\",\r\n          \"phones_count\",\r\n          \"register_count\",\r\n          \"activation_count\",\r\n          \"jinjian\",\r\n          \"approval\",\r\n          \"emitCn\",\r\n          \"emitMoney\",\r\n          \"act_reg_rate\",\r\n          \"jj_jh_rate\",\r\n          \"review_jinj_rate\",\r\n          \"take_phone_new\",\r\n        ];\r\n        setTimeout(() => {\r\n          const list = this.$refs.dataTable.dataListA;\r\n          const data = this.formatJson(filterVal, list);\r\n          export_json_to_excel(tHeader, data, \"H5总计(小时)\");\r\n        }, 300);\r\n      });\r\n    },\r\n    formatJson(filterVal, jsonData) {\r\n      return jsonData.map(v =>\r\n        filterVal.map(j => {\r\n          let returnValue;\r\n          if (j == \"operator\") {\r\n            returnValue = v[j].name;\r\n          } else {\r\n            returnValue = v[j];\r\n          }\r\n          return returnValue;\r\n        }),\r\n      );\r\n    },\r\n\r\n    checkAllSelection(selectType) {\r\n      let len = this.$refs[selectType].optionsCount;\r\n      for (var i = 0; i < len; i++) {\r\n        (function(index, _this) {\r\n          let _timer = setTimeout(() => {\r\n            _this.$refs[selectType].handleOptionSelect(\r\n              _this.$refs[selectType].options[index],\r\n            );\r\n            clearTimeout(_timer);\r\n          }, 0);\r\n        })(i, this);\r\n      }\r\n    },\r\n    handleCheckAllDeviceChange(event) {\r\n      this.checkAllSelection(\"deviceSelect\");\r\n      this.deviceCheckAll = !this.deviceCheckAll;\r\n    },\r\n    setCheckAllStyle(selectedCount, selectType) {\r\n      let type = selectType + \"CheckAll\";\r\n      let type_1 = selectType + \"Select\";\r\n      if (this[type]) {\r\n        if (selectedCount.length < this.$refs[type_1].optionsCount) {\r\n          this[type] = !this[type];\r\n        }\r\n      } else {\r\n        if (selectedCount.length === this.$refs[type_1].optionsCount) {\r\n          this[type] = !this[type];\r\n        }\r\n      }\r\n    },\r\n    deviceChange(values) {\r\n      this.setCheckAllStyle(values, \"device\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.span-style {\r\n  display: inline-block;\r\n  margin-top: 8px;\r\n  font-size: 14px;\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./h5StatisticsByHour.vue?vue&type=template&id=53ebbe54&scoped=true&\"\nimport script from \"./h5StatisticsByHour.vue?vue&type=script&lang=js&\"\nexport * from \"./h5StatisticsByHour.vue?vue&type=script&lang=js&\"\nimport style0 from \"./h5StatisticsByHour.vue?vue&type=style&index=0&id=53ebbe54&scoped=true&lang=css&\"\nimport style1 from \"./h5StatisticsByHour.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53ebbe54\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('tab-page',{ref:\"tabPage\"},[_c('template',{slot:\"h5Statistics\"},[_c('data-table',{ref:\"dataTable\",attrs:{\"data-table\":_vm.dataTable}},[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"slot\":\"conditions\"},slot:\"conditions\"},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.queryParams}},[_c('el-form-item',[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.queryParams.dateRange),callback:function ($$v) {_vm.$set(_vm.queryParams, \"dateRange\", $$v)},expression:\"queryParams.dateRange\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"设备\",\"size\":\"small\"},model:{value:(_vm.queryParams.device),callback:function ($$v) {_vm.$set(_vm.queryParams, \"device\", $$v)},expression:\"queryParams.device\"}},_vm._l((_vm.deviceOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"快速借款\",\"size\":\"small\"},model:{value:(_vm.queryParams.isksjk),callback:function ($$v) {_vm.$set(_vm.queryParams, \"isksjk\", $$v)},expression:\"queryParams.isksjk\"}},_vm._l((_vm.ksjkOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"margin-top\":\"0\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"right mb-10\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-document\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"导出excel\")])],1),_vm._v(\" \"),_c('template',{slot:\"columns\"},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"date_str\",\"label\":\"日期\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"hour\",\"label\":\"小时\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"plat\",\"label\":\"设备\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"ksjk_existing\",\"label\":\"快速借款用户\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"phones_count\",\"label\":\"手机号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"take_phone_new\",\"label\":\"留手机号新用户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"register_count\",\"label\":\"注册\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"activation_count\",\"label\":\"激活\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"jinjian\",\"label\":\"当日进件\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"approval\",\"label\":\"当日审核\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"emitCn\",\"label\":\"当日放款\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"emitMoney\",\"label\":\"放款金额\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"act_reg_rate\",\"label\":\"激活/注册\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"jj_jh_rate\",\"label\":\"进件/激活\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"review_jinj_rate\",\"label\":\"审核/进件\",\"width\":\"90\"}})],1)],2)],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsByHour.vue?vue&type=style&index=0&id=53ebbe54&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"01154d3f\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsByHour.vue?vue&type=style&index=1&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5e3371ec\", content, true, {});","import mod from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsByHour.vue?vue&type=style&index=0&id=53ebbe54&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsByHour.vue?vue&type=style&index=0&id=53ebbe54&scoped=true&lang=css&\"","exports = module.exports = require(\"../../../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.el-form-item__content .el-button[data-v-53ebbe54] {\\r\\n  margin-top: 20px;\\n}\\n.el-table--border th[data-v-53ebbe54] {\\r\\n  text-align: center;\\n}\\n.el-table th .cell[data-v-53ebbe54] {\\r\\n  text-align: center;\\n}\\n.el-form--inline .el-form-item[data-v-53ebbe54] {\\r\\n  margin-right: 2px;\\n}\\n.el-form-item[data-v-53ebbe54] {\\r\\n  margin-bottom: 2px;\\n}\\n.el-dialog__footer[data-v-53ebbe54] {\\r\\n  padding: 10px 0px;\\r\\n  text-align: center;\\n}\\n.check-all-select[data-v-53ebbe54] {\\r\\n  padding: 10px;\\n}\\n.check-all-select span.text-all[data-v-53ebbe54] {\\r\\n  font-size: 14px;\\r\\n  font-weight: bold;\\n}\\n.check-all-select label[data-v-53ebbe54] {\\r\\n  float: right;\\n}\\n.mb-10[data-v-53ebbe54] {\\r\\n  margin-bottom: 10px;\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"src/views/contents/market/h5StatisticsByHour.vue\"],\"names\":[],\"mappings\":\";AAoGA;EACA,gBAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,iBAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,iBAAA;EACA,kBAAA;AACA;AAEA;EACA,aAAA;AACA;AAEA;EACA,eAAA;EACA,iBAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,mBAAA;AACA\",\"file\":\"h5StatisticsByHour.vue?vue&type=style&index=0&id=53ebbe54&scoped=true&lang=css&\",\"sourcesContent\":[\"<!--\\r\\n * @Description: \\r\\n * @Author: jinxiaojian\\r\\n * @Email: jinxiaojian@youxin.com\\r\\n * @Date: 2019-07-12 16:18:09\\r\\n * @LastEditTime: 2019-07-16 15:39:37\\r\\n * @LastEditors: 靳肖健\\r\\n -->\\r\\n<template>\\r\\n  <div>\\r\\n    <tab-page ref=\\\"tabPage\\\">\\r\\n      <template slot=\\\"h5Statistics\\\">\\r\\n        <data-table :data-table=\\\"dataTable\\\" ref=\\\"dataTable\\\">\\r\\n          <div slot=\\\"conditions\\\" style=\\\"margin-bottom:15px\\\">\\r\\n            <el-form :inline=\\\"true\\\" :model=\\\"queryParams\\\">\\r\\n              <el-form-item>\\r\\n                <!--<el-date-picker-->\\r\\n                <!--v-model=\\\"queryParams.dateRange\\\"-->\\r\\n                <!--type=\\\"daterange\\\"-->\\r\\n                <!--size=\\\"small\\\"-->\\r\\n                <!--placeholder=\\\"选择日期范围\\\">-->\\r\\n                <!--</el-date-picker>-->\\r\\n                <el-date-picker\\r\\n                  v-model=\\\"queryParams.dateRange\\\"\\r\\n                  type=\\\"datetimerange\\\"\\r\\n                  range-separator=\\\"至\\\"\\r\\n                  start-placeholder=\\\"开始日期\\\"\\r\\n                  end-placeholder=\\\"结束日期\\\"\\r\\n                ></el-date-picker>\\r\\n              </el-form-item>\\r\\n\\r\\n              <el-form-item>\\r\\n                <el-select\\r\\n                  v-model=\\\"queryParams.device\\\"\\r\\n                  clearable\\r\\n                  filterable\\r\\n                  placeholder=\\\"设备\\\"\\r\\n                  size=\\\"small\\\"\\r\\n                >\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in deviceOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\"\\r\\n                  ></el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select\\r\\n                  v-model=\\\"queryParams.isksjk\\\"\\r\\n                  clearable\\r\\n                  filterable\\r\\n                  placeholder=\\\"快速借款\\\"\\r\\n                  size=\\\"small\\\"\\r\\n                >\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in ksjkOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\"\\r\\n                  ></el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-button type=\\\"primary\\\" @click=\\\"onSubmit\\\" size=\\\"small\\\" style=\\\"margin-top:0\\\">查询</el-button>\\r\\n              </el-form-item>\\r\\n            </el-form>\\r\\n            <el-button\\r\\n              class=\\\"right mb-10\\\"\\r\\n              type=\\\"primary\\\"\\r\\n              size=\\\"small\\\"\\r\\n              icon=\\\"el-icon-document\\\"\\r\\n              @click=\\\"exportExcel\\\"\\r\\n            >导出excel</el-button>\\r\\n          </div>\\r\\n          <template slot=\\\"columns\\\">\\r\\n            <el-table-column type=\\\"index\\\" label=\\\"序号\\\" width=\\\"60\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"date_str\\\" label=\\\"日期\\\" width=\\\"120\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"hour\\\" label=\\\"小时\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"plat\\\" label=\\\"设备\\\" width=\\\"100\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"ksjk_existing\\\" label=\\\"快速借款用户\\\" width=\\\"120\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"phones_count\\\" label=\\\"手机号\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"take_phone_new\\\" label=\\\"留手机号新用户\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"register_count\\\" label=\\\"注册\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"activation_count\\\" label=\\\"激活\\\"></el-table-column>\\r\\n\\r\\n            <el-table-column sortable prop=\\\"jinjian\\\" label=\\\"当日进件\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"approval\\\" label=\\\"当日审核\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitCn\\\" label=\\\"当日放款\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitMoney\\\" label=\\\"放款金额\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"act_reg_rate\\\" label=\\\"激活/注册\\\" width=\\\"90\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"jj_jh_rate\\\" label=\\\"进件/激活\\\" width=\\\"90\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"review_jinj_rate\\\" label=\\\"审核/进件\\\" width=\\\"90\\\"></el-table-column>\\r\\n          </template>\\r\\n        </data-table>\\r\\n      </template>\\r\\n    </tab-page>\\r\\n  </div>\\r\\n</template>\\r\\n<style scoped>\\r\\n.el-form-item__content .el-button {\\r\\n  margin-top: 20px;\\r\\n}\\r\\n\\r\\n.el-table--border th {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.el-table th .cell {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.el-form--inline .el-form-item {\\r\\n  margin-right: 2px;\\r\\n}\\r\\n\\r\\n.el-form-item {\\r\\n  margin-bottom: 2px;\\r\\n}\\r\\n\\r\\n.el-dialog__footer {\\r\\n  padding: 10px 0px;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.check-all-select {\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n.check-all-select span.text-all {\\r\\n  font-size: 14px;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.check-all-select label {\\r\\n  float: right;\\r\\n}\\r\\n\\r\\n.mb-10 {\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n</style>\\r\\n<script>\\r\\n//  import common from '../../../utils/common'\\r\\nimport formatDate from \\\"../../../utils/formatDate\\\";\\r\\nimport DataTable from \\\"../../../components/DataTable\\\";\\r\\nimport TabPage from \\\"../../../components/TabPage\\\";\\r\\nexport default {\\r\\n  components: {\\r\\n    DataTable,\\r\\n    TabPage,\\r\\n  },\\r\\n  data() {\\r\\n    let today = formatDate(new Date(), \\\"yyyy-MM-dd\\\") + \\\" 00:00:00\\\";\\r\\n    let now = new Date();\\r\\n    return {\\r\\n      deviceCheckAll: false,\\r\\n      deviceOptions: [\\r\\n        {\\r\\n          value: \\\"iOS\\\",\\r\\n          label: \\\"iOS\\\",\\r\\n        },\\r\\n        {\\r\\n          value: \\\"Android\\\",\\r\\n          label: \\\"Android\\\",\\r\\n        },\\r\\n      ],\\r\\n      ksjkOptions: [\\r\\n        {\\r\\n          value: \\\"是\\\",\\r\\n          label: \\\"是\\\",\\r\\n        },\\r\\n        {\\r\\n          value: \\\"否\\\",\\r\\n          label: \\\"否\\\",\\r\\n        },\\r\\n      ],\\r\\n      initBeginTime: \\\"\\\",\\r\\n      initEndTime: \\\"\\\",\\r\\n\\r\\n      queryParams: {\\r\\n        isksjk: \\\"\\\",\\r\\n        device: \\\"\\\",\\r\\n        beginTime: \\\"\\\",\\r\\n        endTime: \\\"\\\",\\r\\n        dateRange: [today, now],\\r\\n      },\\r\\n      dataTable: {\\r\\n        pageSize: 50,\\r\\n        pageSizes: [10, 20, 50, 100, 1000],\\r\\n        url: \\\"/web/v1/market/queryH5ByHour\\\",\\r\\n        emptyText: \\\"没有记录\\\",\\r\\n        showSummary: true,\\r\\n        summaryMethod: this.getSummaries,\\r\\n      },\\r\\n    };\\r\\n  },\\r\\n  mounted() {\\r\\n    this.dataTable.queryParams = this.queryParams;\\r\\n    this.initBeginTime = this.dealDate(this.queryParams.dateRange[0]);\\r\\n    this.initEndTime = this.dealDate(this.queryParams.dateRange[1]);\\r\\n    this.dataTable.queryParams.beginTime = this.initBeginTime + \\\" 00:00:00\\\";\\r\\n    this.dataTable.queryParams.endTime = this.initEndTime + \\\" 23:59:59\\\";\\r\\n\\r\\n    var defaultPage = {\\r\\n      label: \\\"H5总计\\\",\\r\\n      name: \\\"h5Statistics\\\",\\r\\n      slotName: \\\"h5Statistics\\\",\\r\\n      closable: false,\\r\\n    };\\r\\n    this.$refs.tabPage.$emit(\\\"open-tab\\\", defaultPage);\\r\\n  },\\r\\n\\r\\n  methods: {\\r\\n    loadLists() {\\r\\n      this.$refs.dataTable.$emit(\\\"load-data\\\");\\r\\n    },\\r\\n    onSubmit: function() {\\r\\n      this.dataTable.queryParams = this.queryParams;\\r\\n      this.initBeginTime = this.dealTime(this.queryParams.dateRange[0]);\\r\\n      this.initEndTime = this.dealTime(this.queryParams.dateRange[1]);\\r\\n      this.dataTable.queryParams.beginTime = this.initBeginTime;\\r\\n      this.dataTable.queryParams.endTime = this.initEndTime;\\r\\n\\r\\n      this.dataTable.url = \\\"/web/v1/market/queryH5ByHour\\\";\\r\\n      this.$refs.dataTable.$emit(\\\"load-data\\\");\\r\\n    },\\r\\n    warnTime(startTime, endTime) {\\r\\n      if (!startTime) {\\r\\n        this.$notify({\\r\\n          message: \\\"查询开始时间不能为空！\\\",\\r\\n          type: \\\"warning\\\",\\r\\n        });\\r\\n        return true;\\r\\n      }\\r\\n      if (!endTime) {\\r\\n        this.$notify({\\r\\n          message: \\\"查询结束时间不能为空！\\\",\\r\\n          type: \\\"warning\\\",\\r\\n        });\\r\\n        return true;\\r\\n      }\\r\\n      let timeStart = new Date(startTime).getTime();\\r\\n      let timeEnd = new Date(endTime).getTime();\\r\\n      if (timeStart > timeEnd) {\\r\\n        this.$notify({\\r\\n          message: \\\"查询开始时间不能大于结束时间\\\",\\r\\n          type: \\\"warning\\\",\\r\\n        });\\r\\n        return true;\\r\\n      }\\r\\n      return false;\\r\\n    },\\r\\n    dealTime(time) {\\r\\n      return formatDate(new Date(time), \\\"yyyy-MM-dd hh:mm:ss\\\");\\r\\n    },\\r\\n    dealDate(date) {\\r\\n      return formatDate(new Date(date), \\\"yyyy-MM-dd\\\");\\r\\n    },\\r\\n    formatterDate(row, column) {\\r\\n      return formatDate(row.date, \\\"yyyy-MM-dd\\\");\\r\\n    },\\r\\n    getSummaries(param) {\\r\\n      const { columns, data } = param;\\r\\n      const sums = [];\\r\\n      columns.forEach((column, index) => {\\r\\n        if (index === 0) {\\r\\n          sums[index] = \\\"总计\\\";\\r\\n          return;\\r\\n        }\\r\\n        var values;\\r\\n        if (index === 14 || index === 15 || index === 13) {\\r\\n          values = data.map(item => {\\r\\n            if (item[column.property] !== null) {\\r\\n              return Number(item[column.property].replace(\\\"%\\\", \\\"\\\"));\\r\\n            }\\r\\n          });\\r\\n        } else {\\r\\n          values = data.map(item => Number(item[column.property]));\\r\\n        }\\r\\n\\r\\n        if (!values.every(value => isNaN(value))) {\\r\\n          sums[index] = values.reduce((prev, curr) => {\\r\\n            const value = Number(curr);\\r\\n            if (!isNaN(value)) {\\r\\n              return prev + curr;\\r\\n            } else {\\r\\n              return prev;\\r\\n            }\\r\\n          }, 0);\\r\\n          if (index === 14 || index === 15 || index === 13) {\\r\\n            sums[index] = (sums[index] / data.length).toFixed(2) + \\\" %\\\";\\r\\n          }\\r\\n          //                      sums[index] += ' 元';\\r\\n        } else {\\r\\n          sums[index] = \\\"N/A\\\";\\r\\n        }\\r\\n      });\\r\\n\\r\\n      return sums;\\r\\n    },\\r\\n    exportExcel() {\\r\\n      let self = this;\\r\\n      var exportParams = {};\\r\\n      Object.assign(exportParams, this.dataTable.queryParams);\\r\\n      exportParams.pageSize = this.$refs.dataTable.total;\\r\\n      exportParams.page = 1;\\r\\n      this.$refs.dataTable.$emit(\\\"export-data\\\", exportParams);\\r\\n      require.ensure([], () => {\\r\\n        const { export_json_to_excel } = require(\\\"vendor/Export2Excel\\\");\\r\\n        const tHeader = [\\r\\n          \\\"日期\\\",\\r\\n          \\\"小时\\\",\\r\\n          \\\"设备\\\",\\r\\n          \\\"快速借款用户\\\",\\r\\n          \\\"手机号\\\",\\r\\n          \\\"注册\\\",\\r\\n          \\\"激活\\\",\\r\\n          \\\"进件\\\",\\r\\n          \\\"审核\\\",\\r\\n          \\\"放款\\\",\\r\\n          \\\"放款金额\\\",\\r\\n          \\\"激活/注册\\\",\\r\\n          \\\"进件/激活\\\",\\r\\n          \\\"审核/进件\\\",\\r\\n          \\\"留手机号新用户\\\",\\r\\n        ];\\r\\n        const filterVal = [\\r\\n          \\\"date\\\",\\r\\n          \\\"hour\\\",\\r\\n          \\\"plat\\\",\\r\\n          \\\"ksjk_existing\\\",\\r\\n          \\\"phones_count\\\",\\r\\n          \\\"register_count\\\",\\r\\n          \\\"activation_count\\\",\\r\\n          \\\"jinjian\\\",\\r\\n          \\\"approval\\\",\\r\\n          \\\"emitCn\\\",\\r\\n          \\\"emitMoney\\\",\\r\\n          \\\"act_reg_rate\\\",\\r\\n          \\\"jj_jh_rate\\\",\\r\\n          \\\"review_jinj_rate\\\",\\r\\n          \\\"take_phone_new\\\",\\r\\n        ];\\r\\n        setTimeout(() => {\\r\\n          const list = this.$refs.dataTable.dataListA;\\r\\n          const data = this.formatJson(filterVal, list);\\r\\n          export_json_to_excel(tHeader, data, \\\"H5总计(小时)\\\");\\r\\n        }, 300);\\r\\n      });\\r\\n    },\\r\\n    formatJson(filterVal, jsonData) {\\r\\n      return jsonData.map(v =>\\r\\n        filterVal.map(j => {\\r\\n          let returnValue;\\r\\n          if (j == \\\"operator\\\") {\\r\\n            returnValue = v[j].name;\\r\\n          } else {\\r\\n            returnValue = v[j];\\r\\n          }\\r\\n          return returnValue;\\r\\n        }),\\r\\n      );\\r\\n    },\\r\\n\\r\\n    checkAllSelection(selectType) {\\r\\n      let len = this.$refs[selectType].optionsCount;\\r\\n      for (var i = 0; i < len; i++) {\\r\\n        (function(index, _this) {\\r\\n          let _timer = setTimeout(() => {\\r\\n            _this.$refs[selectType].handleOptionSelect(\\r\\n              _this.$refs[selectType].options[index],\\r\\n            );\\r\\n            clearTimeout(_timer);\\r\\n          }, 0);\\r\\n        })(i, this);\\r\\n      }\\r\\n    },\\r\\n    handleCheckAllDeviceChange(event) {\\r\\n      this.checkAllSelection(\\\"deviceSelect\\\");\\r\\n      this.deviceCheckAll = !this.deviceCheckAll;\\r\\n    },\\r\\n    setCheckAllStyle(selectedCount, selectType) {\\r\\n      let type = selectType + \\\"CheckAll\\\";\\r\\n      let type_1 = selectType + \\\"Select\\\";\\r\\n      if (this[type]) {\\r\\n        if (selectedCount.length < this.$refs[type_1].optionsCount) {\\r\\n          this[type] = !this[type];\\r\\n        }\\r\\n      } else {\\r\\n        if (selectedCount.length === this.$refs[type_1].optionsCount) {\\r\\n          this[type] = !this[type];\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n    deviceChange(values) {\\r\\n      this.setCheckAllStyle(values, \\\"device\\\");\\r\\n    },\\r\\n  },\\r\\n};\\r\\n</script>\\r\\n<style>\\r\\n.span-style {\\r\\n  display: inline-block;\\r\\n  margin-top: 8px;\\r\\n  font-size: 14px;\\r\\n}\\r\\n</style>\\r\\n\"]}]);\n","import mod from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsByHour.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsByHour.vue?vue&type=style&index=1&lang=css&\"","exports = module.exports = require(\"../../../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.span-style {\\r\\n  display: inline-block;\\r\\n  margin-top: 8px;\\r\\n  font-size: 14px;\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"src/views/contents/market/h5StatisticsByHour.vue\"],\"names\":[],\"mappings\":\";AAkZA;EACA,qBAAA;EACA,eAAA;EACA,eAAA;AACA\",\"file\":\"h5StatisticsByHour.vue?vue&type=style&index=1&lang=css&\",\"sourcesContent\":[\"<!--\\r\\n * @Description: \\r\\n * @Author: jinxiaojian\\r\\n * @Email: jinxiaojian@youxin.com\\r\\n * @Date: 2019-07-12 16:18:09\\r\\n * @LastEditTime: 2019-07-16 15:39:37\\r\\n * @LastEditors: 靳肖健\\r\\n -->\\r\\n<template>\\r\\n  <div>\\r\\n    <tab-page ref=\\\"tabPage\\\">\\r\\n      <template slot=\\\"h5Statistics\\\">\\r\\n        <data-table :data-table=\\\"dataTable\\\" ref=\\\"dataTable\\\">\\r\\n          <div slot=\\\"conditions\\\" style=\\\"margin-bottom:15px\\\">\\r\\n            <el-form :inline=\\\"true\\\" :model=\\\"queryParams\\\">\\r\\n              <el-form-item>\\r\\n                <!--<el-date-picker-->\\r\\n                <!--v-model=\\\"queryParams.dateRange\\\"-->\\r\\n                <!--type=\\\"daterange\\\"-->\\r\\n                <!--size=\\\"small\\\"-->\\r\\n                <!--placeholder=\\\"选择日期范围\\\">-->\\r\\n                <!--</el-date-picker>-->\\r\\n                <el-date-picker\\r\\n                  v-model=\\\"queryParams.dateRange\\\"\\r\\n                  type=\\\"datetimerange\\\"\\r\\n                  range-separator=\\\"至\\\"\\r\\n                  start-placeholder=\\\"开始日期\\\"\\r\\n                  end-placeholder=\\\"结束日期\\\"\\r\\n                ></el-date-picker>\\r\\n              </el-form-item>\\r\\n\\r\\n              <el-form-item>\\r\\n                <el-select\\r\\n                  v-model=\\\"queryParams.device\\\"\\r\\n                  clearable\\r\\n                  filterable\\r\\n                  placeholder=\\\"设备\\\"\\r\\n                  size=\\\"small\\\"\\r\\n                >\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in deviceOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\"\\r\\n                  ></el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select\\r\\n                  v-model=\\\"queryParams.isksjk\\\"\\r\\n                  clearable\\r\\n                  filterable\\r\\n                  placeholder=\\\"快速借款\\\"\\r\\n                  size=\\\"small\\\"\\r\\n                >\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in ksjkOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\"\\r\\n                  ></el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-button type=\\\"primary\\\" @click=\\\"onSubmit\\\" size=\\\"small\\\" style=\\\"margin-top:0\\\">查询</el-button>\\r\\n              </el-form-item>\\r\\n            </el-form>\\r\\n            <el-button\\r\\n              class=\\\"right mb-10\\\"\\r\\n              type=\\\"primary\\\"\\r\\n              size=\\\"small\\\"\\r\\n              icon=\\\"el-icon-document\\\"\\r\\n              @click=\\\"exportExcel\\\"\\r\\n            >导出excel</el-button>\\r\\n          </div>\\r\\n          <template slot=\\\"columns\\\">\\r\\n            <el-table-column type=\\\"index\\\" label=\\\"序号\\\" width=\\\"60\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"date_str\\\" label=\\\"日期\\\" width=\\\"120\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"hour\\\" label=\\\"小时\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"plat\\\" label=\\\"设备\\\" width=\\\"100\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"ksjk_existing\\\" label=\\\"快速借款用户\\\" width=\\\"120\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"phones_count\\\" label=\\\"手机号\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"take_phone_new\\\" label=\\\"留手机号新用户\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"register_count\\\" label=\\\"注册\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"activation_count\\\" label=\\\"激活\\\"></el-table-column>\\r\\n\\r\\n            <el-table-column sortable prop=\\\"jinjian\\\" label=\\\"当日进件\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"approval\\\" label=\\\"当日审核\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitCn\\\" label=\\\"当日放款\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitMoney\\\" label=\\\"放款金额\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"act_reg_rate\\\" label=\\\"激活/注册\\\" width=\\\"90\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"jj_jh_rate\\\" label=\\\"进件/激活\\\" width=\\\"90\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"review_jinj_rate\\\" label=\\\"审核/进件\\\" width=\\\"90\\\"></el-table-column>\\r\\n          </template>\\r\\n        </data-table>\\r\\n      </template>\\r\\n    </tab-page>\\r\\n  </div>\\r\\n</template>\\r\\n<style scoped>\\r\\n.el-form-item__content .el-button {\\r\\n  margin-top: 20px;\\r\\n}\\r\\n\\r\\n.el-table--border th {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.el-table th .cell {\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.el-form--inline .el-form-item {\\r\\n  margin-right: 2px;\\r\\n}\\r\\n\\r\\n.el-form-item {\\r\\n  margin-bottom: 2px;\\r\\n}\\r\\n\\r\\n.el-dialog__footer {\\r\\n  padding: 10px 0px;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.check-all-select {\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n.check-all-select span.text-all {\\r\\n  font-size: 14px;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.check-all-select label {\\r\\n  float: right;\\r\\n}\\r\\n\\r\\n.mb-10 {\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n</style>\\r\\n<script>\\r\\n//  import common from '../../../utils/common'\\r\\nimport formatDate from \\\"../../../utils/formatDate\\\";\\r\\nimport DataTable from \\\"../../../components/DataTable\\\";\\r\\nimport TabPage from \\\"../../../components/TabPage\\\";\\r\\nexport default {\\r\\n  components: {\\r\\n    DataTable,\\r\\n    TabPage,\\r\\n  },\\r\\n  data() {\\r\\n    let today = formatDate(new Date(), \\\"yyyy-MM-dd\\\") + \\\" 00:00:00\\\";\\r\\n    let now = new Date();\\r\\n    return {\\r\\n      deviceCheckAll: false,\\r\\n      deviceOptions: [\\r\\n        {\\r\\n          value: \\\"iOS\\\",\\r\\n          label: \\\"iOS\\\",\\r\\n        },\\r\\n        {\\r\\n          value: \\\"Android\\\",\\r\\n          label: \\\"Android\\\",\\r\\n        },\\r\\n      ],\\r\\n      ksjkOptions: [\\r\\n        {\\r\\n          value: \\\"是\\\",\\r\\n          label: \\\"是\\\",\\r\\n        },\\r\\n        {\\r\\n          value: \\\"否\\\",\\r\\n          label: \\\"否\\\",\\r\\n        },\\r\\n      ],\\r\\n      initBeginTime: \\\"\\\",\\r\\n      initEndTime: \\\"\\\",\\r\\n\\r\\n      queryParams: {\\r\\n        isksjk: \\\"\\\",\\r\\n        device: \\\"\\\",\\r\\n        beginTime: \\\"\\\",\\r\\n        endTime: \\\"\\\",\\r\\n        dateRange: [today, now],\\r\\n      },\\r\\n      dataTable: {\\r\\n        pageSize: 50,\\r\\n        pageSizes: [10, 20, 50, 100, 1000],\\r\\n        url: \\\"/web/v1/market/queryH5ByHour\\\",\\r\\n        emptyText: \\\"没有记录\\\",\\r\\n        showSummary: true,\\r\\n        summaryMethod: this.getSummaries,\\r\\n      },\\r\\n    };\\r\\n  },\\r\\n  mounted() {\\r\\n    this.dataTable.queryParams = this.queryParams;\\r\\n    this.initBeginTime = this.dealDate(this.queryParams.dateRange[0]);\\r\\n    this.initEndTime = this.dealDate(this.queryParams.dateRange[1]);\\r\\n    this.dataTable.queryParams.beginTime = this.initBeginTime + \\\" 00:00:00\\\";\\r\\n    this.dataTable.queryParams.endTime = this.initEndTime + \\\" 23:59:59\\\";\\r\\n\\r\\n    var defaultPage = {\\r\\n      label: \\\"H5总计\\\",\\r\\n      name: \\\"h5Statistics\\\",\\r\\n      slotName: \\\"h5Statistics\\\",\\r\\n      closable: false,\\r\\n    };\\r\\n    this.$refs.tabPage.$emit(\\\"open-tab\\\", defaultPage);\\r\\n  },\\r\\n\\r\\n  methods: {\\r\\n    loadLists() {\\r\\n      this.$refs.dataTable.$emit(\\\"load-data\\\");\\r\\n    },\\r\\n    onSubmit: function() {\\r\\n      this.dataTable.queryParams = this.queryParams;\\r\\n      this.initBeginTime = this.dealTime(this.queryParams.dateRange[0]);\\r\\n      this.initEndTime = this.dealTime(this.queryParams.dateRange[1]);\\r\\n      this.dataTable.queryParams.beginTime = this.initBeginTime;\\r\\n      this.dataTable.queryParams.endTime = this.initEndTime;\\r\\n\\r\\n      this.dataTable.url = \\\"/web/v1/market/queryH5ByHour\\\";\\r\\n      this.$refs.dataTable.$emit(\\\"load-data\\\");\\r\\n    },\\r\\n    warnTime(startTime, endTime) {\\r\\n      if (!startTime) {\\r\\n        this.$notify({\\r\\n          message: \\\"查询开始时间不能为空！\\\",\\r\\n          type: \\\"warning\\\",\\r\\n        });\\r\\n        return true;\\r\\n      }\\r\\n      if (!endTime) {\\r\\n        this.$notify({\\r\\n          message: \\\"查询结束时间不能为空！\\\",\\r\\n          type: \\\"warning\\\",\\r\\n        });\\r\\n        return true;\\r\\n      }\\r\\n      let timeStart = new Date(startTime).getTime();\\r\\n      let timeEnd = new Date(endTime).getTime();\\r\\n      if (timeStart > timeEnd) {\\r\\n        this.$notify({\\r\\n          message: \\\"查询开始时间不能大于结束时间\\\",\\r\\n          type: \\\"warning\\\",\\r\\n        });\\r\\n        return true;\\r\\n      }\\r\\n      return false;\\r\\n    },\\r\\n    dealTime(time) {\\r\\n      return formatDate(new Date(time), \\\"yyyy-MM-dd hh:mm:ss\\\");\\r\\n    },\\r\\n    dealDate(date) {\\r\\n      return formatDate(new Date(date), \\\"yyyy-MM-dd\\\");\\r\\n    },\\r\\n    formatterDate(row, column) {\\r\\n      return formatDate(row.date, \\\"yyyy-MM-dd\\\");\\r\\n    },\\r\\n    getSummaries(param) {\\r\\n      const { columns, data } = param;\\r\\n      const sums = [];\\r\\n      columns.forEach((column, index) => {\\r\\n        if (index === 0) {\\r\\n          sums[index] = \\\"总计\\\";\\r\\n          return;\\r\\n        }\\r\\n        var values;\\r\\n        if (index === 14 || index === 15 || index === 13) {\\r\\n          values = data.map(item => {\\r\\n            if (item[column.property] !== null) {\\r\\n              return Number(item[column.property].replace(\\\"%\\\", \\\"\\\"));\\r\\n            }\\r\\n          });\\r\\n        } else {\\r\\n          values = data.map(item => Number(item[column.property]));\\r\\n        }\\r\\n\\r\\n        if (!values.every(value => isNaN(value))) {\\r\\n          sums[index] = values.reduce((prev, curr) => {\\r\\n            const value = Number(curr);\\r\\n            if (!isNaN(value)) {\\r\\n              return prev + curr;\\r\\n            } else {\\r\\n              return prev;\\r\\n            }\\r\\n          }, 0);\\r\\n          if (index === 14 || index === 15 || index === 13) {\\r\\n            sums[index] = (sums[index] / data.length).toFixed(2) + \\\" %\\\";\\r\\n          }\\r\\n          //                      sums[index] += ' 元';\\r\\n        } else {\\r\\n          sums[index] = \\\"N/A\\\";\\r\\n        }\\r\\n      });\\r\\n\\r\\n      return sums;\\r\\n    },\\r\\n    exportExcel() {\\r\\n      let self = this;\\r\\n      var exportParams = {};\\r\\n      Object.assign(exportParams, this.dataTable.queryParams);\\r\\n      exportParams.pageSize = this.$refs.dataTable.total;\\r\\n      exportParams.page = 1;\\r\\n      this.$refs.dataTable.$emit(\\\"export-data\\\", exportParams);\\r\\n      require.ensure([], () => {\\r\\n        const { export_json_to_excel } = require(\\\"vendor/Export2Excel\\\");\\r\\n        const tHeader = [\\r\\n          \\\"日期\\\",\\r\\n          \\\"小时\\\",\\r\\n          \\\"设备\\\",\\r\\n          \\\"快速借款用户\\\",\\r\\n          \\\"手机号\\\",\\r\\n          \\\"注册\\\",\\r\\n          \\\"激活\\\",\\r\\n          \\\"进件\\\",\\r\\n          \\\"审核\\\",\\r\\n          \\\"放款\\\",\\r\\n          \\\"放款金额\\\",\\r\\n          \\\"激活/注册\\\",\\r\\n          \\\"进件/激活\\\",\\r\\n          \\\"审核/进件\\\",\\r\\n          \\\"留手机号新用户\\\",\\r\\n        ];\\r\\n        const filterVal = [\\r\\n          \\\"date\\\",\\r\\n          \\\"hour\\\",\\r\\n          \\\"plat\\\",\\r\\n          \\\"ksjk_existing\\\",\\r\\n          \\\"phones_count\\\",\\r\\n          \\\"register_count\\\",\\r\\n          \\\"activation_count\\\",\\r\\n          \\\"jinjian\\\",\\r\\n          \\\"approval\\\",\\r\\n          \\\"emitCn\\\",\\r\\n          \\\"emitMoney\\\",\\r\\n          \\\"act_reg_rate\\\",\\r\\n          \\\"jj_jh_rate\\\",\\r\\n          \\\"review_jinj_rate\\\",\\r\\n          \\\"take_phone_new\\\",\\r\\n        ];\\r\\n        setTimeout(() => {\\r\\n          const list = this.$refs.dataTable.dataListA;\\r\\n          const data = this.formatJson(filterVal, list);\\r\\n          export_json_to_excel(tHeader, data, \\\"H5总计(小时)\\\");\\r\\n        }, 300);\\r\\n      });\\r\\n    },\\r\\n    formatJson(filterVal, jsonData) {\\r\\n      return jsonData.map(v =>\\r\\n        filterVal.map(j => {\\r\\n          let returnValue;\\r\\n          if (j == \\\"operator\\\") {\\r\\n            returnValue = v[j].name;\\r\\n          } else {\\r\\n            returnValue = v[j];\\r\\n          }\\r\\n          return returnValue;\\r\\n        }),\\r\\n      );\\r\\n    },\\r\\n\\r\\n    checkAllSelection(selectType) {\\r\\n      let len = this.$refs[selectType].optionsCount;\\r\\n      for (var i = 0; i < len; i++) {\\r\\n        (function(index, _this) {\\r\\n          let _timer = setTimeout(() => {\\r\\n            _this.$refs[selectType].handleOptionSelect(\\r\\n              _this.$refs[selectType].options[index],\\r\\n            );\\r\\n            clearTimeout(_timer);\\r\\n          }, 0);\\r\\n        })(i, this);\\r\\n      }\\r\\n    },\\r\\n    handleCheckAllDeviceChange(event) {\\r\\n      this.checkAllSelection(\\\"deviceSelect\\\");\\r\\n      this.deviceCheckAll = !this.deviceCheckAll;\\r\\n    },\\r\\n    setCheckAllStyle(selectedCount, selectType) {\\r\\n      let type = selectType + \\\"CheckAll\\\";\\r\\n      let type_1 = selectType + \\\"Select\\\";\\r\\n      if (this[type]) {\\r\\n        if (selectedCount.length < this.$refs[type_1].optionsCount) {\\r\\n          this[type] = !this[type];\\r\\n        }\\r\\n      } else {\\r\\n        if (selectedCount.length === this.$refs[type_1].optionsCount) {\\r\\n          this[type] = !this[type];\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n    deviceChange(values) {\\r\\n      this.setCheckAllStyle(values, \\\"device\\\");\\r\\n    },\\r\\n  },\\r\\n};\\r\\n</script>\\r\\n<style>\\r\\n.span-style {\\r\\n  display: inline-block;\\r\\n  margin-top: 8px;\\r\\n  font-size: 14px;\\r\\n}\\r\\n</style>\\r\\n\"]}]);\n"],"sourceRoot":""}