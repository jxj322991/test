{"version":3,"sources":["webpack:///src/views/contents/market/h5StatisticsDetail.vue","webpack:///./src/views/contents/market/h5StatisticsDetail.vue","webpack:///./src/views/contents/market/h5StatisticsDetail.vue?f0ec","webpack:///./src/views/contents/market/h5StatisticsDetail.vue?a634","webpack:///./src/views/contents/market/h5StatisticsDetail.vue?4dc2","webpack:///./src/views/contents/market/h5StatisticsDetail.vue?333b","webpack:///./src/views/contents/market/h5StatisticsDetail.vue?719e","webpack:///./src/views/contents/market/h5StatisticsDetail.vue?cc84","webpack:///./src/views/contents/market/h5StatisticsDetail.vue?b654"],"names":["c","components","DataTable","r","a","TabPage","n","data","sourceCheckAll","mediumCheckAll","campaignCheckAll","deviceCheckAll","sourceOptions","mediumOptions","campaignOptions","sourceOptionsList","mediumOptionsList","campaignOptionsList","deviceOptions","value","label","ksjkOptions","initBeginTime","initEndTime","queryParams","source","medium","campaign","device","isksjk","beginTime","endTime","dataTable","pageSize","pageSizes","url","emptyText","showSummary","summaryMethod","this","getSummaries","loading","mounted","e","Date","t","setDate","getDate","dealDate","$refs","tabPage","$emit","name","slotName","closable","getCampaigns","getMediums","getSources","beforeDestroy","methods","remoteSourceMethod","setTimeout","filter","indexOf","remoteMediumMethod","remoteCampaignMethod","loadLists","onSubmit","warnTime","getTime","$notify","message","type","dealTime","Object","o","formatterDate","date","columns","l","forEach","i","map","property","replace","every","isNaN","reduce","length","toFixed","exportExcel","total","page","Promise","all","then","export_json_to_excel","s","dataListA","formatJson","bind","catch","oe","ajax","contentType","success","list","error","m","Notification","title","checkAllSelection","optionsCount","handleOptionSelect","options","handleCheckAllSourceChange","console","log","handleCheckAllMediumChange","handleCheckAllCampaignChange","handleCheckAllDeviceChange","setCheckAllStyle","sourceChange","mediumChange","campaignChange","deviceChange","b","d","$createElement","_self","_c","ref","slot","attrs","data-table","staticStyle","margin-bottom","inline","model","width","placeholder","size","callback","$set","expression","_v","staticClass","clearable","filterable","_l","key","remote","remote-method","margin-top","on","click","icon","sortable","prop","exports","locals","default","push","version","sources","names","mappings","file","sourcesContent"],"mappings":"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","file":"dist/js/35.6d658d0b612447805597.js","sourcesContent":["<template>\r\n  <div>\r\n    <tab-page ref=\"tabPage\">\r\n      <template slot=\"h5StatisticsDetail\">\r\n        <data-table :data-table=\"dataTable\" ref=\"dataTable\">\r\n          <div slot=\"conditions\" style=\"margin-bottom:15px\">\r\n            <el-form :inline=\"true\" :model=\"queryParams\">\r\n              <el-form-item>\r\n                <el-date-picker\r\n                  v-model=\"queryParams.beginTime\"\r\n                  type=\"date\"\r\n                  placeholder=\"选择日期时间\" size=\"small\" style=\"width:170px\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n              <span class=\"span-style\">至</span>\r\n              <el-form-item>\r\n                <el-date-picker\r\n                  v-model=\"queryParams.endTime\"\r\n                  type=\"date\"\r\n                  placeholder=\"选择日期时间\" size=\"small\" style=\"width:170px\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-select v-model=\"queryParams.device\"\r\n                           clearable\r\n                           filterable\r\n                           placeholder=\"设备\"\r\n                           size=\"small\">\r\n                  <el-option\r\n                    v-for=\"item in deviceOptions\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-select v-model=\"queryParams.source\"\r\n                           ref=\"sourceSelect\"\r\n                           clearable\r\n                           filterable\r\n                           remote\r\n                           :remote-method=\"remoteSourceMethod\"\r\n                           :loading=\"loading\"\r\n                           placeholder=\"source\"\r\n                           size=\"small\">\r\n                  <el-option\r\n                    v-for=\"item in sourceOptions\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-select v-model=\"queryParams.medium\"\r\n                           ref=\"mediumSelect\"\r\n                           clearable\r\n                           filterable\r\n                           remote\r\n                           :remote-method=\"remoteMediumMethod\"\r\n                           :loading=\"loading\"\r\n                           placeholder=\"medium\"\r\n                           size=\"small\">\r\n                  <el-option\r\n                    v-for=\"item in mediumOptions\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-select v-model=\"queryParams.campaign\"\r\n                           ref=\"campaignSelect\"\r\n                           clearable\r\n                           filterable\r\n                           remote\r\n                           :remote-method=\"remoteCampaignMethod\"\r\n                           :loading=\"loading\"\r\n                           placeholder=\"campaign\"\r\n                           size=\"small\">\r\n                  <el-option\r\n                    v-for=\"item in campaignOptions\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-select v-model=\"queryParams.isksjk\" clearable filterable placeholder=\"快速借款\"\r\n                           size=\"small\">\r\n                  <el-option\r\n                    v-for=\"item in ksjkOptions\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button type=\"primary\" @click=\"onSubmit\" size=\"small\" style=\"margin-top:0\">查询\r\n                </el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n            <el-button class=\"right mb-10\" type=\"primary\" size=\"small\" icon=\"el-icon-document\"\r\n                       @click=\"exportExcel\">导出excel\r\n            </el-button>\r\n          </div>\r\n          <template slot=\"columns\">\r\n            <el-table-column type=\"index\" label=\"序号\" width=\"60\"></el-table-column>\r\n            <el-table-column sortable prop=\"date\" label=\"日期\" width=\"120\"></el-table-column>\r\n\r\n            <el-table-column sortable prop=\"plat\" label=\"设备\" width=\"100\"></el-table-column>\r\n            <el-table-column sortable prop=\"ksjk_existing\" label=\"快速借款用户\" width=\"120\"></el-table-column>\r\n            <el-table-column sortable prop=\"source\" label=\"source\"></el-table-column>\r\n            <el-table-column sortable prop=\"medium\" label=\"medium\"></el-table-column>\r\n            <el-table-column sortable prop=\"campaign\" label=\"campaign\"></el-table-column>\r\n            <el-table-column sortable prop=\"uv\" label=\"uv\"></el-table-column>\r\n            <el-table-column sortable prop=\"phones_count\" label=\"手机号\"></el-table-column>\r\n            <el-table-column sortable prop=\"take_phone_new\" label=\"留手机号新用户\" ></el-table-column>\r\n            <el-table-column sortable prop=\"register_count\" label=\"注册\"></el-table-column>\r\n            <el-table-column sortable prop=\"activation_count\" label=\"激活\"></el-table-column>\r\n\r\n            <el-table-column sortable prop=\"jinjian\" label=\"当日进件\"></el-table-column>\r\n            <el-table-column sortable prop=\"approval\" label=\"当日审核\"></el-table-column>\r\n            <el-table-column sortable prop=\"emitCn\" label=\"当日放款\"></el-table-column>\r\n            <el-table-column sortable prop=\"emitMoney\" label=\"放款金额\"></el-table-column>\r\n            <el-table-column sortable prop=\"act_reg_rate\" label=\"激活/注册\" width=\"90\"></el-table-column>\r\n            <el-table-column sortable prop=\"jj_jh_rate\" label=\"进件/激活\" width=\"90\"></el-table-column>\r\n            <el-table-column sortable prop=\"jj_reg_rate\" label=\"进件/注册\" width=\"90\"></el-table-column>\r\n            <el-table-column sortable prop=\"review_jinj_rate\" label=\"审核/进件\" width=\"90\"></el-table-column>\r\n\r\n            <el-table-column sortable prop=\"jinjian_t7\" label=\"T7进件\"></el-table-column>\r\n            <el-table-column sortable prop=\"approval_t7\" label=\"T7审核\"></el-table-column>\r\n            <el-table-column sortable prop=\"emitCn_t7\" label=\"T7放款\"></el-table-column>\r\n            <el-table-column sortable prop=\"emitMoney_t7\" label=\"T7放款金额\"></el-table-column>\r\n\r\n\r\n          </template>\r\n        </data-table>\r\n      </template>\r\n    </tab-page>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n  .el-form-item__content .el-button {\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .el-table--border th {\r\n    text-align: center;\r\n  }\r\n\r\n  .el-table th .cell {\r\n    text-align: center;\r\n  }\r\n\r\n  .el-form--inline .el-form-item {\r\n    margin-right: 2px;\r\n  }\r\n\r\n  .el-form-item {\r\n    margin-bottom: 2px;\r\n  }\r\n\r\n  .el-dialog__footer {\r\n    padding: 10px 0px;\r\n    text-align: center;\r\n  }\r\n\r\n  .check-all-select {\r\n    padding: 10px;\r\n  }\r\n\r\n  .check-all-select span.text-all {\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .check-all-select label {\r\n    float: right;\r\n  }\r\n\r\n  .mb-10 {\r\n    margin-bottom: 10px;\r\n  }\r\n</style>\r\n<script>\r\n  import common from '../../../utils/common'\r\n  import formatDate from '../../../utils/formatDate'\r\n  import DataTable from \"../../../components/DataTable\"\r\n  import TabPage from \"../../../components/TabPage\"\r\n  import {Notification} from 'element-ui';\r\n  export default{\r\n    components: {\r\n      DataTable,\r\n      TabPage,\r\n    },\r\n    data(){\r\n      return {\r\n        sourceCheckAll: false,\r\n        mediumCheckAll: false,\r\n        campaignCheckAll: false,\r\n        deviceCheckAll: false,\r\n\r\n        sourceOptions: [],\r\n        mediumOptions: [],\r\n        campaignOptions: [],\r\n        sourceOptionsList: [],\r\n        mediumOptionsList: [],\r\n        campaignOptionsList: [],\r\n        deviceOptions: [\r\n          {\r\n            value: 'iOS',\r\n            label: 'iOS'\r\n          },\r\n          {\r\n            value: 'Android',\r\n            label: 'Android'\r\n          }\r\n        ],\r\n        ksjkOptions: [\r\n          {\r\n            value: '是',\r\n            label: '是'\r\n          },\r\n          {\r\n            value: '否',\r\n            label: '否'\r\n          }\r\n        ],\r\n        initBeginTime: '',\r\n        initEndTime: '',\r\n\r\n        queryParams: {\r\n          source: '',\r\n          medium: '',\r\n          campaign: '',\r\n          device: '',\r\n          isksjk: '',\r\n          beginTime: '',//开始时间\r\n          endTime: '',//结束时间\r\n        },\r\n        dataTable: {\r\n          pageSize: 50,\r\n          pageSizes: [10, 20, 50, 100, 1000,5000,10000,20000],\r\n          url: \"/web/v1/market/queryH5Detail\",    //代付管理\r\n          emptyText: '没有记录',\r\n          showSummary: true,\r\n          summaryMethod: this.getSummaries,\r\n        },\r\n        loading: false,\r\n      }\r\n    },\r\n    mounted(){\r\n      this.dataTable.queryParams = this.queryParams;\r\n      let date = new Date();\r\n      let beginDate = new Date(date.setDate(date.getDate() - 7));\r\n      this.initBeginTime = this.dealDate(beginDate);\r\n      this.initEndTime = this.dealDate(new Date());\r\n      this.dataTable.queryParams.beginTime = this.initBeginTime + ' 00:00:00';\r\n      this.dataTable.queryParams.endTime = this.initEndTime + ' 23:59:59';\r\n\r\n      var defaultPage = {\r\n        label: \"H5渠道\",\r\n        name: \"h5StatisticsDetail\",\r\n        slotName: 'h5StatisticsDetail',\r\n        closable: false\r\n      };\r\n      this.$refs.tabPage.$emit(\"open-tab\", defaultPage);\r\n\r\n      this.getCampaigns();\r\n      this.getMediums();\r\n      this.getSources();\r\n    },\r\n    beforeDestroy(){\r\n      // this.campaignOptions = [];\r\n      // this.mediumOptions = [];\r\n      // this.sourceOptions = [];\r\n      // this.$refs.campaignSelect.doDestroy();\r\n      // this.$refs.mediumSelect.doDestroy();\r\n      // this.$refs.sourceSelect.doDestroy();\r\n\r\n    },\r\n    methods: {\r\n      remoteSourceMethod(query){\r\n        if (query !== '') {\r\n          this.loading = true;\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n\r\n            this.sourceOptions = this.sourceOptionsList.filter(item => {\r\n              return item.name.indexOf(query) > -1;\r\n            });\r\n          }, 200);\r\n        } else {\r\n          this.sourceOptions = [];\r\n        }\r\n      },\r\n      remoteMediumMethod(query){\r\n        if (query !== '') {\r\n          this.loading = true;\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n\r\n            this.mediumOptions = this.mediumOptionsList.filter(item => {\r\n              return item.name.indexOf(query) > -1;\r\n            });\r\n          }, 200);\r\n        } else {\r\n          this.mediumOptions = [];\r\n        }\r\n      },\r\n      remoteCampaignMethod(query){\r\n        if (query !== '') {\r\n          this.loading = true;\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n\r\n            this.campaignOptions = this.campaignOptionsList.filter(item => {\r\n              return item.name.indexOf(query) > -1;\r\n            });\r\n          }, 200);\r\n        } else {\r\n          this.campaignOptions = [];\r\n        }\r\n      },\r\n      loadLists(){\r\n        this.$refs.dataTable.$emit('load-data');\r\n      },\r\n      onSubmit: function () {\r\n        this.dataTable.queryParams = this.queryParams;\r\n        var tag = this.warnTime(this.dataTable.queryParams.beginTime, this.dataTable.queryParams.endTime);\r\n        if (tag) {\r\n          return;\r\n        }\r\n        this.dataTable.queryParams.beginTime = this.dealDate(this.dataTable.queryParams.beginTime) + ' 00:00:00';\r\n        this.dataTable.queryParams.endTime = this.dealDate(this.dataTable.queryParams.endTime) + ' 23:59:59';\r\n        this.dataTable.url = '/web/v1/market/queryH5Detail';\r\n        this.$refs.dataTable.$emit('load-data');\r\n      },\r\n      warnTime(startTime, endTime){\r\n        if (!startTime) {\r\n          this.$notify({\r\n            message: '查询开始时间不能为空！',\r\n            type: 'warning'\r\n          });\r\n          return true;\r\n        }\r\n        if (!endTime) {\r\n          this.$notify({\r\n            message: '查询结束时间不能为空！',\r\n            type: 'warning'\r\n          });\r\n          return true;\r\n        }\r\n        let timeStart = new Date(startTime).getTime();\r\n        let timeEnd = new Date(endTime).getTime();\r\n        if (timeStart > timeEnd) {\r\n          this.$notify({\r\n            message: '查询开始时间不能大于结束时间',\r\n            type: 'warning'\r\n          });\r\n          return true;\r\n        }\r\n        return false;\r\n      },\r\n      dealTime (time) {\r\n        return formatDate(new Date(time), 'yyyy-MM-dd hh:mm:ss');\r\n      },\r\n      formatterDate (row, column) {\r\n        return formatDate(row.date, 'yyyy-MM-dd');\r\n      },\r\n      dealDate (date) {\r\n        return formatDate(new Date(date), 'yyyy-MM-dd');\r\n      },\r\n      getSummaries (param) {\r\n        const {columns, data} = param;\r\n        const sums = [];\r\n        columns.forEach((column, index) => {\r\n          if (index === 0) {\r\n            sums[index] = '总计';\r\n            return;\r\n          }\r\n          var values;\r\n          if(index === 16||index === 17||index === 18||index === 19){\r\n             values = data.map(item =>{\r\n               if(item[column.property]!==null){\r\n                 return Number(item[column.property].replace('%',''));\r\n               }\r\n             });\r\n          }else{\r\n             values = data.map(item => Number(item[column.property]));\r\n          }\r\n\r\n          if (!values.every(value => isNaN(value))) {\r\n            sums[index] = values.reduce((prev, curr) => {\r\n              const value = Number(curr);\r\n              if (!isNaN(value)) {\r\n                return prev + curr;\r\n              } else {\r\n                return prev;\r\n              }\r\n            }, 0);\r\n            if(index === 16||index === 17||index === 18||index === 19){\r\n               sums[index]=(sums[index]/data.length).toFixed(2)+ ' %';\r\n            }\r\n//                      sums[index] += ' 元';\r\n          } else {\r\n            sums[index] = 'N/A';\r\n          }\r\n        });\r\n\r\n        return sums;\r\n      },\r\n      exportExcel() {\r\n        let self=this;\r\n        var exportParams = {};\r\n        Object.assign(exportParams, this.dataTable.queryParams);\r\n        exportParams.pageSize = this.$refs.dataTable.total;\r\n        exportParams.page = 1;\r\n        this.$refs.dataTable.$emit('export-data',exportParams);\r\n        require.ensure([], () => {\r\n          const {export_json_to_excel} = require('vendor/Export2Excel');\r\n          const tHeader = [\r\n            '日期',\r\n            'T7进件',\r\n            'T7审核',\r\n            'T7放款',\r\n            'T7放款金额',\r\n            'uv', '设备', '快速借款用户', 'source', 'medium', 'campaign', '手机号', '注册', '激活', '进件', '审核', '放款', '放款金额', '激活/注册', '进件/激活', '审核/进件', '留手机号新用户'];\r\n          const filterVal = [\r\n            'date',\r\n            'jinjian_t7',\r\n            'approval_t7',\r\n            'emitCn_t7',\r\n            'emitMoney_t7',\r\n            'uv', 'plat', 'ksjk_existing', 'source', 'medium', 'campaign', 'phones_count', 'register_count', 'activation_count', 'jinjian', 'approval', 'emitCn', 'emitMoney', 'act_reg_rate', 'jj_jh_rate', 'review_jinj_rate', 'take_phone_new'];\r\n\r\n          setTimeout(() => {\r\n            const list = this.$refs.dataTable.dataListA;\r\n            const data = this.formatJson(filterVal, list);\r\n            export_json_to_excel(tHeader, data, 'H5渠道');\r\n          }, 300);\r\n        })\r\n      },\r\n      formatJson(filterVal, jsonData) {\r\n        return jsonData.map(v => filterVal.map(j => {\r\n          let returnValue;\r\n          if (j == 'operator') {\r\n            returnValue = v[j].name;\r\n          } else {\r\n            returnValue = v[j];\r\n          }\r\n          return returnValue;\r\n        }))\r\n      },\r\n\r\n      getSources(){\r\n        common.ajax({\r\n          url: '/web/v1/options/h5/sources',\r\n          type: 'POST',\r\n          contentType: 'application/json',\r\n          success: (response) => {\r\n            if (response.data && response.data.list) {\r\n              // this.sourceOptions = response.data.list;\r\n              this.sourceOptionsList = response.data.list;\r\n            }\r\n          },\r\n          error: (err) => {\r\n            let error = err.message || err;\r\n            Notification.error({\r\n              title: '错误',\r\n              message: error\r\n            });\r\n          }\r\n        });\r\n      },\r\n\r\n      getMediums(){\r\n        common.ajax({\r\n          url: '/web/v1/options/h5/mediums',\r\n          type: 'POST',\r\n          contentType: 'application/json',\r\n          success: (response) => {\r\n            if (response.data && response.data.list) {\r\n              // this.mediumOptions = response.data.list;\r\n              this.mediumOptionsList = response.data.list;\r\n            }\r\n          },\r\n          error: (err) => {\r\n            let error = err.message || err;\r\n            Notification.error({\r\n              title: '错误',\r\n              message: error\r\n            });\r\n          }\r\n        });\r\n      },\r\n\r\n      getCampaigns(){\r\n        common.ajax({\r\n          url: '/web/v1/options/h5/campaigns',\r\n          type: 'POST',\r\n          contentType: 'application/json',\r\n          success: (response) => {\r\n            if (response.data && response.data.list) {\r\n              // this.campaignOptions = response.data.list;\r\n              this.campaignOptionsList = response.data.list;\r\n            }\r\n          },\r\n          error: (err) => {\r\n            let error = err.message || err;\r\n            Notification.error({\r\n              title: '错误',\r\n              message: error\r\n            });\r\n          }\r\n        });\r\n      },\r\n\r\n      checkAllSelection(selectType){\r\n        let len = this.$refs[selectType].optionsCount;\r\n        for (var i = 0; i < len; i++) {\r\n          (function (index, _this) {\r\n            setTimeout(() => {\r\n              _this.$refs[selectType].handleOptionSelect(_this.$refs[selectType].options[index]);\r\n            }, 0);\r\n\r\n          })(i, this);\r\n        }\r\n        ;\r\n      },\r\n      handleCheckAllSourceChange(event) {\r\n        console.log('source');\r\n        this.checkAllSelection(\"sourceSelect\");\r\n        this.sourceCheckAll = !this.sourceCheckAll;\r\n      },\r\n      handleCheckAllMediumChange(event) {\r\n        this.checkAllSelection(\"mediumSelect\");\r\n        this.mediumCheckAll = !this.mediumCheckAll;\r\n      },\r\n      handleCheckAllCampaignChange(event) {\r\n        this.checkAllSelection(\"campaignSelect\");\r\n        this.campaignCheckAll = !this.campaignCheckAll;\r\n      },\r\n      handleCheckAllDeviceChange(event) {\r\n        this.checkAllSelection(\"deviceSelect\");\r\n        this.deviceCheckAll = !this.deviceCheckAll;\r\n      },\r\n      setCheckAllStyle(selectedCount, selectType){\r\n        console.log('setCheckAllStyle');\r\n        let type = selectType + 'CheckAll';\r\n        let type_1 = selectType + 'Select';\r\n        if (this[type]) {\r\n          if (selectedCount.length < this.$refs[type_1].optionsCount) {\r\n            this[type] = !this[type];\r\n          }\r\n        } else {\r\n          if (selectedCount.length === this.$refs[type_1].optionsCount) {\r\n            this[type] = !this[type];\r\n          }\r\n        }\r\n      },\r\n      sourceChange(values){\r\n        console.log('sourceChange');\r\n        this.setCheckAllStyle(values, \"source\");\r\n      },\r\n      mediumChange(values){\r\n        this.setCheckAllStyle(values, \"medium\");\r\n      },\r\n      campaignChange(values){\r\n        this.setCheckAllStyle(values, \"campaign\");\r\n      },\r\n      deviceChange(values){\r\n        this.setCheckAllStyle(values, \"device\");\r\n      },\r\n\r\n    },\r\n  }\r\n</script>\r\n<style>\r\n  .span-style {\r\n    display: inline-block;\r\n    margin-top: 8px;\r\n    font-size: 14px;\r\n  }\r\n</style>\r\n","import { render, staticRenderFns } from \"./h5StatisticsDetail.vue?vue&type=template&id=d51e7bd2&scoped=true&\"\nimport script from \"./h5StatisticsDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./h5StatisticsDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./h5StatisticsDetail.vue?vue&type=style&index=0&id=d51e7bd2&scoped=true&lang=css&\"\nimport style1 from \"./h5StatisticsDetail.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d51e7bd2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('tab-page',{ref:\"tabPage\"},[_c('template',{slot:\"h5StatisticsDetail\"},[_c('data-table',{ref:\"dataTable\",attrs:{\"data-table\":_vm.dataTable}},[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"slot\":\"conditions\"},slot:\"conditions\"},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.queryParams}},[_c('el-form-item',[_c('el-date-picker',{staticStyle:{\"width\":\"170px\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期时间\",\"size\":\"small\"},model:{value:(_vm.queryParams.beginTime),callback:function ($$v) {_vm.$set(_vm.queryParams, \"beginTime\", $$v)},expression:\"queryParams.beginTime\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"span-style\"},[_vm._v(\"至\")]),_vm._v(\" \"),_c('el-form-item',[_c('el-date-picker',{staticStyle:{\"width\":\"170px\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期时间\",\"size\":\"small\"},model:{value:(_vm.queryParams.endTime),callback:function ($$v) {_vm.$set(_vm.queryParams, \"endTime\", $$v)},expression:\"queryParams.endTime\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"设备\",\"size\":\"small\"},model:{value:(_vm.queryParams.device),callback:function ($$v) {_vm.$set(_vm.queryParams, \"device\", $$v)},expression:\"queryParams.device\"}},_vm._l((_vm.deviceOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-select',{ref:\"sourceSelect\",attrs:{\"clearable\":\"\",\"filterable\":\"\",\"remote\":\"\",\"remote-method\":_vm.remoteSourceMethod,\"loading\":_vm.loading,\"placeholder\":\"source\",\"size\":\"small\"},model:{value:(_vm.queryParams.source),callback:function ($$v) {_vm.$set(_vm.queryParams, \"source\", $$v)},expression:\"queryParams.source\"}},_vm._l((_vm.sourceOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-select',{ref:\"mediumSelect\",attrs:{\"clearable\":\"\",\"filterable\":\"\",\"remote\":\"\",\"remote-method\":_vm.remoteMediumMethod,\"loading\":_vm.loading,\"placeholder\":\"medium\",\"size\":\"small\"},model:{value:(_vm.queryParams.medium),callback:function ($$v) {_vm.$set(_vm.queryParams, \"medium\", $$v)},expression:\"queryParams.medium\"}},_vm._l((_vm.mediumOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-select',{ref:\"campaignSelect\",attrs:{\"clearable\":\"\",\"filterable\":\"\",\"remote\":\"\",\"remote-method\":_vm.remoteCampaignMethod,\"loading\":_vm.loading,\"placeholder\":\"campaign\",\"size\":\"small\"},model:{value:(_vm.queryParams.campaign),callback:function ($$v) {_vm.$set(_vm.queryParams, \"campaign\", $$v)},expression:\"queryParams.campaign\"}},_vm._l((_vm.campaignOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"快速借款\",\"size\":\"small\"},model:{value:(_vm.queryParams.isksjk),callback:function ($$v) {_vm.$set(_vm.queryParams, \"isksjk\", $$v)},expression:\"queryParams.isksjk\"}},_vm._l((_vm.ksjkOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"margin-top\":\"0\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\\n              \")])],1)],1),_vm._v(\" \"),_c('el-button',{staticClass:\"right mb-10\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-document\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"导出excel\\n          \")])],1),_vm._v(\" \"),_c('template',{slot:\"columns\"},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"date\",\"label\":\"日期\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"plat\",\"label\":\"设备\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"ksjk_existing\",\"label\":\"快速借款用户\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"source\",\"label\":\"source\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"medium\",\"label\":\"medium\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"campaign\",\"label\":\"campaign\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"uv\",\"label\":\"uv\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"phones_count\",\"label\":\"手机号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"take_phone_new\",\"label\":\"留手机号新用户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"register_count\",\"label\":\"注册\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"activation_count\",\"label\":\"激活\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"jinjian\",\"label\":\"当日进件\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"approval\",\"label\":\"当日审核\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"emitCn\",\"label\":\"当日放款\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"emitMoney\",\"label\":\"放款金额\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"act_reg_rate\",\"label\":\"激活/注册\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"jj_jh_rate\",\"label\":\"进件/激活\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"jj_reg_rate\",\"label\":\"进件/注册\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"review_jinj_rate\",\"label\":\"审核/进件\",\"width\":\"90\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"jinjian_t7\",\"label\":\"T7进件\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"approval_t7\",\"label\":\"T7审核\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"emitCn_t7\",\"label\":\"T7放款\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"emitMoney_t7\",\"label\":\"T7放款金额\"}})],1)],2)],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsDetail.vue?vue&type=style&index=0&id=d51e7bd2&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"edc4a8ac\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsDetail.vue?vue&type=style&index=1&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ab8b9650\", content, true, {});","import mod from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsDetail.vue?vue&type=style&index=0&id=d51e7bd2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsDetail.vue?vue&type=style&index=0&id=d51e7bd2&scoped=true&lang=css&\"","exports = module.exports = require(\"../../../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.el-form-item__content .el-button[data-v-d51e7bd2] {\\n  margin-top: 20px;\\n}\\n.el-table--border th[data-v-d51e7bd2] {\\n  text-align: center;\\n}\\n.el-table th .cell[data-v-d51e7bd2] {\\n  text-align: center;\\n}\\n.el-form--inline .el-form-item[data-v-d51e7bd2] {\\n  margin-right: 2px;\\n}\\n.el-form-item[data-v-d51e7bd2] {\\n  margin-bottom: 2px;\\n}\\n.el-dialog__footer[data-v-d51e7bd2] {\\n  padding: 10px 0px;\\n  text-align: center;\\n}\\n.check-all-select[data-v-d51e7bd2] {\\n  padding: 10px;\\n}\\n.check-all-select span.text-all[data-v-d51e7bd2] {\\n  font-size: 14px;\\n  font-weight: bold;\\n}\\n.check-all-select label[data-v-d51e7bd2] {\\n  float: right;\\n}\\n.mb-10[data-v-d51e7bd2] {\\n  margin-bottom: 10px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/views/contents/market/h5StatisticsDetail.vue\"],\"names\":[],\"mappings\":\";AAmJA;EACA,gBAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,iBAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,iBAAA;EACA,kBAAA;AACA;AAEA;EACA,aAAA;AACA;AAEA;EACA,eAAA;EACA,iBAAA;AACA;AAEA;EACA,YAAA;AACA;AAEA;EACA,mBAAA;AACA\",\"file\":\"h5StatisticsDetail.vue?vue&type=style&index=0&id=d51e7bd2&scoped=true&lang=css&\",\"sourcesContent\":[\"<template>\\r\\n  <div>\\r\\n    <tab-page ref=\\\"tabPage\\\">\\r\\n      <template slot=\\\"h5StatisticsDetail\\\">\\r\\n        <data-table :data-table=\\\"dataTable\\\" ref=\\\"dataTable\\\">\\r\\n          <div slot=\\\"conditions\\\" style=\\\"margin-bottom:15px\\\">\\r\\n            <el-form :inline=\\\"true\\\" :model=\\\"queryParams\\\">\\r\\n              <el-form-item>\\r\\n                <el-date-picker\\r\\n                  v-model=\\\"queryParams.beginTime\\\"\\r\\n                  type=\\\"date\\\"\\r\\n                  placeholder=\\\"选择日期时间\\\" size=\\\"small\\\" style=\\\"width:170px\\\">\\r\\n                </el-date-picker>\\r\\n              </el-form-item>\\r\\n              <span class=\\\"span-style\\\">至</span>\\r\\n              <el-form-item>\\r\\n                <el-date-picker\\r\\n                  v-model=\\\"queryParams.endTime\\\"\\r\\n                  type=\\\"date\\\"\\r\\n                  placeholder=\\\"选择日期时间\\\" size=\\\"small\\\" style=\\\"width:170px\\\">\\r\\n                </el-date-picker>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select v-model=\\\"queryParams.device\\\"\\r\\n                           clearable\\r\\n                           filterable\\r\\n                           placeholder=\\\"设备\\\"\\r\\n                           size=\\\"small\\\">\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in deviceOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\">\\r\\n                  </el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select v-model=\\\"queryParams.source\\\"\\r\\n                           ref=\\\"sourceSelect\\\"\\r\\n                           clearable\\r\\n                           filterable\\r\\n                           remote\\r\\n                           :remote-method=\\\"remoteSourceMethod\\\"\\r\\n                           :loading=\\\"loading\\\"\\r\\n                           placeholder=\\\"source\\\"\\r\\n                           size=\\\"small\\\">\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in sourceOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\">\\r\\n                  </el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select v-model=\\\"queryParams.medium\\\"\\r\\n                           ref=\\\"mediumSelect\\\"\\r\\n                           clearable\\r\\n                           filterable\\r\\n                           remote\\r\\n                           :remote-method=\\\"remoteMediumMethod\\\"\\r\\n                           :loading=\\\"loading\\\"\\r\\n                           placeholder=\\\"medium\\\"\\r\\n                           size=\\\"small\\\">\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in mediumOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\">\\r\\n                  </el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select v-model=\\\"queryParams.campaign\\\"\\r\\n                           ref=\\\"campaignSelect\\\"\\r\\n                           clearable\\r\\n                           filterable\\r\\n                           remote\\r\\n                           :remote-method=\\\"remoteCampaignMethod\\\"\\r\\n                           :loading=\\\"loading\\\"\\r\\n                           placeholder=\\\"campaign\\\"\\r\\n                           size=\\\"small\\\">\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in campaignOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\">\\r\\n                  </el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select v-model=\\\"queryParams.isksjk\\\" clearable filterable placeholder=\\\"快速借款\\\"\\r\\n                           size=\\\"small\\\">\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in ksjkOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\">\\r\\n                  </el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-button type=\\\"primary\\\" @click=\\\"onSubmit\\\" size=\\\"small\\\" style=\\\"margin-top:0\\\">查询\\r\\n                </el-button>\\r\\n              </el-form-item>\\r\\n            </el-form>\\r\\n            <el-button class=\\\"right mb-10\\\" type=\\\"primary\\\" size=\\\"small\\\" icon=\\\"el-icon-document\\\"\\r\\n                       @click=\\\"exportExcel\\\">导出excel\\r\\n            </el-button>\\r\\n          </div>\\r\\n          <template slot=\\\"columns\\\">\\r\\n            <el-table-column type=\\\"index\\\" label=\\\"序号\\\" width=\\\"60\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"date\\\" label=\\\"日期\\\" width=\\\"120\\\"></el-table-column>\\r\\n\\r\\n            <el-table-column sortable prop=\\\"plat\\\" label=\\\"设备\\\" width=\\\"100\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"ksjk_existing\\\" label=\\\"快速借款用户\\\" width=\\\"120\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"source\\\" label=\\\"source\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"medium\\\" label=\\\"medium\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"campaign\\\" label=\\\"campaign\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"uv\\\" label=\\\"uv\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"phones_count\\\" label=\\\"手机号\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"take_phone_new\\\" label=\\\"留手机号新用户\\\" ></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"register_count\\\" label=\\\"注册\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"activation_count\\\" label=\\\"激活\\\"></el-table-column>\\r\\n\\r\\n            <el-table-column sortable prop=\\\"jinjian\\\" label=\\\"当日进件\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"approval\\\" label=\\\"当日审核\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitCn\\\" label=\\\"当日放款\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitMoney\\\" label=\\\"放款金额\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"act_reg_rate\\\" label=\\\"激活/注册\\\" width=\\\"90\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"jj_jh_rate\\\" label=\\\"进件/激活\\\" width=\\\"90\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"jj_reg_rate\\\" label=\\\"进件/注册\\\" width=\\\"90\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"review_jinj_rate\\\" label=\\\"审核/进件\\\" width=\\\"90\\\"></el-table-column>\\r\\n\\r\\n            <el-table-column sortable prop=\\\"jinjian_t7\\\" label=\\\"T7进件\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"approval_t7\\\" label=\\\"T7审核\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitCn_t7\\\" label=\\\"T7放款\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitMoney_t7\\\" label=\\\"T7放款金额\\\"></el-table-column>\\r\\n\\r\\n\\r\\n          </template>\\r\\n        </data-table>\\r\\n      </template>\\r\\n    </tab-page>\\r\\n  </div>\\r\\n</template>\\r\\n<style scoped>\\r\\n  .el-form-item__content .el-button {\\r\\n    margin-top: 20px;\\r\\n  }\\r\\n\\r\\n  .el-table--border th {\\r\\n    text-align: center;\\r\\n  }\\r\\n\\r\\n  .el-table th .cell {\\r\\n    text-align: center;\\r\\n  }\\r\\n\\r\\n  .el-form--inline .el-form-item {\\r\\n    margin-right: 2px;\\r\\n  }\\r\\n\\r\\n  .el-form-item {\\r\\n    margin-bottom: 2px;\\r\\n  }\\r\\n\\r\\n  .el-dialog__footer {\\r\\n    padding: 10px 0px;\\r\\n    text-align: center;\\r\\n  }\\r\\n\\r\\n  .check-all-select {\\r\\n    padding: 10px;\\r\\n  }\\r\\n\\r\\n  .check-all-select span.text-all {\\r\\n    font-size: 14px;\\r\\n    font-weight: bold;\\r\\n  }\\r\\n\\r\\n  .check-all-select label {\\r\\n    float: right;\\r\\n  }\\r\\n\\r\\n  .mb-10 {\\r\\n    margin-bottom: 10px;\\r\\n  }\\r\\n</style>\\r\\n<script>\\r\\n  import common from '../../../utils/common'\\r\\n  import formatDate from '../../../utils/formatDate'\\r\\n  import DataTable from \\\"../../../components/DataTable\\\"\\r\\n  import TabPage from \\\"../../../components/TabPage\\\"\\r\\n  import {Notification} from 'element-ui';\\r\\n  export default{\\r\\n    components: {\\r\\n      DataTable,\\r\\n      TabPage,\\r\\n    },\\r\\n    data(){\\r\\n      return {\\r\\n        sourceCheckAll: false,\\r\\n        mediumCheckAll: false,\\r\\n        campaignCheckAll: false,\\r\\n        deviceCheckAll: false,\\r\\n\\r\\n        sourceOptions: [],\\r\\n        mediumOptions: [],\\r\\n        campaignOptions: [],\\r\\n        sourceOptionsList: [],\\r\\n        mediumOptionsList: [],\\r\\n        campaignOptionsList: [],\\r\\n        deviceOptions: [\\r\\n          {\\r\\n            value: 'iOS',\\r\\n            label: 'iOS'\\r\\n          },\\r\\n          {\\r\\n            value: 'Android',\\r\\n            label: 'Android'\\r\\n          }\\r\\n        ],\\r\\n        ksjkOptions: [\\r\\n          {\\r\\n            value: '是',\\r\\n            label: '是'\\r\\n          },\\r\\n          {\\r\\n            value: '否',\\r\\n            label: '否'\\r\\n          }\\r\\n        ],\\r\\n        initBeginTime: '',\\r\\n        initEndTime: '',\\r\\n\\r\\n        queryParams: {\\r\\n          source: '',\\r\\n          medium: '',\\r\\n          campaign: '',\\r\\n          device: '',\\r\\n          isksjk: '',\\r\\n          beginTime: '',//开始时间\\r\\n          endTime: '',//结束时间\\r\\n        },\\r\\n        dataTable: {\\r\\n          pageSize: 50,\\r\\n          pageSizes: [10, 20, 50, 100, 1000,5000,10000,20000],\\r\\n          url: \\\"/web/v1/market/queryH5Detail\\\",    //代付管理\\r\\n          emptyText: '没有记录',\\r\\n          showSummary: true,\\r\\n          summaryMethod: this.getSummaries,\\r\\n        },\\r\\n        loading: false,\\r\\n      }\\r\\n    },\\r\\n    mounted(){\\r\\n      this.dataTable.queryParams = this.queryParams;\\r\\n      let date = new Date();\\r\\n      let beginDate = new Date(date.setDate(date.getDate() - 7));\\r\\n      this.initBeginTime = this.dealDate(beginDate);\\r\\n      this.initEndTime = this.dealDate(new Date());\\r\\n      this.dataTable.queryParams.beginTime = this.initBeginTime + ' 00:00:00';\\r\\n      this.dataTable.queryParams.endTime = this.initEndTime + ' 23:59:59';\\r\\n\\r\\n      var defaultPage = {\\r\\n        label: \\\"H5渠道\\\",\\r\\n        name: \\\"h5StatisticsDetail\\\",\\r\\n        slotName: 'h5StatisticsDetail',\\r\\n        closable: false\\r\\n      };\\r\\n      this.$refs.tabPage.$emit(\\\"open-tab\\\", defaultPage);\\r\\n\\r\\n      this.getCampaigns();\\r\\n      this.getMediums();\\r\\n      this.getSources();\\r\\n    },\\r\\n    beforeDestroy(){\\r\\n      // this.campaignOptions = [];\\r\\n      // this.mediumOptions = [];\\r\\n      // this.sourceOptions = [];\\r\\n      // this.$refs.campaignSelect.doDestroy();\\r\\n      // this.$refs.mediumSelect.doDestroy();\\r\\n      // this.$refs.sourceSelect.doDestroy();\\r\\n\\r\\n    },\\r\\n    methods: {\\r\\n      remoteSourceMethod(query){\\r\\n        if (query !== '') {\\r\\n          this.loading = true;\\r\\n          setTimeout(() => {\\r\\n            this.loading = false;\\r\\n\\r\\n            this.sourceOptions = this.sourceOptionsList.filter(item => {\\r\\n              return item.name.indexOf(query) > -1;\\r\\n            });\\r\\n          }, 200);\\r\\n        } else {\\r\\n          this.sourceOptions = [];\\r\\n        }\\r\\n      },\\r\\n      remoteMediumMethod(query){\\r\\n        if (query !== '') {\\r\\n          this.loading = true;\\r\\n          setTimeout(() => {\\r\\n            this.loading = false;\\r\\n\\r\\n            this.mediumOptions = this.mediumOptionsList.filter(item => {\\r\\n              return item.name.indexOf(query) > -1;\\r\\n            });\\r\\n          }, 200);\\r\\n        } else {\\r\\n          this.mediumOptions = [];\\r\\n        }\\r\\n      },\\r\\n      remoteCampaignMethod(query){\\r\\n        if (query !== '') {\\r\\n          this.loading = true;\\r\\n          setTimeout(() => {\\r\\n            this.loading = false;\\r\\n\\r\\n            this.campaignOptions = this.campaignOptionsList.filter(item => {\\r\\n              return item.name.indexOf(query) > -1;\\r\\n            });\\r\\n          }, 200);\\r\\n        } else {\\r\\n          this.campaignOptions = [];\\r\\n        }\\r\\n      },\\r\\n      loadLists(){\\r\\n        this.$refs.dataTable.$emit('load-data');\\r\\n      },\\r\\n      onSubmit: function () {\\r\\n        this.dataTable.queryParams = this.queryParams;\\r\\n        var tag = this.warnTime(this.dataTable.queryParams.beginTime, this.dataTable.queryParams.endTime);\\r\\n        if (tag) {\\r\\n          return;\\r\\n        }\\r\\n        this.dataTable.queryParams.beginTime = this.dealDate(this.dataTable.queryParams.beginTime) + ' 00:00:00';\\r\\n        this.dataTable.queryParams.endTime = this.dealDate(this.dataTable.queryParams.endTime) + ' 23:59:59';\\r\\n        this.dataTable.url = '/web/v1/market/queryH5Detail';\\r\\n        this.$refs.dataTable.$emit('load-data');\\r\\n      },\\r\\n      warnTime(startTime, endTime){\\r\\n        if (!startTime) {\\r\\n          this.$notify({\\r\\n            message: '查询开始时间不能为空！',\\r\\n            type: 'warning'\\r\\n          });\\r\\n          return true;\\r\\n        }\\r\\n        if (!endTime) {\\r\\n          this.$notify({\\r\\n            message: '查询结束时间不能为空！',\\r\\n            type: 'warning'\\r\\n          });\\r\\n          return true;\\r\\n        }\\r\\n        let timeStart = new Date(startTime).getTime();\\r\\n        let timeEnd = new Date(endTime).getTime();\\r\\n        if (timeStart > timeEnd) {\\r\\n          this.$notify({\\r\\n            message: '查询开始时间不能大于结束时间',\\r\\n            type: 'warning'\\r\\n          });\\r\\n          return true;\\r\\n        }\\r\\n        return false;\\r\\n      },\\r\\n      dealTime (time) {\\r\\n        return formatDate(new Date(time), 'yyyy-MM-dd hh:mm:ss');\\r\\n      },\\r\\n      formatterDate (row, column) {\\r\\n        return formatDate(row.date, 'yyyy-MM-dd');\\r\\n      },\\r\\n      dealDate (date) {\\r\\n        return formatDate(new Date(date), 'yyyy-MM-dd');\\r\\n      },\\r\\n      getSummaries (param) {\\r\\n        const {columns, data} = param;\\r\\n        const sums = [];\\r\\n        columns.forEach((column, index) => {\\r\\n          if (index === 0) {\\r\\n            sums[index] = '总计';\\r\\n            return;\\r\\n          }\\r\\n          var values;\\r\\n          if(index === 16||index === 17||index === 18||index === 19){\\r\\n             values = data.map(item =>{\\r\\n               if(item[column.property]!==null){\\r\\n                 return Number(item[column.property].replace('%',''));\\r\\n               }\\r\\n             });\\r\\n          }else{\\r\\n             values = data.map(item => Number(item[column.property]));\\r\\n          }\\r\\n\\r\\n          if (!values.every(value => isNaN(value))) {\\r\\n            sums[index] = values.reduce((prev, curr) => {\\r\\n              const value = Number(curr);\\r\\n              if (!isNaN(value)) {\\r\\n                return prev + curr;\\r\\n              } else {\\r\\n                return prev;\\r\\n              }\\r\\n            }, 0);\\r\\n            if(index === 16||index === 17||index === 18||index === 19){\\r\\n               sums[index]=(sums[index]/data.length).toFixed(2)+ ' %';\\r\\n            }\\r\\n//                      sums[index] += ' 元';\\r\\n          } else {\\r\\n            sums[index] = 'N/A';\\r\\n          }\\r\\n        });\\r\\n\\r\\n        return sums;\\r\\n      },\\r\\n      exportExcel() {\\r\\n        let self=this;\\r\\n        var exportParams = {};\\r\\n        Object.assign(exportParams, this.dataTable.queryParams);\\r\\n        exportParams.pageSize = this.$refs.dataTable.total;\\r\\n        exportParams.page = 1;\\r\\n        this.$refs.dataTable.$emit('export-data',exportParams);\\r\\n        require.ensure([], () => {\\r\\n          const {export_json_to_excel} = require('vendor/Export2Excel');\\r\\n          const tHeader = [\\r\\n            '日期',\\r\\n            'T7进件',\\r\\n            'T7审核',\\r\\n            'T7放款',\\r\\n            'T7放款金额',\\r\\n            'uv', '设备', '快速借款用户', 'source', 'medium', 'campaign', '手机号', '注册', '激活', '进件', '审核', '放款', '放款金额', '激活/注册', '进件/激活', '审核/进件', '留手机号新用户'];\\r\\n          const filterVal = [\\r\\n            'date',\\r\\n            'jinjian_t7',\\r\\n            'approval_t7',\\r\\n            'emitCn_t7',\\r\\n            'emitMoney_t7',\\r\\n            'uv', 'plat', 'ksjk_existing', 'source', 'medium', 'campaign', 'phones_count', 'register_count', 'activation_count', 'jinjian', 'approval', 'emitCn', 'emitMoney', 'act_reg_rate', 'jj_jh_rate', 'review_jinj_rate', 'take_phone_new'];\\r\\n\\r\\n          setTimeout(() => {\\r\\n            const list = this.$refs.dataTable.dataListA;\\r\\n            const data = this.formatJson(filterVal, list);\\r\\n            export_json_to_excel(tHeader, data, 'H5渠道');\\r\\n          }, 300);\\r\\n        })\\r\\n      },\\r\\n      formatJson(filterVal, jsonData) {\\r\\n        return jsonData.map(v => filterVal.map(j => {\\r\\n          let returnValue;\\r\\n          if (j == 'operator') {\\r\\n            returnValue = v[j].name;\\r\\n          } else {\\r\\n            returnValue = v[j];\\r\\n          }\\r\\n          return returnValue;\\r\\n        }))\\r\\n      },\\r\\n\\r\\n      getSources(){\\r\\n        common.ajax({\\r\\n          url: '/web/v1/options/h5/sources',\\r\\n          type: 'POST',\\r\\n          contentType: 'application/json',\\r\\n          success: (response) => {\\r\\n            if (response.data && response.data.list) {\\r\\n              // this.sourceOptions = response.data.list;\\r\\n              this.sourceOptionsList = response.data.list;\\r\\n            }\\r\\n          },\\r\\n          error: (err) => {\\r\\n            let error = err.message || err;\\r\\n            Notification.error({\\r\\n              title: '错误',\\r\\n              message: error\\r\\n            });\\r\\n          }\\r\\n        });\\r\\n      },\\r\\n\\r\\n      getMediums(){\\r\\n        common.ajax({\\r\\n          url: '/web/v1/options/h5/mediums',\\r\\n          type: 'POST',\\r\\n          contentType: 'application/json',\\r\\n          success: (response) => {\\r\\n            if (response.data && response.data.list) {\\r\\n              // this.mediumOptions = response.data.list;\\r\\n              this.mediumOptionsList = response.data.list;\\r\\n            }\\r\\n          },\\r\\n          error: (err) => {\\r\\n            let error = err.message || err;\\r\\n            Notification.error({\\r\\n              title: '错误',\\r\\n              message: error\\r\\n            });\\r\\n          }\\r\\n        });\\r\\n      },\\r\\n\\r\\n      getCampaigns(){\\r\\n        common.ajax({\\r\\n          url: '/web/v1/options/h5/campaigns',\\r\\n          type: 'POST',\\r\\n          contentType: 'application/json',\\r\\n          success: (response) => {\\r\\n            if (response.data && response.data.list) {\\r\\n              // this.campaignOptions = response.data.list;\\r\\n              this.campaignOptionsList = response.data.list;\\r\\n            }\\r\\n          },\\r\\n          error: (err) => {\\r\\n            let error = err.message || err;\\r\\n            Notification.error({\\r\\n              title: '错误',\\r\\n              message: error\\r\\n            });\\r\\n          }\\r\\n        });\\r\\n      },\\r\\n\\r\\n      checkAllSelection(selectType){\\r\\n        let len = this.$refs[selectType].optionsCount;\\r\\n        for (var i = 0; i < len; i++) {\\r\\n          (function (index, _this) {\\r\\n            setTimeout(() => {\\r\\n              _this.$refs[selectType].handleOptionSelect(_this.$refs[selectType].options[index]);\\r\\n            }, 0);\\r\\n\\r\\n          })(i, this);\\r\\n        }\\r\\n        ;\\r\\n      },\\r\\n      handleCheckAllSourceChange(event) {\\r\\n        console.log('source');\\r\\n        this.checkAllSelection(\\\"sourceSelect\\\");\\r\\n        this.sourceCheckAll = !this.sourceCheckAll;\\r\\n      },\\r\\n      handleCheckAllMediumChange(event) {\\r\\n        this.checkAllSelection(\\\"mediumSelect\\\");\\r\\n        this.mediumCheckAll = !this.mediumCheckAll;\\r\\n      },\\r\\n      handleCheckAllCampaignChange(event) {\\r\\n        this.checkAllSelection(\\\"campaignSelect\\\");\\r\\n        this.campaignCheckAll = !this.campaignCheckAll;\\r\\n      },\\r\\n      handleCheckAllDeviceChange(event) {\\r\\n        this.checkAllSelection(\\\"deviceSelect\\\");\\r\\n        this.deviceCheckAll = !this.deviceCheckAll;\\r\\n      },\\r\\n      setCheckAllStyle(selectedCount, selectType){\\r\\n        console.log('setCheckAllStyle');\\r\\n        let type = selectType + 'CheckAll';\\r\\n        let type_1 = selectType + 'Select';\\r\\n        if (this[type]) {\\r\\n          if (selectedCount.length < this.$refs[type_1].optionsCount) {\\r\\n            this[type] = !this[type];\\r\\n          }\\r\\n        } else {\\r\\n          if (selectedCount.length === this.$refs[type_1].optionsCount) {\\r\\n            this[type] = !this[type];\\r\\n          }\\r\\n        }\\r\\n      },\\r\\n      sourceChange(values){\\r\\n        console.log('sourceChange');\\r\\n        this.setCheckAllStyle(values, \\\"source\\\");\\r\\n      },\\r\\n      mediumChange(values){\\r\\n        this.setCheckAllStyle(values, \\\"medium\\\");\\r\\n      },\\r\\n      campaignChange(values){\\r\\n        this.setCheckAllStyle(values, \\\"campaign\\\");\\r\\n      },\\r\\n      deviceChange(values){\\r\\n        this.setCheckAllStyle(values, \\\"device\\\");\\r\\n      },\\r\\n\\r\\n    },\\r\\n  }\\r\\n</script>\\r\\n<style>\\r\\n  .span-style {\\r\\n    display: inline-block;\\r\\n    margin-top: 8px;\\r\\n    font-size: 14px;\\r\\n  }\\r\\n</style>\\r\\n\"]}]);\n","import mod from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsDetail.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_extract-text-webpack-plugin@4.0.0-beta.0@extract-text-webpack-plugin/dist/loader.js??ref--4-0!../../../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../../../node_modules/_css-loader@3.1.0@css-loader/dist/cjs.js?sourceMap!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./h5StatisticsDetail.vue?vue&type=style&index=1&lang=css&\"","exports = module.exports = require(\"../../../../node_modules/_css-loader@3.1.0@css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.span-style {\\n  display: inline-block;\\n  margin-top: 8px;\\n  font-size: 14px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"src/views/contents/market/h5StatisticsDetail.vue\"],\"names\":[],\"mappings\":\";AAwkBA;EACA,qBAAA;EACA,eAAA;EACA,eAAA;AACA\",\"file\":\"h5StatisticsDetail.vue?vue&type=style&index=1&lang=css&\",\"sourcesContent\":[\"<template>\\r\\n  <div>\\r\\n    <tab-page ref=\\\"tabPage\\\">\\r\\n      <template slot=\\\"h5StatisticsDetail\\\">\\r\\n        <data-table :data-table=\\\"dataTable\\\" ref=\\\"dataTable\\\">\\r\\n          <div slot=\\\"conditions\\\" style=\\\"margin-bottom:15px\\\">\\r\\n            <el-form :inline=\\\"true\\\" :model=\\\"queryParams\\\">\\r\\n              <el-form-item>\\r\\n                <el-date-picker\\r\\n                  v-model=\\\"queryParams.beginTime\\\"\\r\\n                  type=\\\"date\\\"\\r\\n                  placeholder=\\\"选择日期时间\\\" size=\\\"small\\\" style=\\\"width:170px\\\">\\r\\n                </el-date-picker>\\r\\n              </el-form-item>\\r\\n              <span class=\\\"span-style\\\">至</span>\\r\\n              <el-form-item>\\r\\n                <el-date-picker\\r\\n                  v-model=\\\"queryParams.endTime\\\"\\r\\n                  type=\\\"date\\\"\\r\\n                  placeholder=\\\"选择日期时间\\\" size=\\\"small\\\" style=\\\"width:170px\\\">\\r\\n                </el-date-picker>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select v-model=\\\"queryParams.device\\\"\\r\\n                           clearable\\r\\n                           filterable\\r\\n                           placeholder=\\\"设备\\\"\\r\\n                           size=\\\"small\\\">\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in deviceOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\">\\r\\n                  </el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select v-model=\\\"queryParams.source\\\"\\r\\n                           ref=\\\"sourceSelect\\\"\\r\\n                           clearable\\r\\n                           filterable\\r\\n                           remote\\r\\n                           :remote-method=\\\"remoteSourceMethod\\\"\\r\\n                           :loading=\\\"loading\\\"\\r\\n                           placeholder=\\\"source\\\"\\r\\n                           size=\\\"small\\\">\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in sourceOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\">\\r\\n                  </el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select v-model=\\\"queryParams.medium\\\"\\r\\n                           ref=\\\"mediumSelect\\\"\\r\\n                           clearable\\r\\n                           filterable\\r\\n                           remote\\r\\n                           :remote-method=\\\"remoteMediumMethod\\\"\\r\\n                           :loading=\\\"loading\\\"\\r\\n                           placeholder=\\\"medium\\\"\\r\\n                           size=\\\"small\\\">\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in mediumOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\">\\r\\n                  </el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select v-model=\\\"queryParams.campaign\\\"\\r\\n                           ref=\\\"campaignSelect\\\"\\r\\n                           clearable\\r\\n                           filterable\\r\\n                           remote\\r\\n                           :remote-method=\\\"remoteCampaignMethod\\\"\\r\\n                           :loading=\\\"loading\\\"\\r\\n                           placeholder=\\\"campaign\\\"\\r\\n                           size=\\\"small\\\">\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in campaignOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\">\\r\\n                  </el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-select v-model=\\\"queryParams.isksjk\\\" clearable filterable placeholder=\\\"快速借款\\\"\\r\\n                           size=\\\"small\\\">\\r\\n                  <el-option\\r\\n                    v-for=\\\"item in ksjkOptions\\\"\\r\\n                    :key=\\\"item.value\\\"\\r\\n                    :label=\\\"item.label\\\"\\r\\n                    :value=\\\"item.value\\\">\\r\\n                  </el-option>\\r\\n                </el-select>\\r\\n              </el-form-item>\\r\\n              <el-form-item>\\r\\n                <el-button type=\\\"primary\\\" @click=\\\"onSubmit\\\" size=\\\"small\\\" style=\\\"margin-top:0\\\">查询\\r\\n                </el-button>\\r\\n              </el-form-item>\\r\\n            </el-form>\\r\\n            <el-button class=\\\"right mb-10\\\" type=\\\"primary\\\" size=\\\"small\\\" icon=\\\"el-icon-document\\\"\\r\\n                       @click=\\\"exportExcel\\\">导出excel\\r\\n            </el-button>\\r\\n          </div>\\r\\n          <template slot=\\\"columns\\\">\\r\\n            <el-table-column type=\\\"index\\\" label=\\\"序号\\\" width=\\\"60\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"date\\\" label=\\\"日期\\\" width=\\\"120\\\"></el-table-column>\\r\\n\\r\\n            <el-table-column sortable prop=\\\"plat\\\" label=\\\"设备\\\" width=\\\"100\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"ksjk_existing\\\" label=\\\"快速借款用户\\\" width=\\\"120\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"source\\\" label=\\\"source\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"medium\\\" label=\\\"medium\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"campaign\\\" label=\\\"campaign\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"uv\\\" label=\\\"uv\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"phones_count\\\" label=\\\"手机号\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"take_phone_new\\\" label=\\\"留手机号新用户\\\" ></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"register_count\\\" label=\\\"注册\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"activation_count\\\" label=\\\"激活\\\"></el-table-column>\\r\\n\\r\\n            <el-table-column sortable prop=\\\"jinjian\\\" label=\\\"当日进件\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"approval\\\" label=\\\"当日审核\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitCn\\\" label=\\\"当日放款\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitMoney\\\" label=\\\"放款金额\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"act_reg_rate\\\" label=\\\"激活/注册\\\" width=\\\"90\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"jj_jh_rate\\\" label=\\\"进件/激活\\\" width=\\\"90\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"jj_reg_rate\\\" label=\\\"进件/注册\\\" width=\\\"90\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"review_jinj_rate\\\" label=\\\"审核/进件\\\" width=\\\"90\\\"></el-table-column>\\r\\n\\r\\n            <el-table-column sortable prop=\\\"jinjian_t7\\\" label=\\\"T7进件\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"approval_t7\\\" label=\\\"T7审核\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitCn_t7\\\" label=\\\"T7放款\\\"></el-table-column>\\r\\n            <el-table-column sortable prop=\\\"emitMoney_t7\\\" label=\\\"T7放款金额\\\"></el-table-column>\\r\\n\\r\\n\\r\\n          </template>\\r\\n        </data-table>\\r\\n      </template>\\r\\n    </tab-page>\\r\\n  </div>\\r\\n</template>\\r\\n<style scoped>\\r\\n  .el-form-item__content .el-button {\\r\\n    margin-top: 20px;\\r\\n  }\\r\\n\\r\\n  .el-table--border th {\\r\\n    text-align: center;\\r\\n  }\\r\\n\\r\\n  .el-table th .cell {\\r\\n    text-align: center;\\r\\n  }\\r\\n\\r\\n  .el-form--inline .el-form-item {\\r\\n    margin-right: 2px;\\r\\n  }\\r\\n\\r\\n  .el-form-item {\\r\\n    margin-bottom: 2px;\\r\\n  }\\r\\n\\r\\n  .el-dialog__footer {\\r\\n    padding: 10px 0px;\\r\\n    text-align: center;\\r\\n  }\\r\\n\\r\\n  .check-all-select {\\r\\n    padding: 10px;\\r\\n  }\\r\\n\\r\\n  .check-all-select span.text-all {\\r\\n    font-size: 14px;\\r\\n    font-weight: bold;\\r\\n  }\\r\\n\\r\\n  .check-all-select label {\\r\\n    float: right;\\r\\n  }\\r\\n\\r\\n  .mb-10 {\\r\\n    margin-bottom: 10px;\\r\\n  }\\r\\n</style>\\r\\n<script>\\r\\n  import common from '../../../utils/common'\\r\\n  import formatDate from '../../../utils/formatDate'\\r\\n  import DataTable from \\\"../../../components/DataTable\\\"\\r\\n  import TabPage from \\\"../../../components/TabPage\\\"\\r\\n  import {Notification} from 'element-ui';\\r\\n  export default{\\r\\n    components: {\\r\\n      DataTable,\\r\\n      TabPage,\\r\\n    },\\r\\n    data(){\\r\\n      return {\\r\\n        sourceCheckAll: false,\\r\\n        mediumCheckAll: false,\\r\\n        campaignCheckAll: false,\\r\\n        deviceCheckAll: false,\\r\\n\\r\\n        sourceOptions: [],\\r\\n        mediumOptions: [],\\r\\n        campaignOptions: [],\\r\\n        sourceOptionsList: [],\\r\\n        mediumOptionsList: [],\\r\\n        campaignOptionsList: [],\\r\\n        deviceOptions: [\\r\\n          {\\r\\n            value: 'iOS',\\r\\n            label: 'iOS'\\r\\n          },\\r\\n          {\\r\\n            value: 'Android',\\r\\n            label: 'Android'\\r\\n          }\\r\\n        ],\\r\\n        ksjkOptions: [\\r\\n          {\\r\\n            value: '是',\\r\\n            label: '是'\\r\\n          },\\r\\n          {\\r\\n            value: '否',\\r\\n            label: '否'\\r\\n          }\\r\\n        ],\\r\\n        initBeginTime: '',\\r\\n        initEndTime: '',\\r\\n\\r\\n        queryParams: {\\r\\n          source: '',\\r\\n          medium: '',\\r\\n          campaign: '',\\r\\n          device: '',\\r\\n          isksjk: '',\\r\\n          beginTime: '',//开始时间\\r\\n          endTime: '',//结束时间\\r\\n        },\\r\\n        dataTable: {\\r\\n          pageSize: 50,\\r\\n          pageSizes: [10, 20, 50, 100, 1000,5000,10000,20000],\\r\\n          url: \\\"/web/v1/market/queryH5Detail\\\",    //代付管理\\r\\n          emptyText: '没有记录',\\r\\n          showSummary: true,\\r\\n          summaryMethod: this.getSummaries,\\r\\n        },\\r\\n        loading: false,\\r\\n      }\\r\\n    },\\r\\n    mounted(){\\r\\n      this.dataTable.queryParams = this.queryParams;\\r\\n      let date = new Date();\\r\\n      let beginDate = new Date(date.setDate(date.getDate() - 7));\\r\\n      this.initBeginTime = this.dealDate(beginDate);\\r\\n      this.initEndTime = this.dealDate(new Date());\\r\\n      this.dataTable.queryParams.beginTime = this.initBeginTime + ' 00:00:00';\\r\\n      this.dataTable.queryParams.endTime = this.initEndTime + ' 23:59:59';\\r\\n\\r\\n      var defaultPage = {\\r\\n        label: \\\"H5渠道\\\",\\r\\n        name: \\\"h5StatisticsDetail\\\",\\r\\n        slotName: 'h5StatisticsDetail',\\r\\n        closable: false\\r\\n      };\\r\\n      this.$refs.tabPage.$emit(\\\"open-tab\\\", defaultPage);\\r\\n\\r\\n      this.getCampaigns();\\r\\n      this.getMediums();\\r\\n      this.getSources();\\r\\n    },\\r\\n    beforeDestroy(){\\r\\n      // this.campaignOptions = [];\\r\\n      // this.mediumOptions = [];\\r\\n      // this.sourceOptions = [];\\r\\n      // this.$refs.campaignSelect.doDestroy();\\r\\n      // this.$refs.mediumSelect.doDestroy();\\r\\n      // this.$refs.sourceSelect.doDestroy();\\r\\n\\r\\n    },\\r\\n    methods: {\\r\\n      remoteSourceMethod(query){\\r\\n        if (query !== '') {\\r\\n          this.loading = true;\\r\\n          setTimeout(() => {\\r\\n            this.loading = false;\\r\\n\\r\\n            this.sourceOptions = this.sourceOptionsList.filter(item => {\\r\\n              return item.name.indexOf(query) > -1;\\r\\n            });\\r\\n          }, 200);\\r\\n        } else {\\r\\n          this.sourceOptions = [];\\r\\n        }\\r\\n      },\\r\\n      remoteMediumMethod(query){\\r\\n        if (query !== '') {\\r\\n          this.loading = true;\\r\\n          setTimeout(() => {\\r\\n            this.loading = false;\\r\\n\\r\\n            this.mediumOptions = this.mediumOptionsList.filter(item => {\\r\\n              return item.name.indexOf(query) > -1;\\r\\n            });\\r\\n          }, 200);\\r\\n        } else {\\r\\n          this.mediumOptions = [];\\r\\n        }\\r\\n      },\\r\\n      remoteCampaignMethod(query){\\r\\n        if (query !== '') {\\r\\n          this.loading = true;\\r\\n          setTimeout(() => {\\r\\n            this.loading = false;\\r\\n\\r\\n            this.campaignOptions = this.campaignOptionsList.filter(item => {\\r\\n              return item.name.indexOf(query) > -1;\\r\\n            });\\r\\n          }, 200);\\r\\n        } else {\\r\\n          this.campaignOptions = [];\\r\\n        }\\r\\n      },\\r\\n      loadLists(){\\r\\n        this.$refs.dataTable.$emit('load-data');\\r\\n      },\\r\\n      onSubmit: function () {\\r\\n        this.dataTable.queryParams = this.queryParams;\\r\\n        var tag = this.warnTime(this.dataTable.queryParams.beginTime, this.dataTable.queryParams.endTime);\\r\\n        if (tag) {\\r\\n          return;\\r\\n        }\\r\\n        this.dataTable.queryParams.beginTime = this.dealDate(this.dataTable.queryParams.beginTime) + ' 00:00:00';\\r\\n        this.dataTable.queryParams.endTime = this.dealDate(this.dataTable.queryParams.endTime) + ' 23:59:59';\\r\\n        this.dataTable.url = '/web/v1/market/queryH5Detail';\\r\\n        this.$refs.dataTable.$emit('load-data');\\r\\n      },\\r\\n      warnTime(startTime, endTime){\\r\\n        if (!startTime) {\\r\\n          this.$notify({\\r\\n            message: '查询开始时间不能为空！',\\r\\n            type: 'warning'\\r\\n          });\\r\\n          return true;\\r\\n        }\\r\\n        if (!endTime) {\\r\\n          this.$notify({\\r\\n            message: '查询结束时间不能为空！',\\r\\n            type: 'warning'\\r\\n          });\\r\\n          return true;\\r\\n        }\\r\\n        let timeStart = new Date(startTime).getTime();\\r\\n        let timeEnd = new Date(endTime).getTime();\\r\\n        if (timeStart > timeEnd) {\\r\\n          this.$notify({\\r\\n            message: '查询开始时间不能大于结束时间',\\r\\n            type: 'warning'\\r\\n          });\\r\\n          return true;\\r\\n        }\\r\\n        return false;\\r\\n      },\\r\\n      dealTime (time) {\\r\\n        return formatDate(new Date(time), 'yyyy-MM-dd hh:mm:ss');\\r\\n      },\\r\\n      formatterDate (row, column) {\\r\\n        return formatDate(row.date, 'yyyy-MM-dd');\\r\\n      },\\r\\n      dealDate (date) {\\r\\n        return formatDate(new Date(date), 'yyyy-MM-dd');\\r\\n      },\\r\\n      getSummaries (param) {\\r\\n        const {columns, data} = param;\\r\\n        const sums = [];\\r\\n        columns.forEach((column, index) => {\\r\\n          if (index === 0) {\\r\\n            sums[index] = '总计';\\r\\n            return;\\r\\n          }\\r\\n          var values;\\r\\n          if(index === 16||index === 17||index === 18||index === 19){\\r\\n             values = data.map(item =>{\\r\\n               if(item[column.property]!==null){\\r\\n                 return Number(item[column.property].replace('%',''));\\r\\n               }\\r\\n             });\\r\\n          }else{\\r\\n             values = data.map(item => Number(item[column.property]));\\r\\n          }\\r\\n\\r\\n          if (!values.every(value => isNaN(value))) {\\r\\n            sums[index] = values.reduce((prev, curr) => {\\r\\n              const value = Number(curr);\\r\\n              if (!isNaN(value)) {\\r\\n                return prev + curr;\\r\\n              } else {\\r\\n                return prev;\\r\\n              }\\r\\n            }, 0);\\r\\n            if(index === 16||index === 17||index === 18||index === 19){\\r\\n               sums[index]=(sums[index]/data.length).toFixed(2)+ ' %';\\r\\n            }\\r\\n//                      sums[index] += ' 元';\\r\\n          } else {\\r\\n            sums[index] = 'N/A';\\r\\n          }\\r\\n        });\\r\\n\\r\\n        return sums;\\r\\n      },\\r\\n      exportExcel() {\\r\\n        let self=this;\\r\\n        var exportParams = {};\\r\\n        Object.assign(exportParams, this.dataTable.queryParams);\\r\\n        exportParams.pageSize = this.$refs.dataTable.total;\\r\\n        exportParams.page = 1;\\r\\n        this.$refs.dataTable.$emit('export-data',exportParams);\\r\\n        require.ensure([], () => {\\r\\n          const {export_json_to_excel} = require('vendor/Export2Excel');\\r\\n          const tHeader = [\\r\\n            '日期',\\r\\n            'T7进件',\\r\\n            'T7审核',\\r\\n            'T7放款',\\r\\n            'T7放款金额',\\r\\n            'uv', '设备', '快速借款用户', 'source', 'medium', 'campaign', '手机号', '注册', '激活', '进件', '审核', '放款', '放款金额', '激活/注册', '进件/激活', '审核/进件', '留手机号新用户'];\\r\\n          const filterVal = [\\r\\n            'date',\\r\\n            'jinjian_t7',\\r\\n            'approval_t7',\\r\\n            'emitCn_t7',\\r\\n            'emitMoney_t7',\\r\\n            'uv', 'plat', 'ksjk_existing', 'source', 'medium', 'campaign', 'phones_count', 'register_count', 'activation_count', 'jinjian', 'approval', 'emitCn', 'emitMoney', 'act_reg_rate', 'jj_jh_rate', 'review_jinj_rate', 'take_phone_new'];\\r\\n\\r\\n          setTimeout(() => {\\r\\n            const list = this.$refs.dataTable.dataListA;\\r\\n            const data = this.formatJson(filterVal, list);\\r\\n            export_json_to_excel(tHeader, data, 'H5渠道');\\r\\n          }, 300);\\r\\n        })\\r\\n      },\\r\\n      formatJson(filterVal, jsonData) {\\r\\n        return jsonData.map(v => filterVal.map(j => {\\r\\n          let returnValue;\\r\\n          if (j == 'operator') {\\r\\n            returnValue = v[j].name;\\r\\n          } else {\\r\\n            returnValue = v[j];\\r\\n          }\\r\\n          return returnValue;\\r\\n        }))\\r\\n      },\\r\\n\\r\\n      getSources(){\\r\\n        common.ajax({\\r\\n          url: '/web/v1/options/h5/sources',\\r\\n          type: 'POST',\\r\\n          contentType: 'application/json',\\r\\n          success: (response) => {\\r\\n            if (response.data && response.data.list) {\\r\\n              // this.sourceOptions = response.data.list;\\r\\n              this.sourceOptionsList = response.data.list;\\r\\n            }\\r\\n          },\\r\\n          error: (err) => {\\r\\n            let error = err.message || err;\\r\\n            Notification.error({\\r\\n              title: '错误',\\r\\n              message: error\\r\\n            });\\r\\n          }\\r\\n        });\\r\\n      },\\r\\n\\r\\n      getMediums(){\\r\\n        common.ajax({\\r\\n          url: '/web/v1/options/h5/mediums',\\r\\n          type: 'POST',\\r\\n          contentType: 'application/json',\\r\\n          success: (response) => {\\r\\n            if (response.data && response.data.list) {\\r\\n              // this.mediumOptions = response.data.list;\\r\\n              this.mediumOptionsList = response.data.list;\\r\\n            }\\r\\n          },\\r\\n          error: (err) => {\\r\\n            let error = err.message || err;\\r\\n            Notification.error({\\r\\n              title: '错误',\\r\\n              message: error\\r\\n            });\\r\\n          }\\r\\n        });\\r\\n      },\\r\\n\\r\\n      getCampaigns(){\\r\\n        common.ajax({\\r\\n          url: '/web/v1/options/h5/campaigns',\\r\\n          type: 'POST',\\r\\n          contentType: 'application/json',\\r\\n          success: (response) => {\\r\\n            if (response.data && response.data.list) {\\r\\n              // this.campaignOptions = response.data.list;\\r\\n              this.campaignOptionsList = response.data.list;\\r\\n            }\\r\\n          },\\r\\n          error: (err) => {\\r\\n            let error = err.message || err;\\r\\n            Notification.error({\\r\\n              title: '错误',\\r\\n              message: error\\r\\n            });\\r\\n          }\\r\\n        });\\r\\n      },\\r\\n\\r\\n      checkAllSelection(selectType){\\r\\n        let len = this.$refs[selectType].optionsCount;\\r\\n        for (var i = 0; i < len; i++) {\\r\\n          (function (index, _this) {\\r\\n            setTimeout(() => {\\r\\n              _this.$refs[selectType].handleOptionSelect(_this.$refs[selectType].options[index]);\\r\\n            }, 0);\\r\\n\\r\\n          })(i, this);\\r\\n        }\\r\\n        ;\\r\\n      },\\r\\n      handleCheckAllSourceChange(event) {\\r\\n        console.log('source');\\r\\n        this.checkAllSelection(\\\"sourceSelect\\\");\\r\\n        this.sourceCheckAll = !this.sourceCheckAll;\\r\\n      },\\r\\n      handleCheckAllMediumChange(event) {\\r\\n        this.checkAllSelection(\\\"mediumSelect\\\");\\r\\n        this.mediumCheckAll = !this.mediumCheckAll;\\r\\n      },\\r\\n      handleCheckAllCampaignChange(event) {\\r\\n        this.checkAllSelection(\\\"campaignSelect\\\");\\r\\n        this.campaignCheckAll = !this.campaignCheckAll;\\r\\n      },\\r\\n      handleCheckAllDeviceChange(event) {\\r\\n        this.checkAllSelection(\\\"deviceSelect\\\");\\r\\n        this.deviceCheckAll = !this.deviceCheckAll;\\r\\n      },\\r\\n      setCheckAllStyle(selectedCount, selectType){\\r\\n        console.log('setCheckAllStyle');\\r\\n        let type = selectType + 'CheckAll';\\r\\n        let type_1 = selectType + 'Select';\\r\\n        if (this[type]) {\\r\\n          if (selectedCount.length < this.$refs[type_1].optionsCount) {\\r\\n            this[type] = !this[type];\\r\\n          }\\r\\n        } else {\\r\\n          if (selectedCount.length === this.$refs[type_1].optionsCount) {\\r\\n            this[type] = !this[type];\\r\\n          }\\r\\n        }\\r\\n      },\\r\\n      sourceChange(values){\\r\\n        console.log('sourceChange');\\r\\n        this.setCheckAllStyle(values, \\\"source\\\");\\r\\n      },\\r\\n      mediumChange(values){\\r\\n        this.setCheckAllStyle(values, \\\"medium\\\");\\r\\n      },\\r\\n      campaignChange(values){\\r\\n        this.setCheckAllStyle(values, \\\"campaign\\\");\\r\\n      },\\r\\n      deviceChange(values){\\r\\n        this.setCheckAllStyle(values, \\\"device\\\");\\r\\n      },\\r\\n\\r\\n    },\\r\\n  }\\r\\n</script>\\r\\n<style>\\r\\n  .span-style {\\r\\n    display: inline-block;\\r\\n    margin-top: 8px;\\r\\n    font-size: 14px;\\r\\n  }\\r\\n</style>\\r\\n\"]}]);\n"],"sourceRoot":""}