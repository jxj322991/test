(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1:function(e,n){"use strict";n.a=function(e,n){if("[object Date]"!==Object.prototype.toString.call(e)&&"string"!=typeof e)throw new Error("参数类型不合法！");var t={"M+":new Date(e).getMonth()+1,"d+":new Date(e).getDate(),"h+":new Date(e).getHours(),"m+":new Date(e).getMinutes(),"s+":new Date(e).getSeconds(),"q+":Math.floor((new Date(e).getMonth()+3)/3),S:new Date(e).getMilliseconds()};for(var a in/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(new Date(e).getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(n)&&(n=n.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return n}},1053:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(7),l=t(1),o=(t(452),t(454),t(3)),i=Object(o.a)({data:function(){var e=new Date,n=(new Date(e.setDate(e.getDate()-7)),new Date);return{deviceOptions:[{value:"All",name:"All"},{value:"iOS",name:"iOS"},{value:"Android",name:"Android"}],detailData:{},searchParam:{device:"All",dateRange:[n,n]},activeName:"first",showDetail:!1,name:"detail",total:0,currentPage:1,pageSizes:[10,20,50,100,200],pageSize:50,tableData:[],select:""}},methods:{getDevices:function(){var e=this;a.a.ajax({url:"/web/v1/options/devices",type:"POST",contentType:"application/json",success:function(n){n.data&&n.data.list&&(e.deviceOptions=n.data.list)},error:function(){e.deviceOptions=[{value:"All",name:"All"},{value:"iOS",name:"iOS"},{value:"Android",name:"Android"}]}})},search:function(){var e=this,n=e.searchParam.dateRange;a.a.ajax({url:"/web/v1/operation/conversionRateByHour",type:"POST",contentType:"application/json",data:{page:e.currentPage,pageSize:e.pageSize,device:e.searchParam.device,beginTime:Object(l.a)(n[0],"yyyy-MM-dd")+" 00:00:00",endTime:Object(l.a)(n[1],"yyyy-MM-dd")+" 23:59:59"},success:function(n){if(n.data&&n.data.list){var t=n.data;e.tableData=t.list,e.total=t.pageUtil.count}},error:function(e){var n=e.message||e;r.Notification.error({title:"错误",message:n})}})},removeLabel:function(e){e.stopPropagation(),this.activeName="first",this.showDetail=!1},handleSizeChange:function(e){this.pageSize=e,this.search()},handleCurrentChange:function(e){this.currentPage=e,this.search()},handleClick:function(e){0==e.index&&(this.activeName="first")}},created:function(){},mounted:function(){this.getDevices(),this.search()}},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(n){e.activeName=n},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"运营报表",name:"first"}},[t("div",{staticClass:"p_6"},[t("div",{staticClass:"search-wrapper"},[t("div",{staticClass:"search-content"},[t("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",placeholder:"手机设备"},slot:"prepend",model:{value:e.searchParam.device,callback:function(n){e.$set(e.searchParam,"device",n)},expression:"searchParam.device"}},e._l(e.deviceOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1),e._v(" "),t("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期范围"},model:{value:e.searchParam.dateRange,callback:function(n){e.$set(e.searchParam,"dateRange",n)},expression:"searchParam.dateRange"}})],1),e._v(" "),t("div",{staticClass:"search-btn"},[t("el-button",{staticStyle:{width:"80px"},attrs:{slot:"append",icon:"search"},on:{click:e.search},slot:"append"},[e._v("查询")])],1)]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","default-sort":{prop:"time",order:"descending"}}},[t("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),e._v(" "),t("el-table-column",{attrs:{prop:"date",label:"日期",align:"center",width:"115",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"hour",label:"时间",align:"center",width:"115",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"platform",label:"设备",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"reg_num",label:"注册用户",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"loan_num",label:"借款人申请",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"Fpid_info",label:"身份证扫描",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"Fimg_face",label:"人脸识别",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"Fbase_info",label:"基本信息",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"Fjob_info",label:"职业信息",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"Flink_info",label:"联系人信息",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"Fphone_info",label:"运营商验证",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"Fband_bank",label:"银行卡信息",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"Ftaobao_info",label:"淘宝",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"Femail_info",label:"邮箱",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"auditing",label:"审核中",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"auditSuccess",label:"审核成功",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"auditFail",label:"审核失败",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"loaning",label:"放款中",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"loanSuccess",label:"放款成功",align:"center",width:"80",sortable:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"loanFail",label:"放款失败",align:"center",width:"80",sortable:""}})],1),e._v(" "),t("div",{staticClass:"pagination_position"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),e.showDetail?t("div",[t("el-tab-pane",{attrs:{name:"second"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 详情"),t("i",{staticClass:"el-icon-close",on:{click:function(n){return e.removeLabel(n)}}})])])],1):e._e()],1)},[],!1,null,"45fc50e9",null);n.default=i.exports},126:function(e,n,t){var a=t(453);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,t(5).default)("fc31391c",a,!0,{})},127:function(e,n,t){var a=t(455);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,t(5).default)("ed086e16",a,!0,{})},2:function(e,n,t){"use strict";var a=t(32),r=t.n(a),l=t(51),o=t.n(l),i=t(26),s=t.n(i),c=t(16),p=function(e,n){return e.title="好分期报表系统",e.ajax=function(t){e.token=c.a.getToken();var a,l=t.url,i=+new Date;if(0<=l.indexOf("api/")){var s=c.a.getOldToken();i=s.timestamp,a=s.token}else a=e.token;t.uploadFiles||(t.type&&"get"==t.type.toLowerCase()?o()(t.data):"object"===o()(t.data)&&(t.data=r()(t.data))),n.ajax({headers:{Authorization:a,Timestamp:i},url:l,type:t.type||"GET",traditional:!0,data:t.data||{},async:t.async||!0,processData:void 0===t.processData||t.processData,contentType:void 0===t.contentType?n.ajaxSettings.contentType:t.contentType,dataType:t.dataType||"json",success:function(e){return e.status&&"0"!==e.status?void(-1==e.status?(alert("警告: "+e.message),c.a.setAsLoggedOut(),location.href="/#/login"):t.error?t.error(e):alert("警告: "+e.message+"\n错误："+e.status)):void(t.success&&t.success(e))},error:function(e){t.error&&(e.response?t.error(e.response):t.error({message:"请求失败"}))},complete:t.complete||void 0,timeout:t.timeout||null})},e.hasDuplicate=function(e,n){if("[object Array]"!==Object.prototype.toString.call(n))throw new Error("invalid argument");for(var t=0,a=n.length;t<a;t++)if(e==n[t])return!0;return!1},e.formatQuery=function(e){if("[object Object]"!==Object.prototype.toString.call(e))throw new Error("invalid argument");var n=e,t="?";for(var a in n)n.hasOwnProperty(a)&&(t+=a+"="+n[a]+"&");return t},e}(p||{},s.a);n.a=p},452:function(e,n,t){"use strict";var a=t(126);t.n(a).a},453:function(e,n,t){(e.exports=t(4)(!0)).push([e.i,"\n.el-select .el-input[data-v-45fc50e9] {\n    width: 100px;\n}\n.pagination_position[data-v-45fc50e9] {\n    padding-top: 20px;\n}\n.echarts[data-v-45fc50e9] {\n    height: 300px;\n}\n","",{version:3,sources:["src/views/contents/operation/conversionRateByHour.vue"],names:[],mappings:";AAqFA;IACA,YAAA;AACA;AAEA;IACA,iBAAA;AACA;AAEA;IACA,aAAA;AACA",file:"conversionRateByHour.vue?vue&type=style&index=0&id=45fc50e9&scoped=true&lang=css&",sourcesContent:['<template>\r\n    <el-tabs v-model="activeName" @tab-click="handleClick">\r\n        <el-tab-pane label="运营报表" name="first">\r\n            <div class="p_6">\r\n                <div class="search-wrapper">\r\n                    <div class="search-content">\r\n                        <el-select v-model="searchParam.device" slot="prepend" placeholder="手机设备" style="width: 100px;">\r\n                            <el-option\r\n                                v-for="item in deviceOptions"\r\n                                :key="item.value"\r\n                                :label="item.name"\r\n                                :value="item.value">\r\n                            </el-option>\r\n                        </el-select>\r\n                        <el-date-picker\r\n                            v-model="searchParam.dateRange"\r\n                            type="daterange"\r\n                            placeholder="选择日期范围">\r\n                        </el-date-picker>\r\n                    </div>\r\n                    <div class="search-btn">\r\n                        <el-button slot="append" icon="search" @click="search" style="width:80px; ">查询</el-button>\r\n                    </div>\r\n                </div>\r\n                <el-table\r\n                    :data="tableData"\r\n                    style="width: 100%"\r\n                    border :default-sort="{prop: \'time\', order: \'descending\'}">\r\n                    <el-table-column\r\n                        type="index"\r\n                        align="center"\r\n                        width="50">\r\n                    </el-table-column>\r\n                    <el-table-column prop="date" label="日期" align="center" width="115" sortable></el-table-column>\r\n\r\n                    <el-table-column prop="hour" label="时间" align="center" width="115" sortable></el-table-column>\r\n                    <el-table-column prop="platform" label="设备" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="reg_num" label="注册用户" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="loan_num" label="借款人申请" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="Fpid_info" label="身份证扫描" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Fimg_face" label="人脸识别" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="Fbase_info" label="基本信息" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Fjob_info" label="职业信息" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="Flink_info" label="联系人信息" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Fphone_info" label="运营商验证" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Fband_bank" label="银行卡信息" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Ftaobao_info" label="淘宝" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Femail_info" label="邮箱" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="auditing" label="审核中" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="auditSuccess" label="审核成功" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="auditFail" label="审核失败" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="loaning" label="放款中" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="loanSuccess" label="放款成功" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="loanFail" label="放款失败" align="center" width="80" sortable></el-table-column>\r\n                </el-table>\r\n                <div class="pagination_position">\r\n                    <el-pagination\r\n                        @size-change="handleSizeChange"\r\n                        @current-change="handleCurrentChange"\r\n                        :current-page="currentPage"\r\n                        :page-sizes="pageSizes"\r\n                        :page-size="pageSize"\r\n                        layout="total, sizes, prev, pager, next, jumper"\r\n                        :total="total">\r\n                    </el-pagination>\r\n                </div>\r\n            </div>\r\n        </el-tab-pane>\r\n        <div v-if="showDetail">\r\n            <el-tab-pane name="second">\r\n                <span slot="label"> 详情<i class="el-icon-close" @click="removeLabel($event)"></i></span>\r\n            </el-tab-pane>\r\n        </div>\r\n    </el-tabs>\r\n</template>\r\n\r\n<style scoped>\r\n    .el-select .el-input {\r\n        width: 100px;\r\n    }\r\n\r\n    .pagination_position {\r\n        padding-top: 20px;\r\n    }\r\n\r\n    .echarts {\r\n        height: 300px;\r\n    }\r\n</style>\r\n<style>\r\n    .el-table .cell, .el-table th > div {\r\n        padding-left: 5px;\r\n        padding-right: 5px;\r\n        box-sizing: border-box;\r\n        text-overflow: ellipsis;\r\n    }\r\n</style>\r\n<script>\r\n    import Common from \'../../../utils/common\'\r\n    import {Notification} from \'element-ui\';\r\n    import formatDate from \'../../../utils/formatDate.js\'\r\n    export default{\r\n//    components:{\r\n//    },\r\n        data(){\r\n            let date = new Date();\r\n            let prevMonth = new Date(date.setDate(date.getDate() - 7));\r\n            let now = new Date();\r\n\r\n            //echats data\r\n\r\n            function randomData() {\r\n                return Math.round(Math.random() * 1000);\r\n            }\r\n\r\n            return {\r\n                deviceOptions: [{\r\n                    value: \'All\',\r\n                    name: \'All\',\r\n                }, {\r\n                    value: \'iOS\',\r\n                    name: \'iOS\',\r\n                }, {\r\n                    value: \'Android\',\r\n                    name: \'Android\'\r\n                }],\r\n                detailData: {},\r\n                searchParam: {\r\n                    device: "All",\r\n                    dateRange: [now, now],\r\n                },\r\n                activeName: \'first\',\r\n                showDetail: false,\r\n                name: \'detail\',\r\n                total: 0,\r\n                currentPage: 1,\r\n                pageSizes: [10, 20, 50, 100, 200],\r\n                pageSize: 50,\r\n                tableData: [],\r\n                select: "",\r\n            }\r\n        },\r\n        methods: {\r\n            getDevices(){\r\n                Common.ajax({\r\n                    url: \'/web/v1/options/devices\',\r\n                    type: \'POST\',\r\n                    contentType: \'application/json\',\r\n                    success: (response) => {\r\n                        if (response.data && response.data.list) {\r\n                            this.deviceOptions = response.data.list;\r\n                        }\r\n                    },\r\n                    error: (err) => {\r\n                        this.deviceOptions = [{\r\n                            value: \'All\',\r\n                            name: \'All\',\r\n                        }, {\r\n                            value: \'iOS\',\r\n                            name: \'iOS\',\r\n                        }, {\r\n                            value: \'Android\',\r\n                            name: \'Android\'\r\n                        }];\r\n                    }\r\n                });\r\n            },\r\n            search(){\r\n                let self = this;\r\n                let dateRange = self.searchParam.dateRange;\r\n                Common.ajax({\r\n                    url: "/web/v1/operation/conversionRateByHour",\r\n                    type: \'POST\',\r\n                    contentType: "application/json",\r\n                    data: {\r\n                        page: self.currentPage,\r\n                        pageSize: self.pageSize,\r\n                        device: self.searchParam.device,\r\n                        beginTime: formatDate(dateRange[0], \'yyyy-MM-dd\') + \' 00:00:00\',\r\n                        endTime: formatDate(dateRange[1], \'yyyy-MM-dd\') + \' 23:59:59\',\r\n                    },\r\n                    success(response){\r\n                        if (response.data && response.data.list) {\r\n                            let data = response.data;\r\n                            self.tableData = data.list;\r\n                            self.total = data.pageUtil.count;\r\n                        }\r\n                    },\r\n                    error(err){\r\n                        let error = err.message || err;\r\n//            err.message && this.$alert(error, \'\', {\r\n//              type: "error",\r\n//              confirmButtonText: \'知道了\'\r\n//            });\r\n                        Notification.error({\r\n                            title: \'错误\',\r\n                            message: error\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n            removeLabel(event){\r\n                event.stopPropagation();\r\n                this.activeName = \'first\';\r\n                this.showDetail = false;\r\n\r\n            },\r\n            handleSizeChange(val) {\r\n                this.pageSize = val;\r\n                this.search();\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.currentPage = val;\r\n                this.search();\r\n            },\r\n            handleClick(tab, event) {\r\n                let index = tab.index;\r\n                if (index == 0) {\r\n                    this.activeName = \'first\';\r\n                }\r\n            }\r\n        },\r\n        created(){\r\n            //this.search();\r\n        },\r\n        mounted(){\r\n            //\r\n            this.getDevices();\r\n            this.search();\r\n        }\r\n    }\r\n<\/script>\r\n']}])},454:function(e,n,t){"use strict";var a=t(127);t.n(a).a},455:function(e,n,t){(e.exports=t(4)(!0)).push([e.i,"\n.el-table .cell, .el-table th > div {\n    padding-left: 5px;\n    padding-right: 5px;\n    box-sizing: border-box;\n    text-overflow: ellipsis;\n}\n","",{version:3,sources:["src/views/contents/operation/conversionRateByHour.vue"],names:[],mappings:";AAkGA;IACA,iBAAA;IACA,kBAAA;IACA,sBAAA;IACA,uBAAA;AACA",file:"conversionRateByHour.vue?vue&type=style&index=1&lang=css&",sourcesContent:['<template>\r\n    <el-tabs v-model="activeName" @tab-click="handleClick">\r\n        <el-tab-pane label="运营报表" name="first">\r\n            <div class="p_6">\r\n                <div class="search-wrapper">\r\n                    <div class="search-content">\r\n                        <el-select v-model="searchParam.device" slot="prepend" placeholder="手机设备" style="width: 100px;">\r\n                            <el-option\r\n                                v-for="item in deviceOptions"\r\n                                :key="item.value"\r\n                                :label="item.name"\r\n                                :value="item.value">\r\n                            </el-option>\r\n                        </el-select>\r\n                        <el-date-picker\r\n                            v-model="searchParam.dateRange"\r\n                            type="daterange"\r\n                            placeholder="选择日期范围">\r\n                        </el-date-picker>\r\n                    </div>\r\n                    <div class="search-btn">\r\n                        <el-button slot="append" icon="search" @click="search" style="width:80px; ">查询</el-button>\r\n                    </div>\r\n                </div>\r\n                <el-table\r\n                    :data="tableData"\r\n                    style="width: 100%"\r\n                    border :default-sort="{prop: \'time\', order: \'descending\'}">\r\n                    <el-table-column\r\n                        type="index"\r\n                        align="center"\r\n                        width="50">\r\n                    </el-table-column>\r\n                    <el-table-column prop="date" label="日期" align="center" width="115" sortable></el-table-column>\r\n\r\n                    <el-table-column prop="hour" label="时间" align="center" width="115" sortable></el-table-column>\r\n                    <el-table-column prop="platform" label="设备" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="reg_num" label="注册用户" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="loan_num" label="借款人申请" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="Fpid_info" label="身份证扫描" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Fimg_face" label="人脸识别" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="Fbase_info" label="基本信息" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Fjob_info" label="职业信息" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="Flink_info" label="联系人信息" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Fphone_info" label="运营商验证" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Fband_bank" label="银行卡信息" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Ftaobao_info" label="淘宝" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="Femail_info" label="邮箱" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="auditing" label="审核中" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="auditSuccess" label="审核成功" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="auditFail" label="审核失败" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="loaning" label="放款中" align="center" width="80" sortable></el-table-column>\r\n                    <el-table-column prop="loanSuccess" label="放款成功" align="center" width="80"\r\n                                     sortable></el-table-column>\r\n                    <el-table-column prop="loanFail" label="放款失败" align="center" width="80" sortable></el-table-column>\r\n                </el-table>\r\n                <div class="pagination_position">\r\n                    <el-pagination\r\n                        @size-change="handleSizeChange"\r\n                        @current-change="handleCurrentChange"\r\n                        :current-page="currentPage"\r\n                        :page-sizes="pageSizes"\r\n                        :page-size="pageSize"\r\n                        layout="total, sizes, prev, pager, next, jumper"\r\n                        :total="total">\r\n                    </el-pagination>\r\n                </div>\r\n            </div>\r\n        </el-tab-pane>\r\n        <div v-if="showDetail">\r\n            <el-tab-pane name="second">\r\n                <span slot="label"> 详情<i class="el-icon-close" @click="removeLabel($event)"></i></span>\r\n            </el-tab-pane>\r\n        </div>\r\n    </el-tabs>\r\n</template>\r\n\r\n<style scoped>\r\n    .el-select .el-input {\r\n        width: 100px;\r\n    }\r\n\r\n    .pagination_position {\r\n        padding-top: 20px;\r\n    }\r\n\r\n    .echarts {\r\n        height: 300px;\r\n    }\r\n</style>\r\n<style>\r\n    .el-table .cell, .el-table th > div {\r\n        padding-left: 5px;\r\n        padding-right: 5px;\r\n        box-sizing: border-box;\r\n        text-overflow: ellipsis;\r\n    }\r\n</style>\r\n<script>\r\n    import Common from \'../../../utils/common\'\r\n    import {Notification} from \'element-ui\';\r\n    import formatDate from \'../../../utils/formatDate.js\'\r\n    export default{\r\n//    components:{\r\n//    },\r\n        data(){\r\n            let date = new Date();\r\n            let prevMonth = new Date(date.setDate(date.getDate() - 7));\r\n            let now = new Date();\r\n\r\n            //echats data\r\n\r\n            function randomData() {\r\n                return Math.round(Math.random() * 1000);\r\n            }\r\n\r\n            return {\r\n                deviceOptions: [{\r\n                    value: \'All\',\r\n                    name: \'All\',\r\n                }, {\r\n                    value: \'iOS\',\r\n                    name: \'iOS\',\r\n                }, {\r\n                    value: \'Android\',\r\n                    name: \'Android\'\r\n                }],\r\n                detailData: {},\r\n                searchParam: {\r\n                    device: "All",\r\n                    dateRange: [now, now],\r\n                },\r\n                activeName: \'first\',\r\n                showDetail: false,\r\n                name: \'detail\',\r\n                total: 0,\r\n                currentPage: 1,\r\n                pageSizes: [10, 20, 50, 100, 200],\r\n                pageSize: 50,\r\n                tableData: [],\r\n                select: "",\r\n            }\r\n        },\r\n        methods: {\r\n            getDevices(){\r\n                Common.ajax({\r\n                    url: \'/web/v1/options/devices\',\r\n                    type: \'POST\',\r\n                    contentType: \'application/json\',\r\n                    success: (response) => {\r\n                        if (response.data && response.data.list) {\r\n                            this.deviceOptions = response.data.list;\r\n                        }\r\n                    },\r\n                    error: (err) => {\r\n                        this.deviceOptions = [{\r\n                            value: \'All\',\r\n                            name: \'All\',\r\n                        }, {\r\n                            value: \'iOS\',\r\n                            name: \'iOS\',\r\n                        }, {\r\n                            value: \'Android\',\r\n                            name: \'Android\'\r\n                        }];\r\n                    }\r\n                });\r\n            },\r\n            search(){\r\n                let self = this;\r\n                let dateRange = self.searchParam.dateRange;\r\n                Common.ajax({\r\n                    url: "/web/v1/operation/conversionRateByHour",\r\n                    type: \'POST\',\r\n                    contentType: "application/json",\r\n                    data: {\r\n                        page: self.currentPage,\r\n                        pageSize: self.pageSize,\r\n                        device: self.searchParam.device,\r\n                        beginTime: formatDate(dateRange[0], \'yyyy-MM-dd\') + \' 00:00:00\',\r\n                        endTime: formatDate(dateRange[1], \'yyyy-MM-dd\') + \' 23:59:59\',\r\n                    },\r\n                    success(response){\r\n                        if (response.data && response.data.list) {\r\n                            let data = response.data;\r\n                            self.tableData = data.list;\r\n                            self.total = data.pageUtil.count;\r\n                        }\r\n                    },\r\n                    error(err){\r\n                        let error = err.message || err;\r\n//            err.message && this.$alert(error, \'\', {\r\n//              type: "error",\r\n//              confirmButtonText: \'知道了\'\r\n//            });\r\n                        Notification.error({\r\n                            title: \'错误\',\r\n                            message: error\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n            removeLabel(event){\r\n                event.stopPropagation();\r\n                this.activeName = \'first\';\r\n                this.showDetail = false;\r\n\r\n            },\r\n            handleSizeChange(val) {\r\n                this.pageSize = val;\r\n                this.search();\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.currentPage = val;\r\n                this.search();\r\n            },\r\n            handleClick(tab, event) {\r\n                let index = tab.index;\r\n                if (index == 0) {\r\n                    this.activeName = \'first\';\r\n                }\r\n            }\r\n        },\r\n        created(){\r\n            //this.search();\r\n        },\r\n        mounted(){\r\n            //\r\n            this.getDevices();\r\n            this.search();\r\n        }\r\n    }\r\n<\/script>\r\n']}])},51:function(e,n,t){e.exports=t(45)(3)}}]);
//# sourceMappingURL=15.4767abd3ddb36b7d4ed7.js.map